function FastClick(t){"use strict";var e,n=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(n,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(n,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(n,arguments)},this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(n,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(n,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(n,arguments)},FastClick.notNeeded(t)||(this.deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}!function(t,e){function n(t){var e=t.length,n=ue.type(t);return ue.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t){var e=Te[t]={};return ue.each(t.match(de)||[],function(t,n){e[n]=!0}),e}function r(t,n,i,r){if(ue.acceptData(t)){var o,s,a=ue.expando,l=t.nodeType,c=l?ue.cache:t,u=l?t[a]:t[a]&&a;if(u&&c[u]&&(r||c[u].data)||i!==e||"string"!=typeof n)return u||(u=l?t[a]=ee.pop()||ue.guid++:a),c[u]||(c[u]=l?{}:{toJSON:ue.noop}),("object"==typeof n||"function"==typeof n)&&(r?c[u]=ue.extend(c[u],n):c[u].data=ue.extend(c[u].data,n)),s=c[u],r||(s.data||(s.data={}),s=s.data),i!==e&&(s[ue.camelCase(n)]=i),"string"==typeof n?(o=s[n],null==o&&(o=s[ue.camelCase(n)])):o=s,o}}function o(t,e,n){if(ue.acceptData(t)){var i,r,o=t.nodeType,s=o?ue.cache:t,l=o?t[ue.expando]:ue.expando;if(s[l]){if(e&&(i=n?s[l]:s[l].data)){ue.isArray(e)?e=e.concat(ue.map(e,ue.camelCase)):e in i?e=[e]:(e=ue.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!a(i):!ue.isEmptyObject(i))return}(n||(delete s[l].data,a(s[l])))&&(o?ue.cleanData([t],!0):ue.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function s(t,n,i){if(i===e&&1===t.nodeType){var r="data-"+n.replace(Ee,"-$1").toLowerCase();if(i=t.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Se.test(i)?ue.parseJSON(i):i}catch(o){}ue.data(t,n,i)}else i=e}return i}function a(t){var e;for(e in t)if(("data"!==e||!ue.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return K.activeElement}catch(t){}}function h(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function d(t,e,n){if(ue.isFunction(e))return ue.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ue.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(We.test(e))return ue.filter(e,t,n);e=ue.filter(e,t)}return ue.grep(t,function(t){return ue.inArray(t,e)>=0!==n})}function p(t){var e=Ve.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function f(t,e){return ue.nodeName(t,"table")&&ue.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function m(t){return t.type=(null!==ue.find.attr(t,"type"))+"/"+t.type,t}function g(t){var e=on.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var n,i=0;null!=(n=t[i]);i++)ue._data(n,"globalEval",!e||ue._data(e[i],"globalEval"))}function y(t,e){if(1===e.nodeType&&ue.hasData(t)){var n,i,r,o=ue._data(t),s=ue._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)ue.event.add(e,n,a[n][i])}s.data&&(s.data=ue.extend({},s.data))}}function b(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ue.support.noCloneEvent&&e[ue.expando]){r=ue._data(e);for(i in r.events)ue.removeEvent(e,i,r.handle);e.removeAttribute(ue.expando)}"script"===n&&e.text!==t.text?(m(e).text=t.text,g(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ue.support.html5Clone&&t.innerHTML&&!ue.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&en.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function w(t,n){var i,r,o=0,s=typeof t.getElementsByTagName!==Y?t.getElementsByTagName(n||"*"):typeof t.querySelectorAll!==Y?t.querySelectorAll(n||"*"):e;if(!s)for(s=[],i=t.childNodes||t;null!=(r=i[o]);o++)!n||ue.nodeName(r,n)?s.push(r):ue.merge(s,w(r,n));return n===e||n&&ue.nodeName(t,n)?ue.merge([t],s):s}function x(t){en.test(t.type)&&(t.defaultChecked=t.checked)}function k(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=Tn.length;r--;)if(e=Tn[r]+n,e in t)return e;return i}function C(t,e){return t=e||t,"none"===ue.css(t,"display")||!ue.contains(t.ownerDocument,t)}function _(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=ue._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&C(i)&&(o[s]=ue._data(i,"olddisplay",M(i.nodeName)))):o[s]||(r=C(i),(n&&"none"!==n||!r)&&ue._data(i,"olddisplay",r?n:ue.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function T(t,e,n){var i=yn.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function S(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ue.css(t,n+_n[o],!0,r)),i?("content"===n&&(s-=ue.css(t,"padding"+_n[o],!0,r)),"margin"!==n&&(s-=ue.css(t,"border"+_n[o]+"Width",!0,r))):(s+=ue.css(t,"padding"+_n[o],!0,r),"padding"!==n&&(s+=ue.css(t,"border"+_n[o]+"Width",!0,r)));return s}function E(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=hn(t),s=ue.support.boxSizing&&"border-box"===ue.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=dn(t,e,o),(0>r||null==r)&&(r=t.style[e]),bn.test(r))return r;i=s&&(ue.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+S(t,e,n||(s?"border":"content"),i,o)+"px"}function M(t){var e=K,n=xn[t];return n||(n=L(t,e),"none"!==n&&n||(un=(un||ue("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(un[0].contentWindow||un[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=L(t,e),un.detach()),xn[t]=n),n}function L(t,e){var n=ue(e.createElement(t)).appendTo(e.body),i=ue.css(n[0],"display");return n.remove(),i}function D(t,e,n,i){var r;if(ue.isArray(e))ue.each(e,function(e,r){n||En.test(t)?i(t,r):D(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==ue.type(e))i(t,e);else for(r in e)D(t+"["+r+"]",e[r],n,i)}function P(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(de)||[];if(ue.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function N(t,n,i,r){function o(l){var c;return s[l]=!0,ue.each(t[l]||[],function(t,l){var u=l(n,i,r);return"string"!=typeof u||a||s[u]?a?!(c=u):e:(n.dataTypes.unshift(u),o(u),!1)}),c}var s={},a=t===Un;return o(n.dataTypes[0])||!s["*"]&&o("*")}function A(t,n){var i,r,o=ue.ajaxSettings.flatOptions||{};for(r in n)n[r]!==e&&((o[r]?t:i||(i={}))[r]=n[r]);return i&&ue.extend(!0,t,i),t}function H(t,n,i){for(var r,o,s,a,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),o===e&&(o=t.mimeType||n.getResponseHeader("Content-Type"));if(o)for(a in l)if(l[a]&&l[a].test(o)){c.unshift(a);break}if(c[0]in i)s=c[0];else{for(a in i){if(!c[0]||t.converters[a+" "+c[0]]){s=a;break}r||(r=a)}s=s||r}return s?(s!==c[0]&&c.unshift(s),i[s]):e}function I(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function $(){try{return new t.XMLHttpRequest}catch(e){}}function O(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function j(){return setTimeout(function(){Qn=e}),Qn=ue.now()}function F(t,e,n){for(var i,r=(oi[e]||[]).concat(oi["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function R(t,e,n){var i,r,o=0,s=ri.length,a=ue.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Qn||j(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),1>o&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ue.extend({},e),opts:ue.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Qn||j(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ue.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(z(u,c.opts.specialEasing);s>o;o++)if(i=ri[o].call(c,t,u,c.opts))return i;return ue.map(u,F,c),ue.isFunction(c.opts.start)&&c.opts.start.call(t,c),ue.fx.timer(ue.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(t,e){var n,i,r,o,s;for(n in t)if(i=ue.camelCase(n),r=e[i],o=t[n],ue.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ue.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function W(t,e,n){var i,r,o,s,a,l,c=this,u={},h=t.style,d=t.nodeType&&C(t),p=ue._data(t,"fxshow");n.queue||(a=ue._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ue.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===ue.css(t,"display")&&"none"===ue.css(t,"float")&&(ue.support.inlineBlockNeedsLayout&&"inline"!==M(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",ue.support.shrinkWrapBlocks||c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],ei.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(d?"hide":"show"))continue;u[i]=p&&p[i]||ue.style(t,i)}if(!ue.isEmptyObject(u)){p?"hidden"in p&&(d=p.hidden):p=ue._data(t,"fxshow",{}),o&&(p.hidden=!d),d?ue(t).show():c.done(function(){ue(t).hide()}),c.done(function(){var e;ue._removeData(t,"fxshow");for(e in u)ue.style(t,e,u[e])});for(i in u)s=F(d?p[i]:0,i,c),i in p||(p[i]=s.start,d&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function G(t,e,n,i,r){return new G.prototype.init(t,e,n,i,r)}function U(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=_n[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function B(t){return ue.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var V,q,Y=typeof e,X=t.location,K=t.document,J=K.documentElement,Z=t.jQuery,Q=t.$,te={},ee=[],ne="1.10.2",ie=ee.concat,re=ee.push,oe=ee.slice,se=ee.indexOf,ae=te.toString,le=te.hasOwnProperty,ce=ne.trim,ue=function(t,e){return new ue.fn.init(t,e,q)},he=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ge=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,we=/^-ms-/,xe=/-([\da-z])/gi,ke=function(t,e){return e.toUpperCase()},Ce=function(t){(K.addEventListener||"load"===t.type||"complete"===K.readyState)&&(_e(),ue.ready())},_e=function(){K.addEventListener?(K.removeEventListener("DOMContentLoaded",Ce,!1),t.removeEventListener("load",Ce,!1)):(K.detachEvent("onreadystatechange",Ce),t.detachEvent("onload",Ce))};ue.fn=ue.prototype={jquery:ne,constructor:ue,init:function(t,n,i){var r,o;if(!t)return this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:fe.exec(t),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(r[1]){if(n=n instanceof ue?n[0]:n,ue.merge(this,ue.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:K,!0)),me.test(r[1])&&ue.isPlainObject(n))for(r in n)ue.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=K.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(t);this.length=1,this[0]=o}return this.context=K,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ue.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),ue.makeArray(t,this))},selector:"",length:0,toArray:function(){return oe.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=ue.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ue.each(this,t,e)},ready:function(t){return ue.ready.promise().done(t),this},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(ue.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:re,sort:[].sort,splice:[].splice},ue.fn.init.prototype=ue.fn,ue.extend=ue.fn.extend=function(){var t,n,i,r,o,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||ue.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(r in o)t=a[r],i=o[r],a!==i&&(u&&i&&(ue.isPlainObject(i)||(n=ue.isArray(i)))?(n?(n=!1,s=t&&ue.isArray(t)?t:[]):s=t&&ue.isPlainObject(t)?t:{},a[r]=ue.extend(u,s,i)):i!==e&&(a[r]=i));return a},ue.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===ue&&(t.$=Q),e&&t.jQuery===ue&&(t.jQuery=Z),ue},isReady:!1,readyWait:1,holdReady:function(t){t?ue.readyWait++:ue.ready(!0)},ready:function(t){if(t===!0?!--ue.readyWait:!ue.isReady){if(!K.body)return setTimeout(ue.ready);ue.isReady=!0,t!==!0&&--ue.readyWait>0||(V.resolveWith(K,[ue]),ue.fn.trigger&&ue(K).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===ue.type(t)},isArray:Array.isArray||function(t){return"array"===ue.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?te[ae.call(t)]||"object":typeof t},isPlainObject:function(t){var n;if(!t||"object"!==ue.type(t)||t.nodeType||ue.isWindow(t))return!1;try{if(t.constructor&&!le.call(t,"constructor")&&!le.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ue.support.ownLast)for(n in t)return le.call(t,n);for(n in t);return n===e||le.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||K;var i=me.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=ue.buildFragment([t],e,r),r&&ue(r).remove(),ue.merge([],i.childNodes))},parseJSON:function(n){return t.JSON&&t.JSON.parse?t.JSON.parse(n):null===n?n:"string"==typeof n&&(n=ue.trim(n),n&&ge.test(n.replace(ye,"@").replace(be,"]").replace(ve,"")))?Function("return "+n)():(ue.error("Invalid JSON: "+n),e)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=e}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(e){e&&ue.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(we,"ms-").replace(xe,ke)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,s=t.length,a=n(t);if(i){if(a)for(;s>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(a)for(;s>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:ce&&!ce.call("﻿ ")?function(t){return null==t?"":ce.call(t)}:function(t){return null==t?"":(t+"").replace(pe,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ue.merge(i,"string"==typeof t?[t]:t):re.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(se)return se.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var i=n.length,r=t.length,o=0;if("number"==typeof i)for(;i>o;o++)t[r++]=n[o];else for(;n[o]!==e;)t[r++]=n[o++];return t.length=r,t},grep:function(t,e,n){var i,r=[],o=0,s=t.length;for(n=!!n;s>o;o++)i=!!e(t[o],o),n!==i&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,s=t.length,a=n(t),l=[];if(a)for(;s>o;o++)r=e(t[o],o,i),null!=r&&(l[l.length]=r);else for(o in t)r=e(t[o],o,i),null!=r&&(l[l.length]=r);return ie.apply([],l)},guid:1,proxy:function(t,n){var i,r,o;return"string"==typeof n&&(o=t[n],n=t,t=o),ue.isFunction(t)?(i=oe.call(arguments,2),r=function(){return t.apply(n||this,i.concat(oe.call(arguments)))},r.guid=t.guid=t.guid||ue.guid++,r):e},access:function(t,n,i,r,o,s,a){var l=0,c=t.length,u=null==i;if("object"===ue.type(i)){o=!0;for(l in i)ue.access(t,n,l,i[l],!0,s,a)}else if(r!==e&&(o=!0,ue.isFunction(r)||(a=!0),u&&(a?(n.call(t,r),n=null):(u=n,n=function(t,e,n){return u.call(ue(t),n)})),n))for(;c>l;l++)n(t[l],i,a?r:r.call(t[l],l,n(t[l],i)));return o?t:u?n.call(t):c?n(t[0],i):s},now:function(){return(new Date).getTime()},swap:function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r}}),ue.ready.promise=function(e){if(!V)if(V=ue.Deferred(),"complete"===K.readyState)setTimeout(ue.ready);else if(K.addEventListener)K.addEventListener("DOMContentLoaded",Ce,!1),t.addEventListener("load",Ce,!1);else{K.attachEvent("onreadystatechange",Ce),t.attachEvent("onload",Ce);var n=!1;try{n=null==t.frameElement&&K.documentElement}catch(i){}n&&n.doScroll&&function r(){if(!ue.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}_e(),ue.ready()}}()}return V.promise(e)},ue.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),q=ue(K),function(t,e){function n(t,e,n,i){var r,o,s,a,l,c,u,h,f,m;if((e?e.ownerDocument||e:R)!==N&&P(e),e=e||N,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(H&&!i){if(r=be.exec(t))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&j(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return te.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&C.getElementsByClassName&&e.getElementsByClassName)return te.apply(n,e.getElementsByClassName(s)),n}if(C.qsa&&(!I||!I.test(t))){if(h=u=F,f=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=d(t),(u=e.getAttribute("id"))?h=u.replace(ke,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+p(c[l]);f=pe.test(t)&&e.parentNode||e,m=c.join(",")}if(m)try{return te.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{u||e.removeAttribute("id")}}}return x(t.replace(ce,"$1"),e,n,i)}function i(){function t(n,i){return e.push(n+=" ")>T.cacheLength&&delete t[e.shift()],t[n]=i}var e=[];return t}function r(t){return t[F]=!0,t}function o(t){var e=N.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),i=t.length;i--;)T.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function h(){}function d(t,e){var i,r,o,s,a,l,c,u=U[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=T.preFilter;a;){(!i||(r=he.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=de.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ce," ")}),a=a.slice(i.length));for(s in T.filter)!(r=ve[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return e?a.length:a?n.error(t):U(t,l).slice(0)}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=W++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,c,u=z+" "+o;if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(c=e[F]||(e[F]={}),(l=c[i])&&l[0]===u){if((a=l[1])===!0||a===_)return a===!0}else if(l=c[i]=[u],l[1]=t(e,n,s)||_,l[1]===!0)return!0}}function m(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),c&&e.push(a));return s}function v(t,e,n,i,o,s){return i&&!i[F]&&(i=v(i)),o&&!o[F]&&(o=v(o,s)),r(function(r,s,a,l){var c,u,h,d=[],p=[],f=s.length,m=r||w(e||"*",a.nodeType?[a]:a,[]),v=!t||!r&&e?m:g(m,d,t,a,l),y=n?o||(r?t:f||i)?[]:s:v;if(n&&n(v,y,a,l),i)for(c=g(y,p),i(c,[],a,l),u=c.length;u--;)(h=c[u])&&(y[p[u]]=!(v[p[u]]=h));if(r){if(o||t){if(o){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(v[u]=h);o(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=o?ne.call(r,h):d[u])>-1&&(r[c]=!(s[c]=h))}}else y=g(y===s?y.splice(f,y.length):y),o?o(null,s,y,l):te.apply(s,y)})}function y(t){for(var e,n,i,r=t.length,o=T.relative[t[0].type],s=o||T.relative[" "],a=o?1:0,l=f(function(t){return t===e},s,!0),c=f(function(t){return ne.call(e,t)>-1},s,!0),u=[function(t,n,i){return!o&&(i||n!==L)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];r>a;a++)if(n=T.relative[t[a].type])u=[f(m(u),n)];else{if(n=T.filter[t[a].type].apply(null,t[a].matches),n[F]){for(i=++a;r>i&&!T.relative[t[i].type];i++);return v(a>1&&m(u),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ce,"$1"),n,i>a&&y(t.slice(a,i)),r>i&&y(t=t.slice(i)),r>i&&p(t))}u.push(n)}return m(u)}function b(t,e){var i=0,o=e.length>0,s=t.length>0,a=function(r,a,l,c,u){var h,d,p,f=[],m=0,v="0",y=r&&[],b=null!=u,w=L,x=r||s&&T.find.TAG("*",u&&a.parentNode||a),k=z+=null==w?1:Math.random()||.1;for(b&&(L=a!==N&&a,_=i);null!=(h=x[v]);v++){if(s&&h){for(d=0;p=t[d++];)if(p(h,a,l)){c.push(h);break}b&&(z=k,_=++i)}o&&((h=!p&&h)&&m--,r&&y.push(h))}if(m+=v,o&&v!==m){for(d=0;p=e[d++];)p(y,f,a,l);if(r){if(m>0)for(;v--;)y[v]||f[v]||(f[v]=Z.call(c));f=g(f)}te.apply(c,f),b&&!r&&f.length>0&&m+e.length>1&&n.uniqueSort(c)}return b&&(z=k,L=w),y};return o?r(a):a}function w(t,e,i){for(var r=0,o=e.length;o>r;r++)n(t,e[r],i);return i}function x(t,e,n,i){var r,o,s,a,l,c=d(t);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&C.getById&&9===e.nodeType&&H&&T.relative[o[1].type]){if(e=(T.find.ID(s.matches[0].replace(Ce,_e),e)||[])[0],!e)return n;t=t.slice(o.shift().value.length)}for(r=ve.needsContext.test(t)?0:o.length;r--&&(s=o[r],!T.relative[a=s.type]);)if((l=T.find[a])&&(i=l(s.matches[0].replace(Ce,_e),pe.test(o[0].type)&&e.parentNode||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return te.apply(n,i),n;break}}return M(t,c)(i,e,!H,n,pe.test(t)),n}var k,C,_,T,S,E,M,L,D,P,N,A,H,I,$,O,j,F="sizzle"+-new Date,R=t.document,z=0,W=0,G=i(),U=i(),B=i(),V=!1,q=function(t,e){return t===e?(V=!0,0):0},Y=typeof e,X=1<<31,K={}.hasOwnProperty,J=[],Z=J.pop,Q=J.push,te=J.push,ee=J.slice,ne=J.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se=oe.replace("w","w#"),ae="\\["+re+"*("+oe+")"+re+"*(?:([*^$|!~]?=)"+re+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+se+")|)|)"+re+"*\\]",le=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ae.replace(3,8)+")*)|.*)\\)|)",ce=RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),he=RegExp("^"+re+"*,"+re+"*"),de=RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),pe=RegExp(re+"*[+~]"),fe=RegExp("="+re+"*([^\\]'\"]*)"+re+"*\\]","g"),me=RegExp(le),ge=RegExp("^"+se+"$"),ve={ID:RegExp("^#("+oe+")"),CLASS:RegExp("^\\.("+oe+")"),TAG:RegExp("^("+oe.replace("w","w*")+")"),ATTR:RegExp("^"+ae),PSEUDO:RegExp("^"+le),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:RegExp("^(?:"+ie+")$","i"),needsContext:RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/^(?:input|select|textarea|button)$/i,xe=/^h\d$/i,ke=/'|\\/g,Ce=RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),_e=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{te.apply(J=ee.call(R.childNodes),R.childNodes),J[R.childNodes.length].nodeType}catch(Te){te={apply:J.length?function(t,e){Q.apply(t,ee.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}E=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},C=n.support={},P=n.setDocument=function(t){var n=t?t.ownerDocument||t:R,i=n.defaultView;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,A=n.documentElement,H=!E(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){P()}),C.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=o(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),C.getById=o(function(t){return A.appendChild(t).id=F,!n.getElementsByName||!n.getElementsByName(F).length}),C.getById?(T.find.ID=function(t,e){if(typeof e.getElementById!==Y&&H){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(t){var e=t.replace(Ce,_e);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(Ce,_e);return function(t){var n=typeof t.getAttributeNode!==Y&&t.getAttributeNode("id");return n&&n.value===e}}),T.find.TAG=C.getElementsByTagName?function(t,n){return typeof n.getElementsByTagName!==Y?n.getElementsByTagName(t):e}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},T.find.CLASS=C.getElementsByClassName&&function(t,n){return typeof n.getElementsByClassName!==Y&&H?n.getElementsByClassName(t):e},$=[],I=[],(C.qsa=ye.test(n.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||I.push("\\["+re+"*(?:value|"+ie+")"),t.querySelectorAll(":checked").length||I.push(":checked")}),o(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&I.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(C.matchesSelector=ye.test(O=A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&o(function(t){C.disconnectedMatch=O.call(t,"div"),O.call(t,"[s!='']:x"),$.push("!=",le)}),I=I.length&&RegExp(I.join("|")),$=$.length&&RegExp($.join("|")),j=ye.test(A.contains)||A.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=A.compareDocumentPosition?function(t,e){if(t===e)return V=!0,0;var i=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e);return i?1&i||!C.sortDetached&&e.compareDocumentPosition(t)===i?t===n||j(R,t)?-1:e===n||j(R,e)?1:D?ne.call(D,t)-ne.call(D,e):0:4&i?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var i,r=0,o=t.parentNode,s=e.parentNode,l=[t],c=[e];if(t===e)return V=!0,0;if(!o||!s)return t===n?-1:e===n?1:o?-1:s?1:D?ne.call(D,t)-ne.call(D,e):0;if(o===s)return a(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===R?-1:c[r]===R?1:0},n):N},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==N&&P(t),e=e.replace(fe,"='$1']"),!(!C.matchesSelector||!H||$&&$.test(e)||I&&I.test(e)))try{var i=O.call(t,e);if(i||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return n(e,N,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!==N&&P(t),j(t,e)},n.attr=function(t,n){(t.ownerDocument||t)!==N&&P(t);var i=T.attrHandle[n.toLowerCase()],r=i&&K.call(T.attrHandle,n.toLowerCase())?i(t,n,!H):e;return r===e?C.attributes||!H?t.getAttribute(n):(r=t.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],i=0,r=0;if(V=!C.detectDuplicates,D=!C.sortStable&&t.slice(0),t.sort(q),V){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return t},S=n.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=S(e);return n},T=n.selectors={cacheLength:50,createPseudo:r,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ce,_e),t[3]=(t[4]||t[5]||"").replace(Ce,_e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var n,i=!t[5]&&t[2];return ve.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:i&&me.test(i)&&(n=d(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(t[0]=t[0].slice(0,n),t[2]=i.slice(0,n)),t.slice(0,3))
}},filter:{TAG:function(t){var e=t.replace(Ce,_e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Y&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(r){var o=n.attr(r,t);return null==o?"!="===e:e?(o+="","="===e?o===i:"!="===e?o!==i:"^="===e?i&&0===o.indexOf(i):"*="===e?i&&o.indexOf(i)>-1:"$="===e?i&&o.slice(-i.length)===i:"~="===e?(" "+o+" ").indexOf(i)>-1:"|="===e?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,p,f,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(u=g[F]||(g[F]={}),c=u[t]||[],p=c[0]===z&&c[1],d=c[0]===z&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[z,p,d];break}}else if(y&&(c=(e[F]||(e[F]={}))[t])&&c[0]===z)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[F]||(h[F]={}))[t]=[z,d]),h!==e)););return d-=r,d===i||0===d%i&&d/i>=0}}},PSEUDO:function(t,e){var i,o=T.pseudos[t]||T.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return o[F]?o(e):o.length>1?(i=[t,t,"",e],T.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,n){for(var i,r=o(t,e),s=r.length;s--;)i=ne.call(t,r[s]),t[i]=!(n[i]=r[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=M(t.replace(ce,"$1"));return i[F]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:r(function(t){return function(e){return n(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:r(function(t){return ge.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(Ce,_e).toLowerCase(),function(e){var n;do if(n=H?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===A},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return xe.test(t.nodeName)},input:function(t){return we.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;e>++i;)t.push(i);return t})}},T.pseudos.nth=T.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[k]=l(k);for(k in{submit:!0,reset:!0})T.pseudos[k]=c(k);h.prototype=T.filters=T.pseudos,T.setFilters=new h,M=n.compile=function(t,e){var n,i=[],r=[],o=B[t+" "];if(!o){for(e||(e=d(t)),n=e.length;n--;)o=y(e[n]),o[F]?i.push(o):r.push(o);o=B(t,b(r,i))}return o},C.sortStable=F.split("").sort(q).join("")===F,C.detectDuplicates=V,P(),C.sortDetached=o(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,n,i){return i?e:t.getAttribute(n,"type"===n.toLowerCase()?1:2)}),C.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,n,i){return i||"input"!==t.nodeName.toLowerCase()?e:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||s(ie,function(t,n,i){var r;return i?e:(r=t.getAttributeNode(n))&&r.specified?r.value:t[n]===!0?n.toLowerCase():null}),ue.find=n,ue.expr=n.selectors,ue.expr[":"]=ue.expr.pseudos,ue.unique=n.uniqueSort,ue.text=n.getText,ue.isXMLDoc=n.isXML,ue.contains=n.contains}(t);var Te={};ue.Callbacks=function(t){t="string"==typeof t?Te[t]||i(t):ue.extend({},t);var n,r,o,s,a,l,c=[],u=!t.once&&[],h=function(e){for(r=t.memory&&e,o=!0,a=l||0,l=0,s=c.length,n=!0;c&&s>a;a++)if(c[a].apply(e[0],e[1])===!1&&t.stopOnFalse){r=!1;break}n=!1,c&&(u?u.length&&h(u.shift()):r?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;!function i(e){ue.each(e,function(e,n){var r=ue.type(n);"function"===r?t.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?s=c.length:r&&(l=e,h(r))}return this},remove:function(){return c&&ue.each(arguments,function(t,e){for(var i;(i=ue.inArray(e,c,i))>-1;)c.splice(i,1),n&&(s>=i&&s--,a>=i&&a--)}),this},has:function(t){return t?ue.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=u=r=e,this},disabled:function(){return!c},lock:function(){return u=e,r||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!c||o&&!u||(e=e||[],e=[t,e.slice?e.slice():e],n?u.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},ue.extend({Deferred:function(t){var e=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ue.Deferred(function(n){ue.each(e,function(e,o){var s=o[0],a=ue.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&ue.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ue.extend(t,i):i}},r={};return i.pipe=i.then,ue.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=oe.call(arguments),s=o.length,a=1!==s||t&&ue.isFunction(t.promise)?s:0,l=1===a?t:ue.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?oe.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=Array(s),n=Array(s),i=Array(s);s>r;r++)o[r]&&ue.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,e)):--a;return a||l.resolveWith(i,o),l.promise()}}),ue.support=function(e){var n,i,r,o,s,a,l,c,u,h=K.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*")||[],i=h.getElementsByTagName("a")[0],!i||!i.style||!n.length)return e;o=K.createElement("select"),a=o.appendChild(K.createElement("option")),r=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==h.className,e.leadingWhitespace=3===h.firstChild.nodeType,e.tbody=!h.getElementsByTagName("tbody").length,e.htmlSerialize=!!h.getElementsByTagName("link").length,e.style=/top/.test(i.getAttribute("style")),e.hrefNormalized="/a"===i.getAttribute("href"),e.opacity=/^0.5/.test(i.style.opacity),e.cssFloat=!!i.style.cssFloat,e.checkOn=!!r.value,e.optSelected=a.selected,e.enctype=!!K.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==K.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!a.disabled;try{delete h.test}catch(d){e.deleteExpando=!1}r=K.createElement("input"),r.setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),s=K.createDocumentFragment(),s.appendChild(r),e.appendChecked=r.checked,e.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){e.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),e[u+"Bubbles"]=l in t||h.attributes[l].expando===!1;h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===h.style.backgroundClip;for(u in ue(e))break;return e.ownLast="0"!==u,ue(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=K.getElementsByTagName("body")[0];s&&(n=K.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=h.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=c&&0===r[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ue.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===h.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(h,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(h,null)||{width:"4px"}).width,i=h.appendChild(K.createElement("div")),i.style.cssText=h.style.cssText=o,i.style.marginRight=i.style.width="0",h.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),typeof h.style.zoom!==Y&&(h.innerHTML="",h.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==h.offsetWidth,e.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(n),n=h=r=i=null)}),n=o=s=a=i=r=null,e}({});var Se=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ee=/([A-Z])/g;ue.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ue.cache[t[ue.expando]]:t[ue.expando],!!t&&!a(t)},data:function(t,e,n){return r(t,e,n)},removeData:function(t,e){return o(t,e)},_data:function(t,e,n){return r(t,e,n,!0)},_removeData:function(t,e){return o(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&ue.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),ue.fn.extend({data:function(t,n){var i,r,o=null,a=0,l=this[0];if(t===e){if(this.length&&(o=ue.data(l),1===l.nodeType&&!ue._data(l,"parsedAttrs"))){for(i=l.attributes;i.length>a;a++)r=i[a].name,0===r.indexOf("data-")&&(r=ue.camelCase(r.slice(5)),s(l,r,o[r]));ue._data(l,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ue.data(this,t)}):arguments.length>1?this.each(function(){ue.data(this,t,n)}):l?s(l,t,ue.data(l,t)):null},removeData:function(t){return this.each(function(){ue.removeData(this,t)})}}),ue.extend({queue:function(t,n,i){var r;return t?(n=(n||"fx")+"queue",r=ue._data(t,n),i&&(!r||ue.isArray(i)?r=ue._data(t,n,ue.makeArray(i)):r.push(i)),r||[]):e},dequeue:function(t,e){e=e||"fx";var n=ue.queue(t,e),i=n.length,r=n.shift(),o=ue._queueHooks(t,e),s=function(){ue.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ue._data(t,n)||ue._data(t,n,{empty:ue.Callbacks("once memory").add(function(){ue._removeData(t,e+"queue"),ue._removeData(t,n)})})}}),ue.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),i>arguments.length?ue.queue(this[0],t):n===e?this:this.each(function(){var e=ue.queue(this,t,n);ue._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ue.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ue.dequeue(this,t)})},delay:function(t,e){return t=ue.fx?ue.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,r=1,o=ue.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)i=ue._data(s[a],t+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var Me,Le,De=/[\t\r\n\f]/g,Pe=/\r/g,Ne=/^(?:input|select|textarea|button|object)$/i,Ae=/^(?:a|area)$/i,He=/^(?:checked|selected)$/i,Ie=ue.support.getSetAttribute,$e=ue.support.input;ue.fn.extend({attr:function(t,e){return ue.access(this,ue.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ue.removeAttr(this,t)})},prop:function(t,e){return ue.access(this,ue.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ue.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,i,r,o,s=0,a=this.length,l="string"==typeof t&&t;if(ue.isFunction(t))return this.each(function(e){ue(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(De," "):" ")){for(o=0;r=e[o++];)0>i.indexOf(" "+r+" ")&&(i+=r+" ");n.className=ue.trim(i)}return this},removeClass:function(t){var e,n,i,r,o,s=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(ue.isFunction(t))return this.each(function(e){ue(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(De," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=t?ue.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ue.isFunction(t)?this.each(function(n){ue(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=ue(this),o=t.match(de)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===Y||"boolean"===n)&&(this.className&&ue._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ue._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(De," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,i,r,o=this[0];return arguments.length?(r=ue.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=r?t.call(this,n,ue(this).val()):t,null==o?o="":"number"==typeof o?o+="":ue.isArray(o)&&(o=ue.map(o,function(t){return null==t?"":t+""})),i=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==e||(this.value=o))})):o?(i=ue.valHooks[o.type]||ue.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==e?n:(n=o.value,"string"==typeof n?n.replace(Pe,""):null==n?"":n)):void 0}}),ue.extend({valHooks:{option:{get:function(t){var e=ue.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(ue.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ue.nodeName(n.parentNode,"optgroup"))){if(e=ue(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ue.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ue.inArray(ue(i).val(),o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}},attr:function(t,n,i){var r,o,s=t.nodeType;return t&&3!==s&&8!==s&&2!==s?typeof t.getAttribute===Y?ue.prop(t,n,i):(1===s&&ue.isXMLDoc(t)||(n=n.toLowerCase(),r=ue.attrHooks[n]||(ue.expr.match.bool.test(n)?Le:Me)),i===e?r&&"get"in r&&null!==(o=r.get(t,n))?o:(o=ue.find.attr(t,n),null==o?e:o):null!==i?r&&"set"in r&&(o=r.set(t,i,n))!==e?o:(t.setAttribute(n,i+""),i):(ue.removeAttr(t,n),e)):void 0},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(de);if(o&&1===t.nodeType)for(;n=o[r++];)i=ue.propFix[n]||n,ue.expr.match.bool.test(n)?$e&&Ie||!He.test(n)?t[i]=!1:t[ue.camelCase("default-"+n)]=t[i]=!1:ue.attr(t,n,""),t.removeAttribute(Ie?n:i)},attrHooks:{type:{set:function(t,e){if(!ue.support.radioValue&&"radio"===e&&ue.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,i){var r,o,s,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?(s=1!==a||!ue.isXMLDoc(t),s&&(n=ue.propFix[n]||n,o=ue.propHooks[n]),i!==e?o&&"set"in o&&(r=o.set(t,i,n))!==e?r:t[n]=i:o&&"get"in o&&null!==(r=o.get(t,n))?r:t[n]):void 0},propHooks:{tabIndex:{get:function(t){var e=ue.find.attr(t,"tabindex");return e?parseInt(e,10):Ne.test(t.nodeName)||Ae.test(t.nodeName)&&t.href?0:-1}}}}),Le={set:function(t,e,n){return e===!1?ue.removeAttr(t,n):$e&&Ie||!He.test(n)?t.setAttribute(!Ie&&ue.propFix[n]||n,n):t[ue.camelCase("default-"+n)]=t[n]=!0,n}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(t,n){var i=ue.expr.attrHandle[n]||ue.find.attr;ue.expr.attrHandle[n]=$e&&Ie||!He.test(n)?function(t,n,r){var o=ue.expr.attrHandle[n],s=r?e:(ue.expr.attrHandle[n]=e)!=i(t,n,r)?n.toLowerCase():null;return ue.expr.attrHandle[n]=o,s}:function(t,n,i){return i?e:t[ue.camelCase("default-"+n)]?n.toLowerCase():null}}),$e&&Ie||(ue.attrHooks.value={set:function(t,n,i){return ue.nodeName(t,"input")?(t.defaultValue=n,e):Me&&Me.set(t,n,i)}}),Ie||(Me={set:function(t,n,i){var r=t.getAttributeNode(i);return r||t.setAttributeNode(r=t.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===t.getAttribute(i)?n:e}},ue.expr.attrHandle.id=ue.expr.attrHandle.name=ue.expr.attrHandle.coords=function(t,n,i){var r;return i?e:(r=t.getAttributeNode(n))&&""!==r.value?r.value:null},ue.valHooks.button={get:function(t,n){var i=t.getAttributeNode(n);return i&&i.specified?i.value:e},set:Me.set},ue.attrHooks.contenteditable={set:function(t,e,n){Me.set(t,""===e?!1:e,n)}},ue.each(["width","height"],function(t,n){ue.attrHooks[n]={set:function(t,i){return""===i?(t.setAttribute(n,"auto"),i):e}}})),ue.support.hrefNormalized||ue.each(["href","src"],function(t,e){ue.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ue.support.style||(ue.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),ue.support.optSelected||(ue.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this}),ue.support.enctype||(ue.propFix.enctype="encoding"),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(t,n){return ue.isArray(n)?t.checked=ue.inArray(ue(t).val(),n)>=0:e}},ue.support.checkOn||(ue.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Oe=/^(?:input|select|textarea)$/i,je=/^key/,Fe=/^(?:mouse|contextmenu)|click/,Re=/^(?:focusinfocus|focusoutblur)$/,ze=/^([^.]*)(?:\.(.+)|)$/;ue.event={global:{},add:function(t,n,i,r,o){var s,a,l,c,u,h,d,p,f,m,g,v=ue._data(t);if(v){for(i.handler&&(c=i,i=c.handler,o=c.selector),i.guid||(i.guid=ue.guid++),(a=v.events)||(a=v.events={}),(h=v.handle)||(h=v.handle=function(t){return typeof ue===Y||t&&ue.event.triggered===t.type?e:ue.event.dispatch.apply(h.elem,arguments)},h.elem=t),n=(n||"").match(de)||[""],l=n.length;l--;)s=ze.exec(n[l])||[],f=g=s[1],m=(s[2]||"").split(".").sort(),f&&(u=ue.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=ue.event.special[f]||{},d=ue.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&ue.expr.match.needsContext.test(o),namespace:m.join(".")},c),(p=a[f])||(p=a[f]=[],p.delegateCount=0,u.setup&&u.setup.call(t,r,m,h)!==!1||(t.addEventListener?t.addEventListener(f,h,!1):t.attachEvent&&t.attachEvent("on"+f,h))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),ue.event.global[f]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=ue.hasData(t)&&ue._data(t);if(g&&(u=g.events)){for(e=(e||"").match(de)||[""],c=e.length;c--;)if(a=ze.exec(e[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=ue.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=u[p]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(t,s));l&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||ue.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)ue.event.remove(t,p+e[c],n,i,!0);ue.isEmptyObject(u)&&(delete g.handle,ue._removeData(t,"events"))}},trigger:function(n,i,r,o){var s,a,l,c,u,h,d,p=[r||K],f=le.call(n,"type")?n.type:n,m=le.call(n,"namespace")?n.namespace.split("."):[];if(l=h=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!Re.test(f+ue.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=0>f.indexOf(":")&&"on"+f,n=n[ue.expando]?n:new ue.Event(f,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=r),i=null==i?[n]:ue.makeArray(i,[n]),u=ue.event.special[f]||{},o||!u.trigger||u.trigger.apply(r,i)!==!1)){if(!o&&!u.noBubble&&!ue.isWindow(r)){for(c=u.delegateType||f,Re.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),h=l;h===(r.ownerDocument||K)&&p.push(h.defaultView||h.parentWindow||t)}for(d=0;(l=p[d++])&&!n.isPropagationStopped();)n.type=d>1?c:u.bindType||f,s=(ue._data(l,"events")||{})[n.type]&&ue._data(l,"handle"),s&&s.apply(l,i),s=a&&l[a],s&&ue.acceptData(l)&&s.apply&&s.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!o&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),i)===!1)&&ue.acceptData(r)&&a&&r[f]&&!ue.isWindow(r)){h=r[a],h&&(r[a]=null),ue.event.triggered=f;try{r[f]()}catch(g){}ue.event.triggered=e,h&&(r[a]=h)}return n.result}},dispatch:function(t){t=ue.event.fix(t);var n,i,r,o,s,a=[],l=oe.call(arguments),c=(ue._data(this,"events")||{})[t.type]||[],u=ue.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=ue.event.handlers.call(this,t,c),n=0;(o=a[n++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,s=0;(r=o.handlers[s++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,i=((ue.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),i!==e&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,n){var i,r,o,s,a=[],l=n.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(o=[],s=0;l>s;s++)r=n[s],i=r.selector+" ",o[i]===e&&(o[i]=r.needsContext?ue(i,this).index(c)>=0:ue.find(i,this,null,[c]).length),o[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return n.length>l&&a.push({elem:this,handlers:n.slice(l)}),a},fix:function(t){if(t[ue.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Fe.test(r)?this.mouseHooks:je.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ue.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||K),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,r,o,s=n.button,a=n.fromElement;return null==t.pageX&&null!=n.clientX&&(r=t.target.ownerDocument||K,o=r.documentElement,i=r.body,t.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),t.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?n.toElement:a),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):e},delegateType:"focusout"},click:{trigger:function(){return ue.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):e},_default:function(t){return ue.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=ue.extend(new ue.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?ue.event.trigger(r,null,e):ue.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},ue.removeEvent=K.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===Y&&(t[i]=null),t.detachEvent(i,n))},ue.Event=function(t,n){return this instanceof ue.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,n&&ue.extend(this,n),this.timeStamp=t&&t.timeStamp||ue.now(),this[ue.expando]=!0,e):new ue.Event(t,n)},ue.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){ue.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!ue.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ue.support.submitBubbles||(ue.event.special.submit={setup:function(){return ue.nodeName(this,"form")?!1:(ue.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,i=ue.nodeName(n,"input")||ue.nodeName(n,"button")?n.form:e;i&&!ue._data(i,"submitBubbles")&&(ue.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),ue._data(i,"submitBubbles",!0))}),e)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ue.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ue.nodeName(this,"form")?!1:(ue.event.remove(this,"._submit"),e)}}),ue.support.changeBubbles||(ue.event.special.change={setup:function(){return Oe.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ue.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ue.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ue.event.simulate("change",this,t,!0)})),!1):(ue.event.add(this,"beforeactivate._change",function(t){var e=t.target;Oe.test(e.nodeName)&&!ue._data(e,"changeBubbles")&&(ue.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ue.event.simulate("change",this.parentNode,t,!0)}),ue._data(e,"changeBubbles",!0))}),e)},handle:function(t){var n=t.target;return this!==n||t.isSimulated||t.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?t.handleObj.handler.apply(this,arguments):e},teardown:function(){return ue.event.remove(this,"._change"),!Oe.test(this.nodeName)}}),ue.support.focusinBubbles||ue.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){ue.event.simulate(e,t.target,ue.event.fix(t),!0)};ue.event.special[e]={setup:function(){0===n++&&K.addEventListener(t,i,!0)},teardown:function(){0===--n&&K.removeEventListener(t,i,!0)}}}),ue.fn.extend({on:function(t,n,i,r,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(s in t)this.on(s,n,i,t[s],o);return this}if(null==i&&null==r?(r=n,i=n=e):null==r&&("string"==typeof n?(r=i,i=e):(r=i,i=n,n=e)),r===!1)r=c;else if(!r)return this;return 1===o&&(a=r,r=function(t){return ue().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ue.guid++)),this.each(function(){ue.event.add(this,t,r,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ue(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,n,t[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=c),this.each(function(){ue.event.remove(this,t,i,n)})},trigger:function(t,e){return this.each(function(){ue.event.trigger(t,e,this)})},triggerHandler:function(t,n){var i=this[0];return i?ue.event.trigger(t,n,i,!0):e}});var We=/^.[^:#\[\.,]*$/,Ge=/^(?:parents|prev(?:Until|All))/,Ue=ue.expr.match.needsContext,Be={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(ue(t).filter(function(){for(e=0;r>e;e++)if(ue.contains(i[e],this))return!0}));for(e=0;r>e;e++)ue.find(t,i[e],n);return n=this.pushStack(r>1?ue.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e,n=ue(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(ue.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(d(this,t||[],!0))},filter:function(t){return this.pushStack(d(this,t||[],!1))},is:function(t){return!!d(this,"string"==typeof t&&Ue.test(t)?ue(t):t||[],!1).length},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=Ue.test(t)||"string"!=typeof t?ue(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&ue.find.matchesSelector(n,t))){n=o.push(n);break}return this.pushStack(o.length>1?ue.unique(o):o)},index:function(t){return t?"string"==typeof t?ue.inArray(this[0],ue(t)):ue.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?ue(t,e):ue.makeArray(t&&t.nodeType?[t]:t),i=ue.merge(this.get(),n);return this.pushStack(ue.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ue.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ue.dir(t,"parentNode")},parentsUntil:function(t,e,n){return ue.dir(t,"parentNode",n)
},next:function(t){return h(t,"nextSibling")},prev:function(t){return h(t,"previousSibling")},nextAll:function(t){return ue.dir(t,"nextSibling")},prevAll:function(t){return ue.dir(t,"previousSibling")},nextUntil:function(t,e,n){return ue.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return ue.dir(t,"previousSibling",n)},siblings:function(t){return ue.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ue.sibling(t.firstChild)},contents:function(t){return ue.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ue.merge([],t.childNodes)}},function(t,e){ue.fn[t]=function(n,i){var r=ue.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ue.filter(i,r)),this.length>1&&(Be[t]||(r=ue.unique(r)),Ge.test(t)&&(r=r.reverse())),this.pushStack(r)}}),ue.extend({filter:function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ue.find.matchesSelector(i,t)?[i]:[]:ue.find.matches(t,ue.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,i){for(var r=[],o=t[n];o&&9!==o.nodeType&&(i===e||1!==o.nodeType||!ue(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Ve="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qe=/ jQuery\d+="(?:null|\d+)"/g,Ye=RegExp("<(?:"+Ve+")[\\s/>]","i"),Xe=/^\s+/,Ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Je=/<([\w:]+)/,Ze=/<tbody/i,Qe=/<|&#?\w+;/,tn=/<(?:script|style|link)/i,en=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(K),cn=ln.appendChild(K.createElement("div"));an.optgroup=an.option,an.tbody=an.tfoot=an.colgroup=an.caption=an.thead,an.th=an.td,ue.fn.extend({text:function(t){return ue.access(this,function(t){return t===e?ue.text(this):this.empty().append((this[0]&&this[0].ownerDocument||K).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?ue.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||ue.cleanData(w(n)),n.parentNode&&(e&&ue.contains(n.ownerDocument,n)&&v(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ue.cleanData(w(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ue.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ue.clone(this,t,e)})},html:function(t){return ue.access(this,function(t){var n=this[0]||{},i=0,r=this.length;if(t===e)return 1===n.nodeType?n.innerHTML.replace(qe,""):e;if(!("string"!=typeof t||tn.test(t)||!ue.support.htmlSerialize&&Ye.test(t)||!ue.support.leadingWhitespace&&Xe.test(t)||an[(Je.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ke,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(ue.cleanData(w(n,!1)),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=ue.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var i=t[e++],r=t[e++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),ue(this).remove(),r.insertBefore(n,i))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=ie.apply([],t);var i,r,o,s,a,l,c=0,u=this.length,h=this,d=u-1,p=t[0],f=ue.isFunction(p);if(f||!(1>=u||"string"!=typeof p||ue.support.checkClone)&&nn.test(p))return this.each(function(i){var r=h.eq(i);f&&(t[0]=p.call(this,i,r.html())),r.domManip(t,e,n)});if(u&&(l=ue.buildFragment(t,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(s=ue.map(w(l,"script"),m),o=s.length;u>c;c++)r=l,c!==d&&(r=ue.clone(r,!0,!0),o&&ue.merge(s,w(r,"script"))),e.call(this[c],r,c);if(o)for(a=s[s.length-1].ownerDocument,ue.map(s,g),c=0;o>c;c++)r=s[c],rn.test(r.type||"")&&!ue._data(r,"globalEval")&&ue.contains(a,r)&&(r.src?ue._evalUrl(r.src):ue.globalEval((r.text||r.textContent||r.innerHTML||"").replace(sn,"")));l=i=null}return this}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ue.fn[t]=function(t){for(var n,i=0,r=[],o=ue(t),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),ue(o[i])[e](n),re.apply(r,n.get());return this.pushStack(r)}}),ue.extend({clone:function(t,e,n){var i,r,o,s,a,l=ue.contains(t.ownerDocument,t);if(ue.support.html5Clone||ue.isXMLDoc(t)||!Ye.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(cn.innerHTML=t.outerHTML,cn.removeChild(o=cn.firstChild)),!(ue.support.noCloneEvent&&ue.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ue.isXMLDoc(t)))for(i=w(o),a=w(t),s=0;null!=(r=a[s]);++s)i[s]&&b(r,i[s]);if(e)if(n)for(a=a||w(t),i=i||w(o),s=0;null!=(r=a[s]);s++)y(r,i[s]);else y(t,o);return i=w(o,"script"),i.length>0&&v(i,!l&&w(t,"script")),i=a=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,s,a,l,c,u,h=t.length,d=p(e),f=[],m=0;h>m;m++)if(o=t[m],o||0===o)if("object"===ue.type(o))ue.merge(f,o.nodeType?[o]:o);else if(Qe.test(o)){for(a=a||d.appendChild(e.createElement("div")),l=(Je.exec(o)||["",""])[1].toLowerCase(),u=an[l]||an._default,a.innerHTML=u[1]+o.replace(Ke,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!ue.support.leadingWhitespace&&Xe.test(o)&&f.push(e.createTextNode(Xe.exec(o)[0])),!ue.support.tbody)for(o="table"!==l||Ze.test(o)?"<table>"!==u[1]||Ze.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)ue.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ue.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(e.createTextNode(o));for(a&&d.removeChild(a),ue.support.appendChecked||ue.grep(w(f,"input"),x),m=0;o=f[m++];)if((!i||-1===ue.inArray(o,i))&&(s=ue.contains(o.ownerDocument,o),a=w(d.appendChild(o),"script"),s&&v(a),n))for(r=0;o=a[r++];)rn.test(o.type||"")&&n.push(o);return a=null,d},cleanData:function(t,e){for(var n,i,r,o,s=0,a=ue.expando,l=ue.cache,c=ue.support.deleteExpando,u=ue.event.special;null!=(n=t[s]);s++)if((e||ue.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?ue.event.remove(n,i):ue.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[a]:typeof n.removeAttribute!==Y?n.removeAttribute(a):n[a]=null,ee.push(r))}},_evalUrl:function(t){return ue.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ue.fn.extend({wrapAll:function(t){if(ue.isFunction(t))return this.each(function(e){ue(this).wrapAll(t.call(this,e))});if(this[0]){var e=ue(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ue.isFunction(t)?this.each(function(e){ue(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ue(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ue.isFunction(t);return this.each(function(n){ue(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}});var un,hn,dn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=RegExp("^("+he+")(.*)$","i"),bn=RegExp("^("+he+")(?!px)[a-z%]+$","i"),wn=RegExp("^([+-])=("+he+")","i"),xn={BODY:"block"},kn={position:"absolute",visibility:"hidden",display:"block"},Cn={letterSpacing:0,fontWeight:400},_n=["Top","Right","Bottom","Left"],Tn=["Webkit","O","Moz","ms"];ue.fn.extend({css:function(t,n){return ue.access(this,function(t,n,i){var r,o,s={},a=0;if(ue.isArray(n)){for(o=hn(t),r=n.length;r>a;a++)s[n[a]]=ue.css(t,n[a],!1,o);return s}return i!==e?ue.style(t,n,i):ue.css(t,n)},t,n,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){C(this)?ue(this).show():ue(this).hide()})}}),ue.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=dn(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,l=ue.camelCase(n),c=t.style;if(n=ue.cssProps[l]||(ue.cssProps[l]=k(c,l)),a=ue.cssHooks[n]||ue.cssHooks[l],i===e)return a&&"get"in a&&(o=a.get(t,!1,r))!==e?o:c[n];if(s=typeof i,"string"===s&&(o=wn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(ue.css(t,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||ue.cssNumber[l]||(i+="px"),ue.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(i=a.set(t,i,r))===e)))try{c[n]=i}catch(u){}}},css:function(t,n,i,r){var o,s,a,l=ue.camelCase(n);return n=ue.cssProps[l]||(ue.cssProps[l]=k(t.style,l)),a=ue.cssHooks[n]||ue.cssHooks[l],a&&"get"in a&&(s=a.get(t,!0,i)),s===e&&(s=dn(t,n,r)),"normal"===s&&n in Cn&&(s=Cn[n]),""===i||i?(o=parseFloat(s),i===!0||ue.isNumeric(o)?o||0:s):s}}),t.getComputedStyle?(hn=function(e){return t.getComputedStyle(e,null)},dn=function(t,n,i){var r,o,s,a=i||hn(t),l=a?a.getPropertyValue(n)||a[n]:e,c=t.style;return a&&(""!==l||ue.contains(t.ownerDocument,t)||(l=ue.style(t,n)),bn.test(l)&&vn.test(n)&&(r=c.width,o=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=r,c.minWidth=o,c.maxWidth=s)),l}):K.documentElement.currentStyle&&(hn=function(t){return t.currentStyle},dn=function(t,n,i){var r,o,s,a=i||hn(t),l=a?a[n]:e,c=t.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!mn.test(n)&&(r=c.left,o=t.runtimeStyle,s=o&&o.left,s&&(o.left=t.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,s&&(o.left=s)),""===l?"auto":l}),ue.each(["height","width"],function(t,n){ue.cssHooks[n]={get:function(t,i,r){return i?0===t.offsetWidth&&gn.test(ue.css(t,"display"))?ue.swap(t,kn,function(){return E(t,n,r)}):E(t,n,r):e},set:function(t,e,i){var r=i&&hn(t);return T(t,e,i?S(t,n,i,ue.support.boxSizing&&"border-box"===ue.css(t,"boxSizing",!1,r),r):0)}}}),ue.support.opacity||(ue.cssHooks.opacity={get:function(t,e){return fn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=ue.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ue.trim(o.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=pn.test(o)?o.replace(pn,r):o+" "+r)}}),ue(function(){ue.support.reliableMarginRight||(ue.cssHooks.marginRight={get:function(t,n){return n?ue.swap(t,{display:"inline-block"},dn,[t,"marginRight"]):e}}),!ue.support.pixelPosition&&ue.fn.position&&ue.each(["top","left"],function(t,n){ue.cssHooks[n]={get:function(t,i){return i?(i=dn(t,n),bn.test(i)?ue(t).position()[n]+"px":i):e}}})}),ue.expr&&ue.expr.filters&&(ue.expr.filters.hidden=function(t){return 0>=t.offsetWidth&&0>=t.offsetHeight||!ue.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||ue.css(t,"display"))},ue.expr.filters.visible=function(t){return!ue.expr.filters.hidden(t)}),ue.each({margin:"",padding:"",border:"Width"},function(t,e){ue.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+_n[i]+e]=o[i]||o[i-2]||o[0];return r}},vn.test(t)||(ue.cssHooks[t+e].set=T)});var Sn=/%20/g,En=/\[\]$/,Mn=/\r?\n/g,Ln=/^(?:submit|button|image|reset|file)$/i,Dn=/^(?:input|select|textarea|keygen)/i;ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ue.prop(this,"elements");return t?ue.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ue(this).is(":disabled")&&Dn.test(this.nodeName)&&!Ln.test(t)&&(this.checked||!en.test(t))}).map(function(t,e){var n=ue(this).val();return null==n?null:ue.isArray(n)?ue.map(n,function(t){return{name:e.name,value:t.replace(Mn,"\r\n")}}):{name:e.name,value:n.replace(Mn,"\r\n")}}).get()}}),ue.param=function(t,n){var i,r=[],o=function(t,e){e=ue.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(t)||t.jquery&&!ue.isPlainObject(t))ue.each(t,function(){o(this.name,this.value)});else for(i in t)D(i,t[i],n,o);return r.join("&").replace(Sn,"+")},ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ue.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ue.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Pn,Nn,An=ue.now(),Hn=/\?/,In=/#.*$/,$n=/([?&])_=[^&]*/,On=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fn=/^(?:GET|HEAD)$/,Rn=/^\/\//,zn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Wn=ue.fn.load,Gn={},Un={},Bn="*/".concat("*");try{Nn=X.href}catch(Vn){Nn=K.createElement("a"),Nn.href="",Nn=Nn.href}Pn=zn.exec(Nn.toLowerCase())||[],ue.fn.load=function(t,n,i){if("string"!=typeof t&&Wn)return Wn.apply(this,arguments);var r,o,s,a=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),ue.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(s="POST"),a.length>0&&ue.ajax({url:t,type:s,dataType:"html",data:n}).done(function(t){o=arguments,a.html(r?ue("<div>").append(ue.parseHTML(t)).find(r):t)}).complete(i&&function(t,e){a.each(i,o||[t.responseText,e,t])}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ue.fn[e]=function(t){return this.on(e,t)}}),ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nn,type:"GET",isLocal:jn.test(Pn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?A(A(t,ue.ajaxSettings),e):A(ue.ajaxSettings,t)},ajaxPrefilter:P(Gn),ajaxTransport:P(Un),ajax:function(t,n){function i(t,n,i,r){var o,h,y,b,x,C=n;2!==w&&(w=2,l&&clearTimeout(l),u=e,a=r||"",k.readyState=t>0?4:0,o=t>=200&&300>t||304===t,i&&(b=H(d,k,i)),b=I(d,b,k,o),o?(d.ifModified&&(x=k.getResponseHeader("Last-Modified"),x&&(ue.lastModified[s]=x),x=k.getResponseHeader("etag"),x&&(ue.etag[s]=x)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=b.state,h=b.data,y=b.error,o=!y)):(y=C,(t||!C)&&(C="error",0>t&&(t=0))),k.status=t,k.statusText=(n||C)+"",o?m.resolveWith(p,[h,C,k]):m.rejectWith(p,[k,C,y]),k.statusCode(v),v=e,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[k,d,o?h:y]),g.fireWith(p,[k,C]),c&&(f.trigger("ajaxComplete",[k,d]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var r,o,s,a,l,c,u,h,d=ue.ajaxSetup({},n),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ue(p):ue.event,m=ue.Deferred(),g=ue.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,x="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!h)for(h={};e=On.exec(a);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||x;return u&&u.abort(e),i(0,e),this}};if(m.promise(k).complete=g.add,k.success=k.done,k.error=k.fail,d.url=((t||d.url||Nn)+"").replace(In,"").replace(Rn,Pn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ue.trim(d.dataType||"*").toLowerCase().match(de)||[""],null==d.crossDomain&&(r=zn.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Pn[1]&&r[2]===Pn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Pn[3]||("http:"===Pn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ue.param(d.data,d.traditional)),N(Gn,d,n,k),2===w)return k;c=d.global,c&&0===ue.active++&&ue.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Fn.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(Hn.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=$n.test(s)?s.replace($n,"$1_="+An++):s+(Hn.test(s)?"&":"?")+"_="+An++)),d.ifModified&&(ue.lastModified[s]&&k.setRequestHeader("If-Modified-Since",ue.lastModified[s]),ue.etag[s]&&k.setRequestHeader("If-None-Match",ue.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Bn+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)k.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(p,k,d)===!1||2===w))return k.abort();x="abort";for(o in{success:1,error:1,complete:1})k[o](d[o]);if(u=N(Un,d,n,k)){k.readyState=1,c&&f.trigger("ajaxSend",[k,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},d.timeout));try{w=1,u.send(y,i)}catch(C){if(!(2>w))throw C;i(-1,C)}}else i(-1,"No Transport");return k},getJSON:function(t,e,n){return ue.get(t,e,n,"json")},getScript:function(t,n){return ue.get(t,e,n,"script")}}),ue.each(["get","post"],function(t,n){ue[n]=function(t,i,r,o){return ue.isFunction(i)&&(o=o||r,r=i,i=e),ue.ajax({url:t,type:n,dataType:o,data:i,success:r})}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ue.globalEval(t),t}}}),ue.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ue.ajaxTransport("script",function(t){if(t.crossDomain){var n,i=K.head||ue("head")[0]||K.documentElement;return{send:function(e,r){n=K.createElement("script"),n.async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,e){(e||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,e||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(e,!0)}}}});var qn=[],Yn=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qn.pop()||ue.expando+"_"+An++;return this[t]=!0,t}}),ue.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,l=n.jsonp!==!1&&(Yn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=ue.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Yn,"$1"+o):n.jsonp!==!1&&(n.url+=(Hn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||ue.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=t[o],t[o]=function(){a=arguments},r.always(function(){t[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,qn.push(o)),a&&ue.isFunction(s)&&s(a[0]),a=s=e}),"script"):e});var Xn,Kn,Jn=0,Zn=t.ActiveXObject&&function(){var t;for(t in Xn)Xn[t](e,!0)};ue.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&$()||O()}:$,Kn=ue.ajaxSettings.xhr(),ue.support.cors=!!Kn&&"withCredentials"in Kn,Kn=ue.support.ajax=!!Kn,Kn&&ue.ajaxTransport(function(n){if(!n.crossDomain||ue.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(t,r){var a,c,u,h;try{if(i&&(r||4===l.readyState))if(i=e,s&&(l.onreadystatechange=ue.noop,Zn&&delete Xn[s]),r)4!==l.readyState&&l.abort();else{h={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(h.text=l.responseText);try{u=l.statusText}catch(d){u=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(p){r||o(-1,p)}h&&o(a,u,h,c)},n.async?4===l.readyState?setTimeout(i):(s=++Jn,Zn&&(Xn||(Xn={},ue(t).unload(Zn)),Xn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(e,!0)}}}});var Qn,ti,ei=/^(?:toggle|show|hide)$/,ni=RegExp("^(?:([+-])=|)("+he+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[W],oi={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=ni.exec(e),o=r&&r[3]||(ue.cssNumber[t]?"":"px"),s=(ue.cssNumber[t]||"px"!==o&&+i)&&ni.exec(ue.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,ue.style(n.elem,t,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};ue.Animation=ue.extend(R,{tweener:function(t,e){ue.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],oi[n]=oi[n]||[],oi[n].unshift(e)},prefilter:function(t,e){e?ri.unshift(t):ri.push(t)}}),ue.Tween=G,G.prototype={constructor:G,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ue.cssNumber[n]?"":"px")},cur:function(){var t=G.propHooks[this.prop];return t&&t.get?t.get(this):G.propHooks._default.get(this)},run:function(t){var e,n=G.propHooks[this.prop];return this.pos=e=this.options.duration?ue.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ue.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ue.fx.step[t.prop]?ue.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ue.cssProps[t.prop]]||ue.cssHooks[t.prop])?ue.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ue.each(["toggle","show","hide"],function(t,e){var n=ue.fn[e];ue.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(U(e,!0),t,i,r)}}),ue.fn.extend({fadeTo:function(t,e,n,i){return this.filter(C).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ue.isEmptyObject(t),o=ue.speed(e,n,i),s=function(){var e=R(this,ue.extend({},t),o);(r||ue._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=ue.timers,s=ue._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&ii.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(i),e=!1,o.splice(n,1));(e||!i)&&ue.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ue._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ue.timers,s=i?i.length:0;for(n.finish=!0,ue.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ue.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ue.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ue.speed=function(t,e,n){var i=t&&"object"==typeof t?ue.extend({},t):{complete:n||!n&&e||ue.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ue.isFunction(e)&&e};return i.duration=ue.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ue.fx.speeds?ue.fx.speeds[i.duration]:ue.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ue.isFunction(i.old)&&i.old.call(this),i.queue&&ue.dequeue(this,i.queue)},i},ue.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ue.timers=[],ue.fx=G.prototype.init,ue.fx.tick=function(){var t,n=ue.timers,i=0;for(Qn=ue.now();n.length>i;i++)t=n[i],t()||n[i]!==t||n.splice(i--,1);n.length||ue.fx.stop(),Qn=e},ue.fx.timer=function(t){t()&&ue.timers.push(t)&&ue.fx.start()},ue.fx.interval=13,ue.fx.start=function(){ti||(ti=setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){clearInterval(ti),ti=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fx.step={},ue.expr&&ue.expr.filters&&(ue.expr.filters.animated=function(t){return ue.grep(ue.timers,function(e){return t===e.elem}).length}),ue.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){ue.offset.setOffset(this,t,e)});var n,i,r={top:0,left:0},o=this[0],s=o&&o.ownerDocument;return s?(n=s.documentElement,ue.contains(n,o)?(typeof o.getBoundingClientRect!==Y&&(r=o.getBoundingClientRect()),i=B(s),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r):void 0},ue.offset={setOffset:function(t,e,n){var i=ue.css(t,"position");"static"===i&&(t.style.position="relative");var r,o,s=ue(t),a=s.offset(),l=ue.css(t,"top"),c=ue.css(t,"left"),u=("absolute"===i||"fixed"===i)&&ue.inArray("auto",[l,c])>-1,h={},d={};u?(d=s.position(),r=d.top,o=d.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),ue.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):s.css(h)}},ue.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ue.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ue.nodeName(t[0],"html")||(n=t.offset()),n.top+=ue.css(t[0],"borderTopWidth",!0),n.left+=ue.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ue.css(i,"marginTop",!0),left:e.left-n.left-ue.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||J;t&&!ue.nodeName(t,"html")&&"static"===ue.css(t,"position");)t=t.offsetParent;return t||J})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i=/Y/.test(n);ue.fn[t]=function(r){return ue.access(this,function(t,r,o){var s=B(t);return o===e?s?n in s?s[n]:s.document.documentElement[r]:t[r]:(s?s.scrollTo(i?ue(s).scrollLeft():o,i?o:ue(s).scrollTop()):t[r]=o,e)},t,r,arguments.length,null)}}),ue.each({Height:"height",Width:"width"},function(t,n){ue.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,r){ue.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return ue.access(this,function(n,i,r){var o;return ue.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):r===e?ue.css(n,i,a):ue.style(n,i,r,a)},n,s?r:e,s,null)}})}),ue.fn.size=function(){return this.length},ue.fn.andSelf=ue.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ue:(t.jQuery=t.$=ue,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ue}))}(window),function(t,e){function n(e,n){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(s=t("img[usemap=#"+o+"]")[0],!!s&&i(s)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,r,o=t(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function r(e,n,i,r){return t.each(o,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?a["inner"+i].call(this):this.each(function(){t(this).css(s,r(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(s,r(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)
}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;r.length>i;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0?!0:(e[i]=1,r=e[i]>0,e[i]=0,r)}})}(jQuery),function(t,e){var n=0,i=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(o){}r(e)},t.widget=function(n,i,r){var o,s,a,l,c={},u=n.split(".")[0];n=n.split(".")[1],o=u+"-"+n,r||(r=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[u]=t[u]||{},s=t[u][n],a=t[u][n]=function(t,n){return this._createWidget?(arguments.length&&this._createWidget(t,n),e):new a(t,n)},t.extend(a,s,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),l=new i,l.options=t.widget.extend({},l.options),t.each(r,function(n,r){return t.isFunction(r)?(c[n]=function(){var t=function(){return i.prototype[n].apply(this,arguments)},e=function(t){return i.prototype[n].apply(this,t)};return function(){var n,i=this._super,o=this._superApply;return this._super=t,this._superApply=e,n=r.apply(this,arguments),this._super=i,this._superApply=o,n}}(),e):(c[n]=r,e)}),a.prototype=t.widget.extend(l,{widgetEventPrefix:s?l.widgetEventPrefix:n},c,{constructor:a,namespace:u,widgetName:n,widgetFullName:o}),s?(t.each(s._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete s._childConstructors):i._childConstructors.push(a),t.widget.bridge(n,a)},t.widget.extend=function(n){for(var r,o,s=i.call(arguments,1),a=0,l=s.length;l>a;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==e&&(n[r]=t.isPlainObject(o)?t.isPlainObject(n[r])?t.widget.extend({},n[r],o):t.widget.extend({},o):o);return n},t.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;t.fn[n]=function(s){var a="string"==typeof s,l=i.call(arguments,1),c=this;return s=!a&&l.length?t.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var i,r=t.data(this,o);return r?t.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,l),i!==r&&i!==e?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):e):t.error("no such method '"+s+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+s+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(s||{})._init():t.data(this,o,new r(s,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var r,o,s,a=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(o=a[n]=t.widget.extend({},this.options[n]),s=0;r.length-1>s;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(n=r.pop(),i===e)return o[n]===e?null:o[n];o[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,i,r){var o,s=this;"boolean"!=typeof n&&(r=i,i=n,n=!1),r?(i=o=t(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,o=this.widget()),t.each(r,function(r,a){function l(){return n||s.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):e}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||t.guid++);var c=r.match(/^(\w+)\s*(.*)$/),u=c[1]+s.eventNamespace,h=c[2];h?o.delegate(h,u,l):i.bind(u,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?t(n.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var n=this.options;return this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;return r.containment?"window"===r.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===r.containment?(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):r.containment.constructor===Array?(this.containment=r.containment,void 0):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],i&&(e="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(e){var n,i,r,o,s=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,c=e.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n){var i=t(this).data("ui-draggable"),r=i.options,o=t.extend({},n,{item:i.element});i.sortables=[],t(r.connectToSortable).each(function(){var n=t.data(this,"ui-sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",e,o))})},stop:function(e,n){var i=t(this).data("ui-draggable"),r=t.extend({},n,{item:i.element});t.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,n){var i=t(this).data("ui-draggable"),r=this;t.each(i.sortables,function(){var o=!1,s=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",e),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",e),i.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),n=t(this).data("ui-draggable").options;e.css("cursor")&&(n._cursor=e.css("cursor")),e.css("cursor",n.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n){var i=t(n.helper),r=t(this).data("ui-draggable").options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(e,n){var i=t(this).data("ui-draggable").options;i._opacity&&t(n.helper).css("opacity",i._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var n=t(this).data("ui-draggable"),i=n.options,r=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-t(document).scrollTop()<i.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-i.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<i.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-t(document).scrollLeft()<i.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-i.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<i.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+i.scrollSpeed)))),r!==!1&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),n=e.options;e.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=t(this),i=n.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(e,n){var i,r,o,s,a,l,c,u,h,d,p=t(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=n.offset.left,v=g+p.helperProportions.width,y=n.offset.top,b=y+p.helperProportions.height;for(h=p.snapElements.length-1;h>=0;h--)a=p.snapElements[h].left,l=a+p.snapElements[h].width,c=p.snapElements[h].top,u=c+p.snapElements[h].height,a-m>v||g>l+m||c-m>b||y>u+m||!t.contains(p.snapElements[h].item.ownerDocument,p.snapElements[h].item)?(p.snapElements[h].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(i=m>=Math.abs(c-b),r=m>=Math.abs(u-y),o=m>=Math.abs(a-v),s=m>=Math.abs(l-g),i&&(n.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),r&&(n.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=i||r||o||s,"outer"!==f.snapMode&&(i=m>=Math.abs(c-y),r=m>=Math.abs(u-b),o=m>=Math.abs(a-g),s=m>=Math.abs(l-v),i&&(n.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),r&&(n.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[h].snapping&&(i||r||o||s||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=i||r||o||s||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,n=this.data("ui-draggable").options,i=t.makeArray(t(n.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});i.length&&(e=parseInt(t(i[0]).css("zIndex"),10)||0,t(i).each(function(n){t(this).css("zIndex",e+n)}),this.css("zIndex",e+i.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n){var i=t(n.helper),r=t(this).data("ui-draggable").options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(e,n){var i=t(this).data("ui-draggable").options;i._zIndex&&t(n.helper).css("zIndex",i._zIndex)}})}(jQuery),function(){"use strict";$.expr[":"].containsExact=function(t,e,n){return(t.textContent||t.innerText||$(t).text()||"")===n[3]},$.fn.center=function(t){var e=$(window),n=$.extend({animate:!0,successTrigger:"centered"},t);return this.each(function(){var t=$(this);t.css({position:"absolute"}),n.animate?t.animate({left:e.width()/2-t.outerWidth()/2+"px",top:e.height()/2-t.outerHeight()/2+"px"}):t.css({left:e.width()/2-t.outerWidth()/2+"px",top:e.height()/2-t.outerHeight()/2+"px"}),$(window).trigger(n.successTrigger)})},$.fn.transitionDuration=function(){var t=$(this);return t.css("transition-duration")?Math.round(1e3*parseFloat(this.css("transition-duration"))):this.css("-webkit-transition-duration")?Math.round(1e3*parseFloat(this.css("-webkit-transition-duration"))):this.css("-ms-transition-duration")?Math.round(1e3*parseFloat(this.css("-ms-transition-duration"))):this.css("-moz-transition-duration")?Math.round(1e3*parseFloat(this.css("-moz-transition-duration"))):this.css("-o-transition-duration")?Math.round(1e3*parseFloat(this.css("-o-transition-duration"))):0},$.fn.scrollClass=function(t){var e=$.extend({target:"","class-name":"scrolling",offset:1},t);return this.each(function(){var t=$(this),n=t;e.target&&(n=$(e.target)),t.scroll(function(){t.scrollTop()>e.offset?n.addClass(e["class-name"]):n.removeClass(e["class-name"])})})},$.fn.selectText=function(){var t,e,n=this[0];document.body.createTextRange?(t=document.body.createTextRange(),t.moveToElementText(n),t.select()):window.getSelection&&(e=window.getSelection(),t=document.createRange(),t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t))},$.fn.hideAway=function(t){var e=$(this);return $("body").on("click",function(n){var i=$(n.target),r=e.selector;i.parents().is(r+":visible")||i.is(r+":visible")||(t?t($("body").find(r+":visible")):($("body").find(r+":visible").fadeOut(150),$("[data-toggle].active").removeClass("active")))}),this},$(".overlay").hideAway(),$.pluralize=function(t,e){var n=[t," ",e];return 1===t?n.join(""):n.concat("s").join("")}}(),function(t){"use strict";var e;e=function(e,n){var i='<div class="js-url"><input class="url js-upload-url" type="url" placeholder="http://"/></div>',r='<a class="image-cancel js-cancel" title="Delete"><span class="hidden">Delete</span></a>',o=t("<div />",{"class":"js-upload-progress progress progress-success active",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100"}).append(t("<div />",{"class":"js-upload-progress-bar bar",style:"width:0%"}));t.extend(this,{complete:function(i){function r(n,i){e.find("img.js-upload-target").attr({width:n,height:i}).css({display:"block"}),e.find(".fileupload-loading").remove(),e.css({height:"auto"}),e.delay(250).animate({opacity:100},1e3,function(){t(".js-button-accept").prop("disabled",!1),l.init()})}function s(t){e.animate({opacity:0},250,function(){e.removeClass("image-uploader").addClass("pre-image-uploader"),e.css({minHeight:0}),l.removeExtras(),e.animate({height:t.height()},250,function(){r(t.width(),t.height())})})}function a(){var t=e.find("img.js-upload-target").attr({src:"",width:"auto",height:"auto"});o.animate({opacity:0},250,function(){e.find("span.media").after('<img class="fileupload-loading"  src="'+Ghost.paths.subdir+'/ghost/img/loadingcat.gif" />'),n.editor||o.find(".fileupload-loading").css({top:"56px"})}),e.trigger("uploadsuccess",[i]),t.one("load",function(){s(t)}).attr("src",i)}var l=this;a()},bindFileUpload:function(){var i=this;e.find(".js-fileupload").fileupload().fileupload("option",{url:Ghost.paths.subdir+"/ghost/upload/",headers:{"X-CSRF-Token":t("meta[name='csrf-param']").attr("content")},add:function(i,r){t(".js-button-accept").prop("disabled",!0),e.find(".js-fileupload").removeClass("right"),e.find(".js-url").remove(),o.find(".js-upload-progress-bar").removeClass("fail"),e.trigger("uploadstart",[e.attr("id")]),e.find("span.media, div.description, a.image-url, a.image-webcam").animate({opacity:0},250,function(){e.find("div.description").hide().css({opacity:100}),n.progressbar&&(e.find("div.js-fail").after(o),o.animate({opacity:100},250)),r.submit()})},dropZone:n.fileStorage?e:null,progressall:function(t,i){var r=parseInt(i.loaded/i.total*100,10);n.editor||o.find("div.js-progress").css({position:"absolute",top:"40px"}),n.progressbar&&(e.trigger("uploadprogress",[r,i]),o.find(".js-upload-progress-bar").css("width",r+"%"))},fail:function(n,r){t(".js-button-accept").prop("disabled",!1),e.trigger("uploadfailure",[r.result]),e.find(".js-upload-progress-bar").addClass("fail"),413===r.jqXHR.status?e.find("div.js-fail").text("The image you uploaded was too big."):415===r.jqXHR.status?e.find("div.js-fail").text("The image type you uploaded is not supported. Please use .PNG, .JPG, .GIF, .SVG."):e.find("div.js-fail").text("Something went wrong :("),e.find("div.js-fail, button.js-fail").fadeIn(1500),e.find("button.js-fail").on("click",function(){e.css({minHeight:0}),e.find("div.description").show(),i.removeExtras(),i.init()
})},done:function(t,e){i.complete(e.result)}})},buildExtras:function(){e.find("span.media")[0]||e.prepend('<span class="media"><span class="hidden">Image Upload</span></span>'),e.find("div.description")[0]||e.append('<div class="description">Add image</div>'),e.find("div.js-fail")[0]||e.append('<div class="js-fail failed" style="display: none">Something went wrong :(</div>'),e.find("button.js-fail")[0]||e.append('<button class="js-fail button-add" style="display: none">Try Again</button>'),e.find("a.image-url")[0]||e.append('<a class="image-url" title="Add image from URL"><span class="hidden">URL</span></a>')},removeExtras:function(){e.find("span.media, div.js-upload-progress, a.image-url, a.image-upload, a.image-webcam, div.js-fail, button.js-fail, a.js-cancel").remove()},initWithDropzone:function(){var t=this;return e.find("img.js-upload-target").css({display:"none"}),e.removeClass("pre-image-uploader image-uploader-url").addClass("image-uploader"),this.removeExtras(),this.buildExtras(),this.bindFileUpload(),n.fileStorage?(e.find("a.image-url").on("click",function(){t.initUrl()}),void 0):(t.initUrl(),void 0)},initUrl:function(){var t,o=this;this.removeExtras(),e.addClass("image-uploader-url").removeClass("pre-image-uploader"),e.find(".js-fileupload").addClass("right"),n.fileStorage&&e.append(r),e.find(".js-cancel").on("click",function(){e.find(".js-url").remove(),e.find(".js-fileupload").removeClass("right"),o.removeExtras(),o.initWithDropzone()}),e.find("div.description").before(i),n.editor&&e.find("div.js-url").append('<button class="js-button-accept button-save">Save</button>'),e.find(".js-button-accept").on("click",function(){t=e.find(".js-upload-url").val(),e.find("div.description").hide(),e.find(".js-fileupload").removeClass("right"),e.find(".js-url").remove(),""===t?(e.trigger("uploadsuccess","http://"),o.initWithDropzone()):o.complete(t)}),n.fileStorage!==!1&&e.append('<a class="image-upload" title="Add image"><span class="hidden">Upload</span></a>'),e.find("a.image-upload").on("click",function(){e.find(".js-url").remove(),e.find(".js-fileupload").removeClass("right"),o.initWithDropzone()})},initWithImage:function(){var t=this;e.removeClass("image-uploader image-uploader-url").addClass("pre-image-uploader"),e.find("div.description").hide(),e.append(r),e.find(".js-cancel").on("click",function(){e.find("img.js-upload-target").attr({src:""}),e.find("div.description").show(),e.delay(2500).animate({opacity:100},1e3,function(){t.init()}),e.trigger("uploadsuccess","http://"),t.initWithDropzone()})},init:function(){e.find("img.js-upload-target")[0]||e.prepend('<img class="js-upload-target" style="display: none"  src="" />'),t(".js-button-accept").prop("disabled",!1),""===e.find("img.js-upload-target").attr("src")?this.initWithDropzone():this.initWithImage()}})},t.fn.upload=function(n){var i=t.extend({progressbar:!0,editor:!1,fileStorage:!0},n);return this.each(function(){var n,r=t(this);n=new e(r,i),n.init()})}}(jQuery),function(){var t=this,e=t._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,s=i.push,a=i.slice,l=i.concat,c=r.toString,u=r.hasOwnProperty,h=i.forEach,d=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,x=Object.keys,k=o.bind,C=function(t){return t instanceof C?t:this instanceof C?(this._wrapped=t,void 0):new C(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):t._=C,C.VERSION="1.5.2";var _=C.each=C.forEach=function(t,e,i){if(null!=t)if(h&&t.forEach===h)t.forEach(e,i);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(e.call(i,t[r],r,t)===n)return}else for(var s=C.keys(t),r=0,o=s.length;o>r;r++)if(e.call(i,t[s[r]],s[r],t)===n)return};C.map=C.collect=function(t,e,n){var i=[];return null==t?i:d&&t.map===d?t.map(e,n):(_(t,function(t,r,o){i.push(e.call(n,t,r,o))}),i)};var T="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return i&&(e=C.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(_(t,function(t,o,s){r?n=e.call(i,n,t,o,s):(n=t,r=!0)}),!r)throw new TypeError(T);return n},C.reduceRight=C.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return i&&(e=C.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=C.keys(t);o=s.length}if(_(t,function(a,l,c){l=s?s[--o]:--o,r?n=e.call(i,n,t[l],l,c):(n=t[l],r=!0)}),!r)throw new TypeError(T);return n},C.find=C.detect=function(t,e,n){var i;return S(t,function(t,r,o){return e.call(n,t,r,o)?(i=t,!0):void 0}),i},C.filter=C.select=function(t,e,n){var i=[];return null==t?i:m&&t.filter===m?t.filter(e,n):(_(t,function(t,r,o){e.call(n,t,r,o)&&i.push(t)}),i)},C.reject=function(t,e,n){return C.filter(t,function(t,i,r){return!e.call(n,t,i,r)},n)},C.every=C.all=function(t,e,i){e||(e=C.identity);var r=!0;return null==t?r:g&&t.every===g?t.every(e,i):(_(t,function(t,o,s){return(r=r&&e.call(i,t,o,s))?void 0:n}),!!r)};var S=C.some=C.any=function(t,e,i){e||(e=C.identity);var r=!1;return null==t?r:v&&t.some===v?t.some(e,i):(_(t,function(t,o,s){return r||(r=e.call(i,t,o,s))?n:void 0}),!!r)};C.contains=C.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):S(t,function(t){return t===e})},C.invoke=function(t,e){var n=a.call(arguments,2),i=C.isFunction(e);return C.map(t,function(t){return(i?e:t[e]).apply(t,n)})},C.pluck=function(t,e){return C.map(t,function(t){return t[e]})},C.where=function(t,e,n){return C.isEmpty(e)?n?void 0:[]:C[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},C.findWhere=function(t,e){return C.where(t,e,!0)},C.max=function(t,e,n){if(!e&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&C.isEmpty(t))return-1/0;var i={computed:-1/0,value:-1/0};return _(t,function(t,r,o){var s=e?e.call(n,t,r,o):t;s>i.computed&&(i={value:t,computed:s})}),i.value},C.min=function(t,e,n){if(!e&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&C.isEmpty(t))return 1/0;var i={computed:1/0,value:1/0};return _(t,function(t,r,o){var s=e?e.call(n,t,r,o):t;s<i.computed&&(i={value:t,computed:s})}),i.value},C.shuffle=function(t){var e,n=0,i=[];return _(t,function(t){e=C.random(n++),i[n-1]=i[e],i[e]=t}),i},C.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=C.values(t)),t[C.random(t.length-1)]):C.shuffle(t).slice(0,Math.max(0,e))};var E=function(t){return C.isFunction(t)?t:function(e){return e[t]}};C.sortBy=function(t,e,n){var i=E(e);return C.pluck(C.map(t,function(t,e,r){return{value:t,index:e,criteria:i.call(n,t,e,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var M=function(t){return function(e,n,i){var r={},o=null==n?C.identity:E(n);return _(e,function(n,s){var a=o.call(i,n,s,e);t(r,a,n)}),r}};C.groupBy=M(function(t,e,n){(C.has(t,e)?t[e]:t[e]=[]).push(n)}),C.indexBy=M(function(t,e,n){t[e]=n}),C.countBy=M(function(t,e){C.has(t,e)?t[e]++:t[e]=1}),C.sortedIndex=function(t,e,n,i){n=null==n?C.identity:E(n);for(var r=n.call(i,e),o=0,s=t.length;s>o;){var a=o+s>>>1;n.call(i,t[a])<r?o=a+1:s=a}return o},C.toArray=function(t){return t?C.isArray(t)?a.call(t):t.length===+t.length?C.map(t,C.identity):C.values(t):[]},C.size=function(t){return null==t?0:t.length===+t.length?t.length:C.keys(t).length},C.first=C.head=C.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:a.call(t,0,e)},C.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},C.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},C.rest=C.tail=C.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},C.compact=function(t){return C.filter(t,C.identity)};var L=function(t,e,n){return e&&C.every(t,C.isArray)?l.apply(n,t):(_(t,function(t){C.isArray(t)||C.isArguments(t)?e?s.apply(n,t):L(t,e,n):n.push(t)}),n)};C.flatten=function(t,e){return L(t,e,[])},C.without=function(t){return C.difference(t,a.call(arguments,1))},C.uniq=C.unique=function(t,e,n,i){C.isFunction(e)&&(i=n,n=e,e=!1);var r=n?C.map(t,n,i):t,o=[],s=[];return _(r,function(n,i){(e?i&&s[s.length-1]===n:C.contains(s,n))||(s.push(n),o.push(t[i]))}),o},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(t){var e=a.call(arguments,1);return C.filter(C.uniq(t),function(t){return C.every(e,function(e){return C.indexOf(e,t)>=0})})},C.difference=function(t){var e=l.apply(i,a.call(arguments,1));return C.filter(t,function(t){return!C.contains(e,t)})},C.zip=function(){for(var t=C.max(C.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=C.pluck(arguments,""+n);return e},C.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},C.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=C.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;r>i;i++)if(t[i]===e)return i;return-1},C.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var r=i?n:t.length;r--;)if(t[r]===e)return r;return-1},C.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,o=new Array(i);i>r;)o[r++]=t,t+=n;return o};var D=function(){};C.bind=function(t,e){var n,i;if(k&&t.bind===k)return k.apply(t,a.call(arguments,1));if(!C.isFunction(t))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(a.call(arguments)));D.prototype=t.prototype;var r=new D;D.prototype=null;var o=t.apply(r,n.concat(a.call(arguments)));return Object(o)===o?o:r}},C.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},C.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return _(e,function(e){t[e]=C.bind(t[e],t)}),t},C.memoize=function(t,e){var n={};return e||(e=C.identity),function(){var i=e.apply(this,arguments);return C.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},C.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},C.defer=function(t){return C.delay.apply(C,[t,1].concat(a.call(arguments,1)))},C.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:new Date,s=null,o=t.apply(i,r)};return function(){var c=new Date;a||n.leading!==!1||(a=c);var u=e-(c-a);return i=this,r=arguments,0>=u?(clearTimeout(s),s=null,a=c,o=t.apply(i,r)):s||n.trailing===!1||(s=setTimeout(l,u)),o}},C.debounce=function(t,e,n){var i,r,o,s,a;return function(){o=this,r=arguments,s=new Date;var l=function(){var c=new Date-s;e>c?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(o,r)))},c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(o,r)),a}},C.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},C.wrap=function(t,e){return function(){var n=[t];return s.apply(n,arguments),e.apply(this,n)}},C.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},C.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},C.keys=x||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)C.has(t,n)&&e.push(n);return e},C.values=function(t){for(var e=C.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},C.pairs=function(t){for(var e=C.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},C.invert=function(t){for(var e={},n=C.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},C.functions=C.methods=function(t){var e=[];for(var n in t)C.isFunction(t[n])&&e.push(n);return e.sort()},C.extend=function(t){return _(a.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},C.pick=function(t){var e={},n=l.apply(i,a.call(arguments,1));return _(n,function(n){n in t&&(e[n]=t[n])}),e},C.omit=function(t){var e={},n=l.apply(i,a.call(arguments,1));for(var r in t)C.contains(n,r)||(e[r]=t[r]);return e},C.defaults=function(t){return _(a.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},C.clone=function(t){return C.isObject(t)?C.isArray(t)?t.slice():C.extend({},t):t},C.tap=function(t,e){return e(t),t};var P=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof C&&(t=t._wrapped),e instanceof C&&(e=e._wrapped);var r=c.call(t);if(r!=c.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return i[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(C.isFunction(s)&&s instanceof s&&C.isFunction(a)&&a instanceof a))return!1;n.push(t),i.push(e);var l=0,u=!0;if("[object Array]"==r){if(l=t.length,u=l==e.length)for(;l--&&(u=P(t[l],e[l],n,i)););}else{for(var h in t)if(C.has(t,h)&&(l++,!(u=C.has(e,h)&&P(t[h],e[h],n,i))))break;if(u){for(h in e)if(C.has(e,h)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};C.isEqual=function(t,e){return P(t,e,[],[])},C.isEmpty=function(t){if(null==t)return!0;if(C.isArray(t)||C.isString(t))return 0===t.length;for(var e in t)if(C.has(t,e))return!1;return!0},C.isElement=function(t){return!(!t||1!==t.nodeType)},C.isArray=w||function(t){return"[object Array]"==c.call(t)},C.isObject=function(t){return t===Object(t)},_(["Arguments","Function","String","Number","Date","RegExp"],function(t){C["is"+t]=function(e){return c.call(e)=="[object "+t+"]"}}),C.isArguments(arguments)||(C.isArguments=function(t){return!(!t||!C.has(t,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(t){return"function"==typeof t}),C.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},C.isNaN=function(t){return C.isNumber(t)&&t!=+t},C.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},C.isNull=function(t){return null===t},C.isUndefined=function(t){return void 0===t},C.has=function(t,e){return u.call(t,e)},C.noConflict=function(){return t._=e,this},C.identity=function(t){return t},C.times=function(t,e,n){for(var i=Array(Math.max(0,t)),r=0;t>r;r++)i[r]=e.call(n,r);return i},C.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=C.invert(N.escape);var A={escape:new RegExp("["+C.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(N.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(t){C[t]=function(e){return null==e?"":(""+e).replace(A[t],function(e){return N[t][e]})}}),C.result=function(t,e){if(null==t)return void 0;var n=t[e];return C.isFunction(n)?n.call(t):n},C.mixin=function(t){_(C.functions(t),function(e){var n=C[e]=t[e];C.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),j.call(this,n.apply(C,t))}})};var H=0;C.uniqueId=function(t){var e=++H+"";return t?t+e:e},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(t,e,n){var i;n=C.defaults({},n,C.templateSettings);var r=new RegExp([(n.escape||I).source,(n.interpolate||I).source,(n.evaluate||I).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(r,function(e,n,i,r,a){return s+=t.slice(o,a).replace(O,function(t){return"\\"+$[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),o=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return i(e,C);var l=function(t){return i.call(this,t,C)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},C.chain=function(t){return C(t).chain()};var j=function(t){return this._chain?C(t).chain():t};C.mixin(C),_(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];C.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],j.call(this,n)}}),_(["concat","join","slice"],function(t){var e=i[t];C.prototype[t]=function(){return j.call(this,e.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var t,e=this,n=e.Backbone,i=[],r=i.push,o=i.slice,s=i.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="1.0.0";var a=e._;a||"undefined"==typeof require||(a=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var l=t.Events={on:function(t,e,n){if(!u(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!u(this,"once",t,[e,n])||!e)return this;var i=this,r=a.once(function(){i.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){var i,r,o,s,l,c,h,d;if(!this._events||!u(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(s=t?[t]:a.keys(this._events),l=0,c=s.length;c>l;l++)if(t=s[l],o=this._events[t]){if(this._events[t]=i=[],e||n)for(h=0,d=o.length;d>h;h++)r=o[h],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!u(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&h(n,e),i&&h(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var r=!e&&!n;"object"==typeof e&&(n=this),t&&((i={})[t._listenerId]=t);for(var o in i)i[o].off(e,n,this),r&&delete this._listeners[o];return this}},c=/\s+/,u=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(c.test(n)){for(var o=n.split(c),s=0,a=o.length;a>s;s++)t[e].apply(t,[o[s]].concat(i));return!1}return!0},h=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e)}},d={listenTo:"on",listenToOnce:"once"};a.each(d,function(t,e){l[e]=function(e,n,i){var r=this._listeners||(this._listeners={}),o=e._listenerId||(e._listenerId=a.uniqueId("l"));return r[o]=e,"object"==typeof n&&(i=this),e[t](n,i,this),this}}),l.bind=l.on,l.unbind=l.off,a.extend(t,l);var p=t.Model=function(t,e){var n,i=t||{};e||(e={}),this.cid=a.uniqueId("c"),this.attributes={},a.extend(this,a.pick(e,f)),e.parse&&(i=this.parse(i,e)||{}),(n=a.result(this,"defaults"))&&(i=a.defaults({},i,n)),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)},f=["url","urlRoot","collection"];a.extend(p.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return a.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,r,o,s,l,c,u,h;if(null==t)return this;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;o=n.unset,l=n.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=a.clone(this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)e=r[i],a.isEqual(h[i],e)||s.push(i),a.isEqual(u[i],e)?delete this.changed[i]:this.changed[i]=e,o?delete h[i]:h[i]=e;if(!l){s.length&&(this._pending=!0);for(var d=0,p=s.length;p>d;d++)this.trigger("change:"+s[d],this,h[s[d]],n)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,a.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,a.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!a.isEmpty(this.changed):a.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?a.clone(this.changed):!1;var e,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in t)a.isEqual(i[r],e=t[r])||((n||(n={}))[r]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){return e.set(e.parse(i,t),t)?(n&&n(e,i,t),e.trigger("sync",e,i,t),void 0):!1},O(this,t),this.sync("read",this,t)},save:function(t,e,n){var i,r,o,s=this.attributes;if(null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e,!(!i||n&&n.wait||this.set(i,n)))return!1;if(n=a.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=a.extend({},s,i)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(t){l.attributes=s;var e=l.parse(t,n);return n.wait&&(e=a.extend(i||{},e)),a.isObject(e)&&!l.set(e,n)?!1:(c&&c(l,t,n),l.trigger("sync",l,t,n),void 0)},O(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),o=this.sync(r,this,n),i&&n.wait&&(this.attributes=s),o},destroy:function(t){t=t?a.clone(t):{};var e=this,n=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(r){(t.wait||e.isNew())&&i(),n&&n(e,r,t),e.isNew()||e.trigger("sync",e,r,t)},this.isNew())return t.success(),!1;O(this,t);var r=this.sync("delete",this,t);return t.wait||i(),r},url:function(){var t=a.result(this,"urlRoot")||a.result(this.collection,"url")||$();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},a.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=a.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,a.extend(e||{},{validationError:n})),!1):!0}});var m=["keys","values","pairs","invert","pick","omit"];a.each(m,function(t){p.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),a[t].apply(a,e)}});var g=t.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,a.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};a.extend(g.prototype,l,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,a.defaults(e||{},y))},remove:function(t,e){t=a.isArray(t)?t.slice():[t],e||(e={});var n,i,r,o;for(n=0,i=t.length;i>n;n++)o=this.get(t[n]),o&&(delete this._byId[o.id],delete this._byId[o.cid],r=this.indexOf(o),this.models.splice(r,1),this.length--,e.silent||(e.index=r,o.trigger("remove",o,this,e)),this._removeReference(o));return this},set:function(t,e){e=a.defaults(e||{},v),e.parse&&(t=this.parse(t,e)),a.isArray(t)||(t=t?[t]:[]);var n,i,o,l,c,u=e.at,h=this.comparator&&null==u&&e.sort!==!1,d=a.isString(this.comparator)?this.comparator:null,p=[],f=[],m={};for(n=0,i=t.length;i>n;n++)(o=this._prepareModel(t[n],e))&&((l=this.get(o))?(e.remove&&(m[l.cid]=!0),e.merge&&(l.set(o.attributes,e),h&&!c&&l.hasChanged(d)&&(c=!0))):e.add&&(p.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)));if(e.remove){for(n=0,i=this.length;i>n;++n)m[(o=this.models[n]).cid]||f.push(o);f.length&&this.remove(f,e)}if(p.length&&(h&&(c=!0),this.length+=p.length,null!=u?s.apply(this.models,[u,0].concat(p)):r.apply(this.models,p)),c&&this.sort({silent:!0}),e.silent)return this;for(n=0,i=p.length;i>n;n++)(o=p[n]).trigger("add",o,this,e);return c&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),this.add(t,a.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return a.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,n){e||(e=this.comparator);var i=a.isFunction(e)?e:function(t){return t.get(e)};return a.sortedIndex(this.models,t,i,n)},pluck:function(t){return a.invoke(this.models,"get",t)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},O(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?a.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,i=e.success;return e.success=function(r){e.wait&&n.add(t,e),i&&i(t,r,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(b,function(t){g.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),a[t].apply(a,e)}});var w=["groupBy","countBy","sortBy"];a.each(w,function(t){g.prototype[t]=function(e,n){var i=a.isFunction(e)?e:function(t){return t.get(e)};return a[t](this.models,i,n)}});var x=t.View=function(t){this.cid=a.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},k=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];a.extend(x.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=a.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(a.isFunction(n)||(n=this[t[e]]),n){var i=e.match(k),r=i[1],o=i[2];n=a.bind(n,this),r+=".delegateEvents"+this.cid,""===o?this.$el.on(r,n):this.$el.on(r,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=a.extend({},a.result(this,"options"),t)),a.extend(this,a.pick(t,C)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e["class"]=a.result(this,"className"));var n=t.$("<"+a.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,i){var r=_[e];a.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:r,dataType:"json"};if(i.url||(o.url=a.result(n,"url")||$()),null!=i.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){o.type="POST",i.emulateJSON&&(o.data._method=r);var s=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),s?s.apply(this,arguments):void 0}}"GET"===o.type||i.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=t.ajax(a.extend(o,i));return n.trigger("request",n,l,i),l};var _={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var T=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,M=/\*\w+/g,L=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(T.prototype,l,{initialize:function(){},route:function(e,n,i){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var r=this;return t.history.route(e,function(o){var s=r._extractParameters(e,o);i&&i.apply(r,s),r.trigger.apply(r,["route:"+n].concat(s)),r.trigger("route",n,s),t.history.trigger("route",r,n,s)}),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var t,e=a.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(L,"\\$&").replace(S,"(?:$1)?").replace(E,function(t,e){return e?t:"([^/]+)"}).replace(M,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return a.map(n,function(t){return t?decodeURIComponent(t):null})}});var D=t.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},P=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,A=/msie [\w.]+/,H=/\/$/;D.started=!1,a.extend(D.prototype,l,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(H,"");t.indexOf(n)||(t=t.substr(n.length))}else t=this.getHash();return t.replace(P,"")},start:function(e){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=a.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);
var n=this.getFragment(),i=document.documentMode,r=A.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(N,"/"),r&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location,s=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&s&&o.hash&&(this.fragment=this.getHash().replace(P,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),D.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=a.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(!D.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var n=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),t.history=new D;var I=function(t,e){var n,i=this;n=t&&a.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},a.extend(n,i,e);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,t&&a.extend(n.prototype,t),n.__super__=i.prototype,n};p.extend=g.extend=T.extend=x.extend=D.extend=I;var $=function(){throw new Error('A "url" property or function must be specified')},O=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}}}.call(this);var Handlebars={};!function(t,e){t.VERSION="1.0.0",t.COMPILER_REVISION=4,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},t.helpers={},t.partials={};var n=Object.prototype.toString,i="[object Function]",r="[object Object]";t.registerHelper=function(e,i,o){if(n.call(e)===r){if(o||i)throw new t.Exception("Arg not supported with multiple helpers");t.Utils.extend(this.helpers,e)}else o&&(i.not=o),this.helpers[e]=i},t.registerPartial=function(e,i){n.call(e)===r?t.Utils.extend(this.partials,e):this.partials[e]=i},t.registerHelper("helperMissing",function(t){if(2===arguments.length)return e;throw new Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,r){var o=r.inverse||function(){},s=r.fn,a=n.call(e);return a===i&&(e=e.call(this)),e===!0?s(this):e===!1||null==e?o(this):"[object Array]"===a?e.length>0?t.helpers.each(e,r):o(this):s(e)}),t.K=function(){},t.createFrame=Object.create||function(e){t.K.prototype=e;var n=new t.K;return t.K.prototype=null,n},t.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(e,n){if(t.logger.level<=e){var i=t.logger.methodMap[e];"undefined"!=typeof console&&console[i]&&console[i].call(console,n)}}},t.log=function(e,n){t.logger.log(e,n)},t.registerHelper("each",function(e,r){var o,s=r.fn,a=r.inverse,l=0,c="",u=n.call(e);if(u===i&&(e=e.call(this)),r.data&&(o=t.createFrame(r.data)),e&&"object"==typeof e)if(e instanceof Array)for(var h=e.length;h>l;l++)o&&(o.index=l),c+=s(e[l],{data:o});else for(var d in e)e.hasOwnProperty(d)&&(o&&(o.key=d),c+=s(e[d],{data:o}),l++);return 0===l&&(c=a(this)),c}),t.registerHelper("if",function(e,r){var o=n.call(e);return o===i&&(e=e.call(this)),!e||t.Utils.isEmpty(e)?r.inverse(this):r.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn})}),t.registerHelper("with",function(e,r){var o=n.call(e);return o===i&&(e=e.call(this)),t.Utils.isEmpty(e)?void 0:r.fn(e)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)});var o=["description","fileName","lineNumber","message","name","number","stack"];t.Exception=function(){for(var t=Error.prototype.constructor.apply(this,arguments),e=0;e<o.length;e++)this[o[e]]=t[o[e]]},t.Exception.prototype=new Error,t.SafeString=function(t){this.string=t},t.SafeString.prototype.toString=function(){return this.string.toString()};var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=/[&<>"'`]/g,l=/[&<>"'`]/,c=function(t){return s[t]||"&amp;"};t.Utils={extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},escapeExpression:function(e){return e instanceof t.SafeString?e.toString():null==e||e===!1?"":(e=e.toString(),l.test(e)?e.replace(a,c):e)},isEmpty:function(t){return t||0===t?"[object Array]"===n.call(t)&&0===t.length?!0:!1:!0}},t.VM={template:function(e){var n={escapeExpression:t.Utils.escapeExpression,invokePartial:t.VM.invokePartial,programs:[],program:function(e,n,i){var r=this.programs[e];return i?r=t.VM.program(e,n,i):r||(r=this.programs[e]=t.VM.program(e,n)),r},merge:function(e,n){var i=e||n;return e&&n&&(i={},t.Utils.extend(i,n),t.Utils.extend(i,e)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var o=e.call(n,t,i,r.helpers,r.partials,r.data),s=n.compilerInfo||[],a=s[0]||1,l=t.COMPILER_REVISION;if(a!==l){if(l>a){var c=t.REVISION_CHANGES[l],u=t.REVISION_CHANGES[a];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+u+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+s[1]+")."}return o}},programWithDepth:function(t,e,n){var i=Array.prototype.slice.call(arguments,3),r=function(t,r){return r=r||{},e.apply(this,[t,r.data||n].concat(i))};return r.program=t,r.depth=i.length,r},program:function(t,e,n){var i=function(t,i){return i=i||{},e(t,i.data||n)};return i.program=t,i.depth=0,i},noop:function(){return""},invokePartial:function(n,i,r,o,s,a){var l={helpers:o,partials:s,data:a};if(n===e)throw new t.Exception("The partial "+i+" could not be found");if(n instanceof Function)return n(r,l);if(t.compile)return s[i]=t.compile(n,{data:a!==e}),s[i](r,l);throw new t.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},t.template=t.VM.template}(Handlebars),function(t){function e(t,e){return function(n){return l(t.call(this,n),e)}}function n(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function i(){}function r(t){s(this,t)}function o(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,r=t.days||t.day||t.d||0,o=t.hours||t.hour||t.h||0,s=t.minutes||t.minute||t.m||0,a=t.seconds||t.second||t.s||0,l=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=l+1e3*a+6e4*s+36e5*o,this._days=r+7*i,this._months=n+12*e,this._data={},this._bubble()}function s(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function a(t){return 0>t?Math.ceil(t):Math.floor(t)}function l(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function c(t,e,n,i){var r,o,s=e._milliseconds,a=e._days,l=e._months;s&&t._d.setTime(+t._d+s*n),(a||l)&&(r=t.minute(),o=t.hour()),a&&t.date(t.date()+a*n),l&&t.month(t.month()+l*n),s&&!i&&A.updateOffset(t),(a||l)&&(t.minute(r),t.hour(o))}function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function h(t,e){var n,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(n=0;i>n;n++)~~t[n]!==~~e[n]&&o++;return o+r}function d(t){return t?re[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function p(t,e){return e.abbr=t,O[t]||(O[t]=new i),O[t].set(e),O[t]}function f(t){if(!t)return A.fn._lang;if(!O[t]&&j)try{require("./lang/"+t)}catch(e){return A.fn._lang}return O[t]}function m(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function g(t){var e,n,i=t.match(z);for(e=0,n=i.length;n>e;e++)i[e]=le[i[e]]?le[i[e]]:m(i[e]);return function(r){var o="";for(e=0;n>e;e++)o+=i[e]instanceof Function?i[e].call(r,t):i[e];return o}}function v(t,e){function n(e){return t.lang().longDateFormat(e)||e}for(var i=5;i--&&W.test(e);)e=e.replace(W,n);return oe[e]||(oe[e]=g(e)),oe[e](t)}function y(t,e){switch(t){case"DDDD":return B;case"YYYY":return V;case"YYYYY":return q;case"S":case"SS":case"SSS":case"DDD":return U;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Y;case"a":case"A":return f(e._l)._meridiemParse;case"X":return J;case"Z":case"ZZ":return X;case"T":return K;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return G;default:return new RegExp(t.replace("\\",""))}}function b(t){var e=(X.exec(t)||[])[0],n=(e+"").match(ee)||["-",0,0],i=+(60*n[1])+~~n[2];return"+"===n[0]?-i:i}function w(t,e,n){var i,r=n._a;switch(t){case"M":case"MM":r[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":i=f(n._l).monthsParse(e),null!=i?r[1]=i:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(r[2]=~~e);break;case"YY":r[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~e;break;case"a":case"A":n._isPm=f(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[3]=~~e;break;case"m":case"mm":r[4]=~~e;break;case"s":case"ss":r[5]=~~e;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=b(e)}null==e&&(n._isValid=!1)}function x(t){var e,n,i=[];if(!t._d){for(e=0;7>e;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];i[3]+=~~((t._tzm||0)/60),i[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(i[0],i[1],i[2]),n.setUTCHours(i[3],i[4],i[5],i[6])):(n.setFullYear(i[0],i[1],i[2]),n.setHours(i[3],i[4],i[5],i[6])),t._d=n}}function k(t){var e,n,i=t._f.match(z),r=t._i;for(t._a=[],e=0;e<i.length;e++)n=(y(i[e],t).exec(r)||[])[0],n&&(r=r.slice(r.indexOf(n)+n.length)),le[i[e]]&&w(i[e],n,t);r&&(t._il=r),t._isPm&&t._a[3]<12&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),x(t)}function C(t){var e,n,i,o,a,l=99;for(o=0;o<t._f.length;o++)e=s({},t),e._f=t._f[o],k(e),n=new r(e),a=h(e._a,n.toArray()),n._il&&(a+=n._il.length),l>a&&(l=a,i=n);s(t,i)}function _(t){var e,n=t._i,i=Z.exec(n);if(i){for(t._f="YYYY-MM-DD"+(i[2]||" "),e=0;4>e;e++)if(te[e][1].exec(n)){t._f+=te[e][0];break}X.exec(n)&&(t._f+=" Z"),k(t)}else t._d=new Date(n)}function T(e){var n=e._i,i=F.exec(n);n===t?e._d=new Date:i?e._d=new Date(+i[1]):"string"==typeof n?_(e):u(n)?(e._a=n.slice(0),x(e)):e._d=n instanceof Date?new Date(+n):new Date(n)}function S(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function E(t,e,n){var i=$(Math.abs(t)/1e3),r=$(i/60),o=$(r/60),s=$(o/24),a=$(s/365),l=45>i&&["s",i]||1===r&&["m"]||45>r&&["mm",r]||1===o&&["h"]||22>o&&["hh",o]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",$(s/30)]||1===a&&["y"]||["yy",a];return l[2]=e,l[3]=t>0,l[4]=n,S.apply({},l)}function M(t,e,n){var i,r=n-e,o=n-t.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=A(t).add("d",o),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function L(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=f().preparse(e)),A.isMoment(e)?(t=s({},e),t._d=new Date(+e._d)):n?u(n)?C(t):k(t):T(t),new r(t))}function D(t,e){A.fn[t]=A.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),A.updateOffset(this),this):this._d["get"+n+e]()}}function P(t){A.duration.fn[t]=function(){return this._data[t]}}function N(t,e){A.duration.fn["as"+t]=function(){return+this/e}}for(var A,H,I="2.1.0",$=Math.round,O={},j="undefined"!=typeof module&&module.exports,F=/^\/?Date\((\-?\d+)/i,R=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,z=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,W=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,G=/\d\d?/,U=/\d{1,3}/,B=/\d{3}/,V=/\d{1,4}/,q=/[+\-]?\d{1,6}/,Y=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,X=/Z|[\+\-]\d\d:?\d\d/i,K=/T/i,J=/[\+\-]?\d+(\.\d{1,3})?/,Z=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,Q="YYYY-MM-DDTHH:mm:ssZ",te=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ee=/([\+\-]|\d\d)/gi,ne="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ie={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},re={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},oe={},se="DDD w W M D d".split(" "),ae="M D H h m s w W".split(" "),le={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(t/60),2)+":"+l(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};se.length;)H=se.pop(),le[H+"o"]=n(le[H],H);for(;ae.length;)H=ae.pop(),le[H+H]=e(le[H],2);for(le.DDDD=e(le.DDD,3),i.prototype={set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=A([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=A([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return M(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},A=function(t,e,n){return L({_i:t,_f:e,_l:n,_isUTC:!1})},A.utc=function(t,e,n){return L({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},A.unix=function(t){return A(1e3*t)},A.duration=function(t,e){var n,i,r=A.isDuration(t),s="number"==typeof t,a=r?t._input:s?{}:t,l=R.exec(t);return s?e?a[e]=t:a.milliseconds=t:l&&(n="-"===l[1]?-1:1,a={y:0,d:~~l[2]*n,h:~~l[3]*n,m:~~l[4]*n,s:~~l[5]*n,ms:~~l[6]*n}),i=new o(a),r&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},A.version=I,A.defaultFormat=Q,A.updateOffset=function(){},A.lang=function(t,e){return t?(e?p(t,e):O[t]||f(t),A.duration.fn._lang=A.fn._lang=f(t),void 0):A.fn._lang._abbr},A.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),f(t)},A.isMoment=function(t){return t instanceof r},A.isDuration=function(t){return t instanceof o},A.fn=r.prototype={clone:function(){return A(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return v(A(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!h(this._a,(this._isUTC?A.utc(this._a):A(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=v(this,t||A.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?A.duration(+e,t):A.duration(t,e),c(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?A.duration(+e,t):A.duration(t,e),c(this,n,-1),this},diff:function(t,e,n){var i,r,o=this._isUTC?A(t).zone(this._offset||0):A(t).local(),s=6e4*(this.zone()-o.zone());return e=d(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+o.daysInMonth()),r=12*(this.year()-o.year())+(this.month()-o.month()),r+=(this-A(this).startOf("month")-(o-A(o).startOf("month")))/i,r-=6e4*(this.zone()-A(this).startOf("month").zone()-(o.zone()-A(o).startOf("month").zone()))/i,"year"===e&&(r/=12)):(i=this-o,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:a(r)},from:function(t,e){return A.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(A(),t)},calendar:function(){var t=this.diff(A().startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4===0&&t%100!==0||t%400===0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&(t=this.lang().weekdaysParse(t),"number"!=typeof t)?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),A.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=d(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+A(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+A(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+A(t).startOf(e)},min:function(t){return t=A.apply(null,arguments),this>t?this:t},max:function(t){return t=A.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=b(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&c(this,A.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return A.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=$((A(this).startOf("day")-A(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=M(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=M(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=M(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(e){return e===t?this._lang:(this._lang=f(e),this)}},H=0;H<ne.length;H++)D(ne[H].toLowerCase().replace(/s$/,""),ne[H]);D("year","FullYear"),A.fn.days=A.fn.day,A.fn.months=A.fn.month,A.fn.weeks=A.fn.week,A.fn.isoWeeks=A.fn.isoWeek,A.fn.toJSON=A.fn.toISOString,A.duration.fn=o.prototype={_bubble:function(){var t,e,n,i,r=this._milliseconds,o=this._days,s=this._months,l=this._data;l.milliseconds=r%1e3,t=a(r/1e3),l.seconds=t%60,e=a(t/60),l.minutes=e%60,n=a(e/60),l.hours=n%24,o+=a(n/24),l.days=o%30,s+=a(o/30),l.months=s%12,i=a(s/12),l.years=i},weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,n=E(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=A.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=A.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=d(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=d(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:A.fn.lang};for(H in ie)ie.hasOwnProperty(H)&&(N(H,ie[H]),P(H.toLowerCase()));N("Weeks",6048e5),A.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},A.lang("en",{ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),j&&(module.exports=A),"undefined"==typeof ender&&(this.moment=A),"function"==typeof define&&define.amd&&define("moment",[],function(){return A})}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){var n=0,i=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(o){}r(e)},t.widget=function(e,n,i){var r,o,s,a,l={},c=e.split(".")[0];e=e.split(".")[1],r=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[c]=t[c]||{},o=t[c][e],s=t[c][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new s(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}(),void 0):(l[e]=i,void 0)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:e},l,{constructor:s,namespace:c,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s)},t.widget.extend=function(n){for(var r,o,s=i.call(arguments,1),a=0,l=s.length;l>a;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==e&&(n[r]=t.isPlainObject(o)?t.isPlainObject(n[r])?t.widget.extend({},n[r],o):t.widget.extend({},o):o);return n},t.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;t.fn[n]=function(s){var a="string"==typeof s,l=i.call(arguments,1),c=this;return s=!a&&l.length?t.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var i,r=t.data(this,o);return r?t.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,l),i!==r&&i!==e?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+s+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+s+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(s||{})._init():t.data(this,o,new r(s,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var r,o,s,a=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(o=a[n]=t.widget.extend({},this.options[n]),s=0;s<r.length-1;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(n=r.pop(),i===e)return o[n]===e?null:o[n];o[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,a):n.bind(c,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(n){if(n.async){var i,r,o;return{send:function(s,a){i=t('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),r=t('<iframe src="javascript:false;" name="iframe-transport-'+(e+=1)+'"></iframe>').bind("load",function(){var e,o=t.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var e;try{if(e=r.contents(),!e.length||!e[0].firstChild)throw new Error}catch(n){e=void 0}a(200,"success",{iframe:e}),t('<iframe src="javascript:false;"></iframe>').appendTo(i),i.remove()
}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after(function(t){return e[t]}),n.paramName&&n.fileInput.each(function(e){t(this).prop("name",o[e]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),i.submit(),e&&e.length&&n.fileInput.each(function(n,i){var r=t(e[n]);t(i).prop("name",r.prop("name")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src","javascript".concat(":false;")),i&&i.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(t){"use strict";t.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:t(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){(n.autoUpload||n.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"==typeof e.formData?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(t,e){if(t.lengthComputable){var n,i=Date.now?Date.now():(new Date).getTime();if(e._time&&e.progressInterval&&i-e._time<e.progressInterval&&t.loaded!==t.total)return;e._time=i,n=Math.floor(t.loaded/t.total*(e.chunkSize||e._progress.total))+(e.uploadedBytes||0),this._progress.loaded+=n-e._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,e.bitrateInterval),e._progress.loaded=e.loaded=n,e._progress.bitrate=e.bitrate=e._bitrateTimer.getBitrate(i,n,e.bitrateInterval),this._trigger("progress",t,e),this._trigger("progressall",t,this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,r=e.files[0],o=e.multipart||!t.support.xhrFileUpload,s=e.paramName[0];e.headers=e.headers||{},e.contentRange&&(e.headers["Content-Range"]=e.contentRange),o?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:s,value:e.blob}):t.each(e.files,function(t,i){n.push({name:e.paramName[t]||s,value:i})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"',n.append(s,e.blob,r.name)):t.each(e.files,function(t,r){(i._isInstanceOf("File",r)||i._isInstanceOf("Blob",r))&&n.append(e.paramName[t]||s,r,r.name)})),e.data=n):(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"',e.contentType=r.type,e.data=e.blob||r),e.blob=null},_initIframeSettings:function(e){e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t("<a></a>").prop("href",e.url).prop("host")!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",r=(e.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var r=t.Deferred(),o=r.promise();return n=n||this.options.context||o,e===!0?r.resolveWith(n,i):e===!1&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return t.Deferred().resolveWith(i,[e]).promise()};n.process=function(t,e){return(t||e)&&(n._processQueue=this._processQueue=(this._processQueue||r(this)).pipe(t,e)),this._processQueue||r(this)},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",e,this)!==!1&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():i._getXHRPromise()},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){var i,r,o=this,s=e.files[0],a=s.size,l=e.uploadedBytes=e.uploadedBytes||0,c=e.maxChunkSize||a,u=s.slice||s.webkitSlice||s.mozSlice,h=t.Deferred(),d=h.promise();return this._isXHRUpload(e)&&u&&(l||a>c)&&!e.data?n?!0:l>=a?(s.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",s.error])):(r=function(){var n=t.extend({},e),d=n._progress.loaded;n.blob=u.call(s,l,l+c,s.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+a,o._initXHRData(n),o._initProgressListener(n),i=(o._trigger("chunksend",null,n)!==!1&&t.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,s,c){l=o._getUploadedBytes(c)||l+n.chunkSize,n._progress.loaded===d&&o._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=s,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),a>l?r():h.resolveWith(n.context,[i,s,c])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),h.rejectWith(n.context,[t,e,i])})},this._enhancePromise(d),d.abort=function(){return i.abort()},r(),d):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,r){var o=r._progress.total,s=r._response;r._progress.loaded<o&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),s.result=r.result=e,s.textStatus=r.textStatus=n,s.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(t,e,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=t,r.textStatus=i.textStatus=e,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,r,o,s,a=this,l=a._getAJAXSettings(n),c=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,i=i||((r||a._trigger("send",e,l)===!1)&&a._getXHRPromise(!1,l.context,r)||a._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){a._onDone(t,e,n,l)}).fail(function(t,e,n){a._onFail(t,e,n,l)}).always(function(t,e,n){if(a._onAlways(t,e,n,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=t.Deferred(),this._slots.push(o),s=o.pipe(c)):s=this._sequence=this._sequence.pipe(c,c),s.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(l.context,r),c())},this._enhancePromise(s)):c()},_onAdd:function(e,n){var i,r,o,s,a=this,l=!0,c=t.extend({},this.options,n),u=c.limitMultiFileUploads,h=this._getParamName(c);if((c.singleFileUploads||u)&&this._isXHRUpload(c))if(!c.singleFileUploads&&u)for(o=[],i=[],s=0;s<n.files.length;s+=u)o.push(n.files.slice(s,s+u)),r=h.slice(s,s+u),r.length||(r=h),i.push(r);else i=h;else o=[n.files],i=[h];return n.originalFiles=n.files,t.each(o||n.files,function(r,s){var c=t.extend({},n);return c.files=o?s:[s],c.paramName=i[r],a._initResponseObject(c),a._initProgressObject(c),a._addConvenienceMethods(e,c),l=a._trigger("add",e,c)}),l},_replaceFileInput:function(e){var n=e.clone(!0);t("<form></form>").append(n)[0].reset(),e.after(n).detach(),t.cleanData(e.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,i){return i===e[0]?n[0]:i}),e[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(e,n){var i,r=this,o=t.Deferred(),s=function(t){t&&!t.entry&&(t.entry=e),o.resolve([t])};return n=n||"",e.isFile?e._file?(e._file.relativePath=n,o.resolve(e._file)):e.file(function(t){t.relativePath=n,o.resolve(t)},s):e.isDirectory?(i=e.createReader(),i.readEntries(function(t){r._handleFileTreeEntries(t,n+e.name+"/").done(function(t){o.resolve(t)}).fail(s)},s)):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,r=e.prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(t){i.files=t,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),n._trigger("change",e,i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};return n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),this._trigger("paste",e,i)===!1||this._onAdd(e,i)===!1)?!1:void 0},_onDrop:function(t){var e=this,n=t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer,i={};n&&n.files&&n.files.length&&(t.preventDefault(),this._getDroppedFiles(n).always(function(n){i.files=n,e._trigger("drop",t,i)!==!1&&e._onAdd(t,i)}))},_onDragOver:function(e){var n=e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;if(n){if(this._trigger("dragover",e)===!1)return!1;-1!==t.inArray("Files",n.types)&&(n.dropEffect="copy",e.preventDefault())}},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=-1!==t.inArray(e,this._specialOptions);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options;t.each(t(this.element[0].cloneNode(!1)).data(),function(t,i){e._isRegExpOption(t,i)&&(i=e._getRegExp(i)),n[t]=i})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,o=t.Deferred(),s=o.promise();return s.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(e.fileInput).always(function(t){i||(e.files=t,n=r._onSend(null,e).then(function(t,e,n){o.resolve(t,e,n)},function(t,e,n){o.reject(t,e,n)}))}),this._enhancePromise(s)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),window.CodeMirror=function(){"use strict";function t(n,i){if(!(this instanceof t))return new t(n,i);this.options=i=i||{};for(var r in io)!i.hasOwnProperty(r)&&io.hasOwnProperty(r)&&(i[r]=io[r]);d(i);var o="string"==typeof i.value?0:i.value.first,s=this.display=e(n,o);s.wrapper.CodeMirror=this,c(this),i.autofocus&&!Or&&pe(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new Bi},a(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var l=i.value;"string"==typeof l&&(l=new yo(i.value,i.mode)),oe(this,ui)(this,l),_r&&setTimeout(tr(de,this,!0),20),me(this);var u;try{u=document.activeElement==s.input}catch(h){}u||i.autofocus&&!Or?setTimeout(tr(Pe,this),20):Ne(this),oe(this,function(){for(var t in no)no.propertyIsEnumerable(t)&&no[t](this,i[t],ro);for(var e=0;e<lo.length;++e)lo[e](this)})()}function e(t,e){var n={},i=n.input=ir("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");return Er?i.style.width="1000px":i.setAttribute("wrap","off"),$r&&(i.style.border="1px solid black"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck","false"),n.inputDiv=ir("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarH=ir("div",[ir("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),n.scrollbarV=ir("div",[ir("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),n.scrollbarFiller=ir("div",null,"CodeMirror-scrollbar-filler"),n.gutterFiller=ir("div",null,"CodeMirror-gutter-filler"),n.lineDiv=ir("div",null,"CodeMirror-code"),n.selectionDiv=ir("div",null,null,"position: relative; z-index: 1"),n.cursor=ir("div"," ","CodeMirror-cursor"),n.otherCursor=ir("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),n.measure=ir("div",null,"CodeMirror-measure"),n.lineSpace=ir("div",[n.measure,n.selectionDiv,n.lineDiv,n.cursor,n.otherCursor],null,"position: relative; outline: none"),n.mover=ir("div",[ir("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=ir("div",[n.mover],"CodeMirror-sizer"),n.heightForcer=ir("div",null,null,"position: absolute; height: "+Co+"px; width: 1px;"),n.gutters=ir("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=ir("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=ir("div",[n.inputDiv,n.scrollbarH,n.scrollbarV,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),Tr&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),t.appendChild?t.appendChild(n.wrapper):t(n.wrapper),$r&&(i.style.width="0px"),Er||(n.scroller.draggable=!0),Nr?(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"):Tr&&(n.scrollbarH.style.minWidth=n.scrollbarV.style.minWidth="18px"),n.viewOffset=n.lastSizeC=0,n.showingFrom=n.showingTo=e,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new Bi,n.cachedCharWidth=n.cachedTextHeight=null,n.measureLineCache=[],n.measureLineCachePos=0,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n}function n(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.frontier=e.doc.first,N(e,100),e.state.modeGen++,e.curOp&&le(e)}function i(t){t.options.lineWrapping?(t.display.wrapper.className+=" CodeMirror-wrap",t.display.sizer.style.minWidth=""):(t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-wrap",""),h(t)),o(t),le(t),B(t),setTimeout(function(){p(t)},100)}function r(t){var e=ee(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/ne(t.display)-3);return function(r){return Rn(t.doc,r)?0:n?(Math.ceil(r.text.length/i)||1)*e:e}}function o(t){var e=t.doc,n=r(t);e.iter(function(t){var e=n(t);e!=t.height&&fi(t,e)})}function s(t){var e=ho[t.options.keyMap],n=e.style;t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(n?" cm-keymap-"+n:""),t.state.disableInput=e.disableInput}function a(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),B(t)}function l(t){c(t),le(t),setTimeout(function(){m(t)},20)}function c(t){var e=t.display.gutters,n=t.options.gutters;rr(e);for(var i=0;i<n.length;++i){var r=n[i],o=e.appendChild(ir("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=i?"":"none"}function u(t,e){if(0==e.height)return 0;for(var n,i=e.text.length,r=e;n=On(r);){var o=n.find();r=hi(t,o.from.line),i+=o.from.ch-o.to.ch}for(r=e;n=jn(r);){var o=n.find();i-=r.text.length-o.from.ch,r=hi(t,o.to.line),i+=r.text.length-o.to.ch}return i}function h(t){var e=t.display,n=t.doc;e.maxLine=hi(n,n.first),e.maxLineLength=u(n,e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var i=u(n,t);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=t)})}function d(t){for(var e=!1,n=0;n<t.gutters.length;++n)"CodeMirror-linenumbers"==t.gutters[n]&&(t.lineNumbers?e=!0:t.gutters.splice(n--,1));!e&&t.lineNumbers&&t.gutters.push("CodeMirror-linenumbers")}function p(t){var e=t.display,n=t.doc.height,i=n+O(e);e.sizer.style.minHeight=e.heightForcer.style.top=i+"px",e.gutters.style.height=Math.max(i,e.scroller.clientHeight-Co)+"px";var r=Math.max(i,e.scroller.scrollHeight),o=e.scroller.scrollWidth>e.scroller.clientWidth+1,s=r>e.scroller.clientHeight+1;s?(e.scrollbarV.style.display="block",e.scrollbarV.style.bottom=o?cr(e.measure)+"px":"0",e.scrollbarV.firstChild.style.height=r-e.scroller.clientHeight+e.scrollbarV.clientHeight+"px"):e.scrollbarV.style.display="",o?(e.scrollbarH.style.display="block",e.scrollbarH.style.right=s?cr(e.measure)+"px":"0",e.scrollbarH.firstChild.style.width=e.scroller.scrollWidth-e.scroller.clientWidth+e.scrollbarH.clientWidth+"px"):e.scrollbarH.style.display="",o&&s?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=e.scrollbarFiller.style.width=cr(e.measure)+"px"):e.scrollbarFiller.style.display="",o&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(e.gutterFiller.style.display="block",e.gutterFiller.style.height=cr(e.measure)+"px",e.gutterFiller.style.width=e.gutters.offsetWidth+"px"):e.gutterFiller.style.display="",Ar&&0===cr(e.measure)&&(e.scrollbarV.style.minWidth=e.scrollbarH.style.minHeight=Hr?"18px":"12px")}function f(t,e,n){var i=t.scroller.scrollTop,r=t.wrapper.clientHeight;"number"==typeof n?i=n:n&&(i=n.top,r=n.bottom-n.top),i=Math.floor(i-$(t));var o=Math.ceil(i+r);return{from:gi(e,i),to:gi(e,o)}}function m(t){var e=t.display;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=y(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,r=n+"px",o=e.lineDiv.firstChild;o;o=o.nextSibling)if(o.alignable)for(var s=0,a=o.alignable;s<a.length;++s)a[s].style.left=r;t.options.fixedGutter&&(e.gutters.style.left=n+i+"px")}}function g(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=v(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(ir("div",[ir("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s),i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",!0}return!1}function v(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function y(t){return ar(t.scroller).left-ar(t.sizer).left}function b(t,e,n,i){for(var r,o=t.display.showingFrom,s=t.display.showingTo,a=f(t.display,t.doc,n);w(t,e,a,i)&&(i=!1,r=!0,M(t),p(t),n&&(n=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,"number"==typeof n?n:n.top)),a=f(t.display,t.doc,n),!(a.from>=t.display.showingFrom&&a.to<=t.display.showingTo));)e=[];return r&&(Ri(t,"update",t),(t.display.showingFrom!=o||t.display.showingTo!=s)&&Ri(t,"viewportChange",t,t.display.showingFrom,t.display.showingTo)),r}function w(t,e,n,i){var r=t.display,o=t.doc;if(!r.wrapper.clientWidth)return r.showingFrom=r.showingTo=o.first,r.viewOffset=0,void 0;if(!(!i&&0==e.length&&n.from>r.showingFrom&&n.to<r.showingTo)){g(t)&&(e=[{from:o.first,to:o.first+o.size}]);var s=r.sizer.style.marginLeft=r.gutters.offsetWidth+"px";r.scrollbarH.style.left=t.options.fixedGutter?s:"0";var a=1/0;if(t.options.lineNumbers)for(var l=0;l<e.length;++l)if(e[l].diff){a=e[l].from;break}var c=o.first+o.size,u=Math.max(n.from-t.options.viewportMargin,o.first),h=Math.min(c,n.to+t.options.viewportMargin);if(r.showingFrom<u&&u-r.showingFrom<20&&(u=Math.max(o.first,r.showingFrom)),r.showingTo>h&&r.showingTo-h<20&&(h=Math.min(c,r.showingTo)),qr)for(u=mi(Fn(o,hi(o,u)));c>h&&Rn(o,hi(o,h));)++h;var d=[{from:Math.max(r.showingFrom,o.first),to:Math.min(r.showingTo,c)}];if(d=d[0].from>=d[0].to?[]:C(d,e),qr)for(var l=0;l<d.length;++l)for(var p,f=d[l];p=jn(hi(o,f.to-1));){var m=p.find().from.line;if(!(m>f.from)){d.splice(l--,1);break}f.to=m}for(var v=0,l=0;l<d.length;++l){var f=d[l];f.from<u&&(f.from=u),f.to>h&&(f.to=h),f.from>=f.to?d.splice(l--,1):v+=f.to-f.from}if(!i&&v==h-u&&u==r.showingFrom&&h==r.showingTo)return k(t),void 0;d.sort(function(t,e){return t.from-e.from});try{var y=document.activeElement}catch(b){}.7*(h-u)>v&&(r.lineDiv.style.display="none"),T(t,u,h,d,a),r.lineDiv.style.display="",y&&document.activeElement!=y&&y.offsetHeight&&y.focus();var w=u!=r.showingFrom||h!=r.showingTo||r.lastSizeC!=r.wrapper.clientHeight;return w&&(r.lastSizeC=r.wrapper.clientHeight,N(t,400)),r.showingFrom=u,r.showingTo=h,x(t),k(t),!0}}function x(t){for(var e,n=t.display,i=n.lineDiv.offsetTop,r=n.lineDiv.firstChild;r;r=r.nextSibling)if(r.lineObj){if(Tr){var o=r.offsetTop+r.offsetHeight;e=o-i,i=o}else{var s=ar(r);e=s.bottom-s.top}var a=r.lineObj.height-e;if(2>e&&(e=ee(n)),a>.001||-.001>a){fi(r.lineObj,e);var l=r.lineObj.widgets;if(l)for(var c=0;c<l.length;++c)l[c].height=l[c].node.offsetHeight}}}function k(t){var e=t.display.viewOffset=vi(t,hi(t.doc,t.display.showingFrom));t.display.mover.style.top=e+"px"}function C(t,e){for(var n=0,i=e.length||0;i>n;++n){for(var r=e[n],o=[],s=r.diff||0,a=0,l=t.length;l>a;++a){var c=t[a];r.to<=c.from&&r.diff?o.push({from:c.from+s,to:c.to+s}):r.to<=c.from||r.from>=c.to?o.push(c):(r.from>c.from&&o.push({from:c.from,to:r.from}),r.to<c.to&&o.push({from:r.to+s,to:c.to+s}))}t=o}return t}function _(t){for(var e=t.display,n={},i={},r=e.gutters.firstChild,o=0;r;r=r.nextSibling,++o)n[t.options.gutters[o]]=r.offsetLeft,i[t.options.gutters[o]]=r.offsetWidth;return{fixedPos:y(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function T(t,e,n,i,r){function o(e){var n=e.nextSibling;return Er&&jr&&t.display.currentWheelTarget==e?(e.style.display="none",e.lineObj=null):e.parentNode.removeChild(e),n}var s=_(t),a=t.display,l=t.options.lineNumbers;i.length||Er&&t.display.currentWheelTarget||rr(a.lineDiv);var c=a.lineDiv,u=c.firstChild,h=i.shift(),d=e;for(t.doc.iter(e,n,function(e){if(h&&h.to==d&&(h=i.shift()),Rn(t.doc,e)){if(0!=e.height&&fi(e,0),e.widgets&&u.previousSibling)for(var n=0;n<e.widgets.length;++n){var a=e.widgets[n];if(a.showIfHidden){var p=u.previousSibling;if(/pre/i.test(p.nodeName)){var f=ir("div",null,null,"position: relative");p.parentNode.replaceChild(f,p),f.appendChild(p),p=f}var m=p.appendChild(ir("div",[a.node],"CodeMirror-linewidget"));a.handleMouseEvents||(m.ignoreEvents=!0),E(a,m,p,s)}}}else if(h&&h.from<=d&&h.to>d){for(;u.lineObj!=e;)u=o(u);l&&d>=r&&u.lineNumber&&sr(u.lineNumber,v(t.options,d)),u=u.nextSibling}else{if(e.widgets)for(var g,y=0,b=u;b&&20>y;++y,b=b.nextSibling)if(b.lineObj==e&&/div/i.test(b.nodeName)){g=b;break}var w=S(t,e,d,s,g);if(w!=g)c.insertBefore(w,u);else{for(;u!=g;)u=o(u);u=u.nextSibling}w.lineObj=e}++d});u;)u=o(u)}function S(t,e,n,i,r){var o,s=ti(t,e),a=e.gutterMarkers,l=t.display;if(!(t.options.lineNumbers||a||e.bgClass||e.wrapClass||e.widgets))return s;if(r){r.alignable=null;for(var c,u=!0,h=0,d=null,p=r.firstChild;p;p=c)if(c=p.nextSibling,/\bCodeMirror-linewidget\b/.test(p.className)){for(var f=0;f<e.widgets.length;++f){var m=e.widgets[f];if(m.node==p.firstChild){m.above||d||(d=p),E(m,p,r,i),++h;break}}if(f==e.widgets.length){u=!1;break}}else r.removeChild(p);r.insertBefore(s,d),u&&h==e.widgets.length&&(o=r,r.className=e.wrapClass||"")}if(o||(o=ir("div",null,e.wrapClass,"position: relative"),o.appendChild(s)),e.bgClass&&o.insertBefore(ir("div",null,e.bgClass+" CodeMirror-linebackground"),o.firstChild),t.options.lineNumbers||a){var g=o.insertBefore(ir("div",null,null,"position: absolute; left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px"),o.firstChild);if(t.options.fixedGutter&&(o.alignable||(o.alignable=[])).push(g),!t.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(o.lineNumber=g.appendChild(ir("div",v(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.lineNumInnerWidth+"px"))),a)for(var y=0;y<t.options.gutters.length;++y){var b=t.options.gutters[y],w=a.hasOwnProperty(b)&&a[b];w&&g.appendChild(ir("div",[w],"CodeMirror-gutter-elt","left: "+i.gutterLeft[b]+"px; width: "+i.gutterWidth[b]+"px"))}}if(Tr&&(o.style.zIndex=2),e.widgets&&o!=r)for(var f=0,x=e.widgets;f<x.length;++f){var m=x[f],k=ir("div",[m.node],"CodeMirror-linewidget");m.handleMouseEvents||(k.ignoreEvents=!0),E(m,k,o,i),m.above?o.insertBefore(k,t.options.lineNumbers&&0!=e.height?g:s):o.appendChild(k),Ri(m,"redraw")}return o}function E(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function M(t){var e=t.display,n=Be(t.doc.sel.from,t.doc.sel.to);if(n||t.options.showCursorWhenSelecting?L(t):e.cursor.style.display=e.otherCursor.style.display="none",n?e.selectionDiv.style.display="none":D(t),t.options.moveInputWithCursor){var i=J(t,t.doc.sel.head,"div"),r=ar(e.wrapper),o=ar(e.lineDiv);e.inputDiv.style.top=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+o.top-r.top))+"px",e.inputDiv.style.left=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+o.left-r.left))+"px"}}function L(t){var e=t.display,n=J(t,t.doc.sel.head,"div");e.cursor.style.left=n.left+"px",e.cursor.style.top=n.top+"px",e.cursor.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",e.cursor.style.display="",n.other?(e.otherCursor.style.display="",e.otherCursor.style.left=n.other.left+"px",e.otherCursor.style.top=n.other.top+"px",e.otherCursor.style.height=.85*(n.other.bottom-n.other.top)+"px"):e.otherCursor.style.display="none"}function D(t){function e(t,e,n,i){0>e&&(e=0),s.appendChild(ir("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?a-t:n)+"px; height: "+(i-e)+"px"))}function n(n,i,o){function s(e,i){return K(t,Ue(n,e),"div",h,i)}var c,u,h=hi(r,n),d=h.text.length;return hr(yi(h),i||0,null==o?d:o,function(t,n,r){var h,p,f,m=s(t,"left");if(t==n)h=m,p=f=m.left;else{if(h=s(n-1,"right"),"rtl"==r){var g=m;m=h,h=g}p=m.left,f=h.right}null==i&&0==t&&(p=l),h.top-m.top>3&&(e(p,m.top,null,m.bottom),p=l,m.bottom<h.top&&e(p,m.bottom,null,h.top)),null==o&&n==d&&(f=a),(!c||m.top<c.top||m.top==c.top&&m.left<c.left)&&(c=m),(!u||h.bottom>u.bottom||h.bottom==u.bottom&&h.right>u.right)&&(u=h),l+1>p&&(p=l),e(p,h.top,f-p,h.bottom)}),{start:c,end:u}}var i=t.display,r=t.doc,o=t.doc.sel,s=document.createDocumentFragment(),a=i.lineSpace.offsetWidth,l=j(t.display);if(o.from.line==o.to.line)n(o.from.line,o.from.ch,o.to.ch);
else{var c=hi(r,o.from.line),u=hi(r,o.to.line),h=Fn(r,c)==Fn(r,u),d=n(o.from.line,o.from.ch,h?c.text.length:null).end,p=n(o.to.line,h?0:null,o.to.ch).start;h&&(d.top<p.top-2?(e(d.right,d.top,null,d.bottom),e(l,p.top,p.left,p.bottom)):e(d.right,d.top,p.left-d.right,d.bottom)),d.bottom<p.top&&e(l,d.bottom,null,p.top)}or(i.selectionDiv,s),i.selectionDiv.style.display=""}function P(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursor.style.visibility=e.otherCursor.style.visibility="",e.blinker=setInterval(function(){e.cursor.style.visibility=e.otherCursor.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate)}}function N(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.showingTo&&t.state.highlight.set(e,tr(A,t))}function A(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.showingTo)){var n,i=+new Date+t.options.workTime,r=vn(e.mode,I(t,e.frontier)),o=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.showingTo+500),function(s){if(e.frontier>=t.display.showingFrom){var a=s.styles;s.styles=Kn(t,s,r);for(var l=!a||a.length!=s.styles.length,c=0;!l&&c<a.length;++c)l=a[c]!=s.styles[c];l&&(n&&n.end==e.frontier?n.end++:o.push(n={start:e.frontier,end:e.frontier+1})),s.stateAfter=vn(e.mode,r)}else Zn(t,s,r),s.stateAfter=e.frontier%5==0?vn(e.mode,r):null;return++e.frontier,+new Date>i?(N(t,t.options.workDelay),!0):void 0}),o.length&&oe(t,function(){for(var t=0;t<o.length;++t)le(this,o[t].start,o[t].end)})()}}function H(t,e,n){for(var i,r,o=t.doc,s=e,a=e-100;s>a;--s){if(s<=o.first)return o.first;var l=hi(o,s-1);if(l.stateAfter&&(!n||s<=o.frontier))return s;var c=Vi(l.text,null,t.options.tabSize);(null==r||i>c)&&(r=s-1,i=c)}return r}function I(t,e,n){var i=t.doc,r=t.display;if(!i.mode.startState)return!0;var o=H(t,e,n),s=o>i.first&&hi(i,o-1).stateAfter;return s=s?vn(i.mode,s):yn(i.mode),i.iter(o,e,function(n){Zn(t,n,s);var a=o==e-1||o%5==0||o>=r.showingFrom&&o<r.showingTo;n.stateAfter=a?vn(i.mode,s):null,++o}),s}function $(t){return t.lineSpace.offsetTop}function O(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function j(t){var e=or(t.measure,ir("pre",null,null,"text-align: left")).appendChild(ir("span","x"));return e.offsetLeft}function F(t,e,n,i,r){var o=-1;i=i||W(t,e);for(var s=n;;s+=o){var a=i[s];if(a)break;0>o&&0==s&&(o=1)}return r=s>n?"left":n>s?"right":r,"left"==r&&a.leftSide?a=a.leftSide:"right"==r&&a.rightSide&&(a=a.rightSide),{left:n>s?a.right:a.left,right:s>n?a.left:a.right,top:a.top,bottom:a.bottom}}function R(t,e){for(var n=t.display.measureLineCache,i=0;i<n.length;++i){var r=n[i];if(r.text==e.text&&r.markedSpans==e.markedSpans&&t.display.scroller.clientWidth==r.width&&r.classes==e.textClass+"|"+e.bgClass+"|"+e.wrapClass)return r}}function z(t,e){var n=R(t,e);n&&(n.text=n.measure=n.markedSpans=null)}function W(t,e){var n=R(t,e);if(n)return n.measure;var i=G(t,e),r=t.display.measureLineCache,o={text:e.text,width:t.display.scroller.clientWidth,markedSpans:e.markedSpans,measure:i,classes:e.textClass+"|"+e.bgClass+"|"+e.wrapClass};return 16==r.length?r[++t.display.measureLineCachePos%16]=o:r.push(o),i}function G(t,e){function n(t){var e=t.top-f.top,n=t.bottom-f.top;n>v&&(n=v),0>e&&(e=0);for(var i=m.length-2;i>=0;i-=2){var r=m[i],o=m[i+1];if(!(r>n||e>o)&&(e>=r&&o>=n||r>=e&&n>=o||Math.min(n,o)-Math.max(e,r)>=n-e>>1)){m[i]=Math.min(e,r),m[i+1]=Math.max(n,o);break}}return 0>i&&(i=m.length,m.push(e,n)),{left:t.left-f.left,right:t.right-f.left,top:i,bottom:null}}function i(t){t.bottom=m[t.top+1],t.top=m[t.top]}var r=t.display,o=Qi(e.text.length),s=ti(t,e,o,!0);if(_r&&!Tr&&!t.options.lineWrapping&&s.childNodes.length>100){for(var a=document.createDocumentFragment(),l=10,c=s.childNodes.length,u=0,h=Math.ceil(c/l);h>u;++u){for(var d=ir("div",null,null,"display: inline-block"),p=0;l>p&&c;++p)d.appendChild(s.firstChild),--c;a.appendChild(d)}s.appendChild(a)}or(r.measure,s);var f=ar(r.lineDiv),m=[],g=Qi(e.text.length),v=s.offsetHeight;Sr&&r.measure.first!=s&&or(r.measure,s);for(var y,u=0;u<o.length;++u)if(y=o[u]){var b=y,w=null;if(/\bCodeMirror-widget\b/.test(y.className)&&y.getClientRects){1==y.firstChild.nodeType&&(b=y.firstChild);var x=b.getClientRects();x.length>1&&(w=g[u]=n(x[0]),w.rightSide=n(x[x.length-1]))}w||(w=g[u]=n(ar(b))),y.measureRight&&(w.right=ar(y.measureRight).left),y.leftSide&&(w.leftSide=n(ar(y.leftSide)))}for(var y,u=0;u<g.length;++u)(y=g[u])&&(i(y),y.leftSide&&i(y.leftSide),y.rightSide&&i(y.rightSide));return g}function U(t,e){var n=!1;if(e.markedSpans)for(var i=0;i<e.markedSpans;++i){var r=e.markedSpans[i];!r.collapsed||null!=r.to&&r.to!=e.text.length||(n=!0)}var o=!n&&R(t,e);if(o)return F(t,e,e.text.length,o.measure,"right").right;var s=ti(t,e,null,!0),a=s.appendChild(ur(t.display.measure));return or(t.display.measure,s),ar(a).right-ar(t.display.lineDiv).left}function B(t){t.display.measureLineCache.length=t.display.measureLineCachePos=0,t.display.cachedCharWidth=t.display.cachedTextHeight=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function V(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function q(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Y(t,e,n,i){if(e.widgets)for(var r=0;r<e.widgets.length;++r)if(e.widgets[r].above){var o=Bn(e.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=vi(t,e);if("local"==i?s+=$(t.display):s-=t.display.viewOffset,"page"==i||"window"==i){var a=ar(t.display.lineSpace);s+=a.top+("window"==i?0:q());var l=a.left+("window"==i?0:V());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function X(t,e,n){if("div"==n)return e;var i=e.left,r=e.top;if("page"==n)i-=V(),r-=q();else if("local"==n||!n){var o=ar(t.display.sizer);i+=o.left,r+=o.top}var s=ar(t.display.lineSpace);return{left:i-s.left,top:r-s.top}}function K(t,e,n,i,r){return i||(i=hi(t.doc,e.line)),Y(t,i,F(t,i,e.ch,null,r),n)}function J(t,e,n,i,r){function o(e,o){var s=F(t,i,e,r,o?"right":"left");return o?s.left=s.right:s.right=s.left,Y(t,i,s,n)}function s(t,e){var n=a[e],i=n.level%2;return t==dr(n)&&e&&n.level<a[e-1].level?(n=a[--e],t=pr(n)-(n.level%2?0:1),i=!0):t==pr(n)&&e<a.length-1&&n.level<a[e+1].level&&(n=a[++e],t=dr(n)-n.level%2,i=!1),i&&t==n.to&&t>n.from?o(t-1):o(t,i)}i=i||hi(t.doc,e.line),r||(r=W(t,i));var a=yi(i),l=e.ch;if(!a)return o(l);var c=br(a,l),u=s(l,c);return null!=Io&&(u.other=s(l,Io)),u}function Z(t,e,n,i){var r=new Ue(t,e);return r.xRel=i,n&&(r.outside=!0),r}function Q(t,e,n){var i=t.doc;if(n+=t.display.viewOffset,0>n)return Z(i.first,0,!0,-1);var r=gi(i,n),o=i.first+i.size-1;if(r>o)return Z(i.first+i.size-1,hi(i,o).text.length,!0,1);for(0>e&&(e=0);;){var s=hi(i,r),a=te(t,s,r,e,n),l=jn(s),c=l&&l.find();if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=c.to.line}}function te(t,e,n,i,r){function o(i){var r=J(t,Ue(n,i),"line",e,c);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-vi(t,e),a=!1,l=2*t.display.wrapper.clientWidth,c=W(t,e),u=yi(e),h=e.text.length,d=fr(e),p=mr(e),f=o(d),m=a,g=o(p),v=a;if(i>g)return Z(n,p,v,1);for(;;){if(u?p==d||p==xr(e,d,1):1>=p-d){for(var y=f>i||g-i>=i-f?d:p,b=i-(y==d?f:g);Eo.test(e.text.charAt(y));)++y;var w=Z(n,y,y==d?m:v,0>b?-1:b?1:0);return w}var x=Math.ceil(h/2),k=d+x;if(u){k=d;for(var C=0;x>C;++C)k=xr(e,k,1)}var _=o(k);_>i?(p=k,g=_,(v=a)&&(g+=1e3),h=x):(d=k,f=_,m=a,h-=x)}}function ee(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==zr){zr=ir("pre");for(var e=0;49>e;++e)zr.appendChild(document.createTextNode("x")),zr.appendChild(ir("br"));zr.appendChild(document.createTextNode("x"))}or(t.measure,zr);var n=zr.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),rr(t.measure),n||1}function ne(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=ir("span","x"),n=ir("pre",[e]);or(t.measure,n);var i=e.offsetWidth;return i>2&&(t.cachedCharWidth=i),i||10}function ie(t){t.curOp={changes:[],forceUpdate:!1,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,cursorActivity:!1,updateMaxLine:!1,updateScrollPos:!1,id:++Yr},ko++||(xo=[])}function re(t){var e=t.curOp,n=t.doc,i=t.display;if(t.curOp=null,e.updateMaxLine&&h(t),i.maxLineChanged&&!t.options.lineWrapping&&i.maxLine){var r=U(t,i.maxLine);i.sizer.style.minWidth=Math.max(0,r+3+Co)+"px",i.maxLineChanged=!1;var o=Math.max(0,i.sizer.offsetLeft+i.sizer.offsetWidth-i.scroller.clientWidth);o<n.scrollLeft&&!e.updateScrollPos&&Ce(t,Math.min(i.scroller.scrollLeft,o),!0)}var s,a;if(e.updateScrollPos)s=e.updateScrollPos;else if(e.selectionChanged&&i.scroller.clientHeight){var l=J(t,n.sel.head);s=an(t,l.left,l.top,l.left,l.bottom)}(e.changes.length||e.forceUpdate||s&&null!=s.scrollTop)&&(a=b(t,e.changes,s&&s.scrollTop,e.forceUpdate),t.display.scroller.offsetHeight&&(t.doc.scrollTop=t.display.scroller.scrollTop)),!a&&e.selectionChanged&&M(t),e.updateScrollPos?(i.scroller.scrollTop=i.scrollbarV.scrollTop=n.scrollTop=s.scrollTop,i.scroller.scrollLeft=i.scrollbarH.scrollLeft=n.scrollLeft=s.scrollLeft,m(t),e.scrollToPos&&on(t,Xe(t.doc,e.scrollToPos),e.scrollToPosMargin)):s&&rn(t),e.selectionChanged&&P(t),t.state.focused&&e.updateInput&&de(t,e.userSelChange);var c=e.maybeHiddenMarkers,u=e.maybeUnhiddenMarkers;if(c)for(var d=0;d<c.length;++d)c[d].lines.length||Fi(c[d],"hide");if(u)for(var d=0;d<u.length;++d)u[d].lines.length&&Fi(u[d],"unhide");var p;if(--ko||(p=xo,xo=null),e.textChanged&&Fi(t,"change",t,e.textChanged),e.cursorActivity&&Fi(t,"cursorActivity",t),p)for(var d=0;d<p.length;++d)p[d]()}function oe(t,e){return function(){var n=t||this,i=!n.curOp;i&&ie(n);try{var r=e.apply(n,arguments)}finally{i&&re(n)}return r}}function se(t){return function(){var e,n=this.cm&&!this.cm.curOp;n&&ie(this.cm);try{e=t.apply(this,arguments)}finally{n&&re(this.cm)}return e}}function ae(t,e){var n,i=!t.curOp;i&&ie(t);try{n=e()}finally{i&&re(t)}return n}function le(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),t.curOp.changes.push({from:e,to:n,diff:i})}function ce(t){t.display.pollingFast||t.display.poll.set(t.options.pollInterval,function(){he(t),t.state.focused&&ce(t)})}function ue(t){function e(){var i=he(t);i||n?(t.display.pollingFast=!1,ce(t)):(n=!0,t.display.poll.set(60,e))}var n=!1;t.display.pollingFast=!0,t.display.poll.set(20,e)}function he(t){var e=t.display.input,n=t.display.prevInput,i=t.doc,r=i.sel;if(!t.state.focused||No(e)||fe(t)||t.state.disableInput)return!1;var o=e.value;if(o==n&&Be(r.from,r.to))return!1;if(_r&&!Sr&&t.display.inputHasSelection===o)return de(t,!0),!1;var s=!t.curOp;s&&ie(t),r.shift=!1;for(var a=0,l=Math.min(n.length,o.length);l>a&&n.charCodeAt(a)==o.charCodeAt(a);)++a;var c=r.from,u=r.to;a<n.length?c=Ue(c.line,c.ch-(n.length-a)):t.state.overwrite&&Be(c,u)&&!t.state.pasteIncoming&&(u=Ue(u.line,Math.min(hi(i,u.line).text.length,u.ch+(o.length-a))));var h=t.curOp.updateInput,d={from:c,to:u,text:Po(o.slice(a)),origin:t.state.pasteIncoming?"paste":"+input"};return Oe(t.doc,d,"end"),t.curOp.updateInput=h,Ri(t,"inputRead",t,d),o.length>1e3||o.indexOf("\n")>-1?e.value=t.display.prevInput="":t.display.prevInput=o,s&&re(t),t.state.pasteIncoming=!1,!0}function de(t,e){var n,i,r=t.doc;if(Be(r.sel.from,r.sel.to))e&&(t.display.prevInput=t.display.input.value="",_r&&!Sr&&(t.display.inputHasSelection=null));else{t.display.prevInput="",n=Ao&&(r.sel.to.line-r.sel.from.line>100||(i=t.getSelection()).length>1e3);var o=n?"-":i||t.getSelection();t.display.input.value=o,t.state.focused&&Xi(t.display.input),_r&&!Sr&&(t.display.inputHasSelection=o)}t.display.inaccurateSelection=n}function pe(t){"nocursor"==t.options.readOnly||Or&&document.activeElement==t.display.input||t.display.input.focus()}function fe(t){return t.options.readOnly||t.doc.cantEdit}function me(t){function e(){t.state.focused&&setTimeout(tr(pe,t),0)}function n(){null==a&&(a=setTimeout(function(){a=null,s.cachedCharWidth=s.cachedTextHeight=Lo=null,B(t),ae(t,tr(le,t))},100))}function i(){for(var t=s.wrapper.parentNode;t&&t!=document.body;t=t.parentNode);t?setTimeout(i,5e3):ji(window,"resize",n)}function r(e){zi(t,e)||t.options.onDragEvent&&t.options.onDragEvent(t,Di(e))||Hi(e)}function o(){s.inaccurateSelection&&(s.prevInput="",s.inaccurateSelection=!1,s.input.value=t.getSelection(),Xi(s.input))}var s=t.display;Oi(s.scroller,"mousedown",oe(t,ye)),_r?Oi(s.scroller,"dblclick",oe(t,function(e){if(!zi(t,e)){var n=ve(t,e);if(n&&!be(t,e)&&!ge(t.display,e)){Pi(e);var i=fn(hi(t.doc,n.line).text,n);Ze(t.doc,i.from,i.to)}}})):Oi(s.scroller,"dblclick",function(e){zi(t,e)||Pi(e)}),Oi(s.lineSpace,"selectstart",function(t){ge(s,t)||Pi(t)}),Br||Oi(s.scroller,"contextmenu",function(e){Ae(t,e)}),Oi(s.scroller,"scroll",function(){s.scroller.clientHeight&&(ke(t,s.scroller.scrollTop),Ce(t,s.scroller.scrollLeft,!0),Fi(t,"scroll",t))}),Oi(s.scrollbarV,"scroll",function(){s.scroller.clientHeight&&ke(t,s.scrollbarV.scrollTop)}),Oi(s.scrollbarH,"scroll",function(){s.scroller.clientHeight&&Ce(t,s.scrollbarH.scrollLeft)}),Oi(s.scroller,"mousewheel",function(e){_e(t,e)}),Oi(s.scroller,"DOMMouseScroll",function(e){_e(t,e)}),Oi(s.scrollbarH,"mousedown",e),Oi(s.scrollbarV,"mousedown",e),Oi(s.wrapper,"scroll",function(){s.wrapper.scrollTop=s.wrapper.scrollLeft=0});var a;Oi(window,"resize",n),setTimeout(i,5e3),Oi(s.input,"keyup",oe(t,function(e){zi(t,e)||t.options.onKeyEvent&&t.options.onKeyEvent(t,Di(e))||16==e.keyCode&&(t.doc.sel.shift=!1)})),Oi(s.input,"input",tr(ue,t)),Oi(s.input,"keydown",oe(t,Le)),Oi(s.input,"keypress",oe(t,De)),Oi(s.input,"focus",tr(Pe,t)),Oi(s.input,"blur",tr(Ne,t)),t.options.dragDrop&&(Oi(s.scroller,"dragstart",function(e){xe(t,e)}),Oi(s.scroller,"dragenter",r),Oi(s.scroller,"dragover",r),Oi(s.scroller,"drop",oe(t,we))),Oi(s.scroller,"paste",function(e){ge(s,e)||(pe(t),ue(t))}),Oi(s.input,"paste",function(){t.state.pasteIncoming=!0,ue(t)}),Oi(s.input,"cut",o),Oi(s.input,"copy",o),Nr&&Oi(s.sizer,"mouseup",function(){document.activeElement==s.input&&s.input.blur(),pe(t)})}function ge(t,e){for(var n=Ii(e);n!=t.wrapper;n=n.parentNode)if(!n||n.ignoreEvents||n.parentNode==t.sizer&&n!=t.mover)return!0}function ve(t,e,n){var i=t.display;if(!n){var r=Ii(e);if(r==i.scrollbarH||r==i.scrollbarH.firstChild||r==i.scrollbarV||r==i.scrollbarV.firstChild||r==i.scrollbarFiller||r==i.gutterFiller)return null}var o,s,a=ar(i.lineSpace);try{o=e.clientX,s=e.clientY}catch(e){return null}return Q(t,o-a.left,s-a.top)}function ye(t){function e(t){if(!Be(v,t)){if(v=t,"single"==u)return Ze(r.doc,Xe(s,l),t),void 0;if(m=Xe(s,m),g=Xe(s,g),"double"==u){var e=fn(hi(s,t.line).text,t);Ve(t,m)?Ze(r.doc,e.from,g):Ze(r.doc,m,e.to)}else"triple"==u&&(Ve(t,m)?Ze(r.doc,g,Xe(s,Ue(t.line,0))):Ze(r.doc,m,Xe(s,Ue(t.line+1,0))))}}function n(t){var i=++b,a=ve(r,t,!0);if(a)if(Be(a,d)){var l=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;l&&setTimeout(oe(r,function(){b==i&&(o.scroller.scrollTop+=l,n(t))}),50)}else{r.state.focused||Pe(r),d=a,e(a);var c=f(o,s);(a.line>=c.to||a.line<c.from)&&setTimeout(oe(r,function(){b==i&&n(t)}),150)}}function i(t){b=1/0,Pi(t),pe(r),ji(document,"mousemove",w),ji(document,"mouseup",x)}if(!zi(this,t)){var r=this,o=r.display,s=r.doc,a=s.sel;if(a.shift=t.shiftKey,ge(o,t))return Er||(o.scroller.draggable=!1,setTimeout(function(){o.scroller.draggable=!0},100)),void 0;if(!be(r,t)){var l=ve(r,t);switch($i(t)){case 3:return Br&&Ae.call(r,r,t),void 0;case 2:return l&&Ze(r.doc,l),setTimeout(tr(pe,r),20),Pi(t),void 0}if(!l)return Ii(t)==o.scroller&&Pi(t),void 0;r.state.focused||Pe(r);var c=+new Date,u="single";if(Gr&&Gr.time>c-400&&Be(Gr.pos,l))u="triple",Pi(t),setTimeout(tr(pe,r),20),mn(r,l.line);else if(Wr&&Wr.time>c-400&&Be(Wr.pos,l)){u="double",Gr={time:c,pos:l},Pi(t);var h=fn(hi(s,l.line).text,l);Ze(r.doc,h.from,h.to)}else Wr={time:c,pos:l};var d=l;if(r.options.dragDrop&&Mo&&!fe(r)&&!Be(a.from,a.to)&&!Ve(l,a.from)&&!Ve(a.to,l)&&"single"==u){var p=oe(r,function(e){Er&&(o.scroller.draggable=!1),r.state.draggingText=!1,ji(document,"mouseup",p),ji(o.scroller,"drop",p),Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)<10&&(Pi(e),Ze(r.doc,l),pe(r))});return Er&&(o.scroller.draggable=!0),r.state.draggingText=p,o.scroller.dragDrop&&o.scroller.dragDrop(),Oi(document,"mouseup",p),Oi(o.scroller,"drop",p),void 0}Pi(t),"single"==u&&Ze(r.doc,Xe(s,l));var m=a.from,g=a.to,v=l,y=ar(o.wrapper),b=0,w=oe(r,function(t){_r||$i(t)?n(t):i(t)}),x=oe(r,i);Oi(document,"mousemove",w),Oi(document,"mouseup",x)}}}function be(t,e){var n=t.display;try{var i=e.clientX,r=e.clientY}catch(e){return!1}if(i>=Math.floor(ar(n.gutters).right))return!1;if(Pi(e),!Gi(t,"gutterClick"))return!0;var o=ar(n.lineDiv);if(r>o.bottom)return!0;r-=o.top-n.viewOffset;for(var s=0;s<t.options.gutters.length;++s){var a=n.gutters.childNodes[s];if(a&&ar(a).right>=i){var l=gi(t.doc,r),c=t.options.gutters[s];Ri(t,"gutterClick",t,l,c,e);break}}return!0}function we(t){var e=this;if(!(zi(e,t)||ge(e.display,t)||e.options.onDragEvent&&e.options.onDragEvent(e,Di(t)))){Pi(t),_r&&(Xr=+new Date);var n=ve(e,t,!0),i=t.dataTransfer.files;if(n&&!fe(e))if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(t,i){var a=new FileReader;a.onload=function(){o[i]=a.result,++s==r&&(n=Xe(e.doc,n),Oe(e.doc,{from:n,to:n,text:Po(o.join("\n")),origin:"paste"},"around"))},a.readAsText(t)},l=0;r>l;++l)a(i[l],l);else{if(e.state.draggingText&&!Ve(n,e.doc.sel.from)&&!Ve(e.doc.sel.to,n))return e.state.draggingText(t),setTimeout(tr(pe,e),20),void 0;try{var o=t.dataTransfer.getData("Text");if(o){var c=e.doc.sel.from,u=e.doc.sel.to;tn(e.doc,n,n),e.state.draggingText&&Ge(e.doc,"",c,u,"paste"),e.replaceSelection(o,null,"paste"),pe(e),Pe(e)}}catch(t){}}}}function xe(t,e){if(_r&&(!t.state.draggingText||+new Date-Xr<100))return Hi(e),void 0;if(!zi(t,e)&&!ge(t.display,e)){var n=t.getSelection();if(e.dataTransfer.setData("Text",n),e.dataTransfer.setDragImage&&!Pr){var i=ir("img",null,null,"position: fixed; left: 0; top: 0;");Dr&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),Dr&&i.parentNode.removeChild(i)}}}function ke(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,Cr||b(t,[],e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbarV.scrollTop!=e&&(t.display.scrollbarV.scrollTop=e),Cr&&b(t,[]),N(t,100))}function Ce(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,m(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbarH.scrollLeft!=e&&(t.display.scrollbarH.scrollLeft=e))}function _e(t,e){var n=e.wheelDeltaX,i=e.wheelDeltaY;null==n&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(n=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta);var r=t.display,o=r.scroller;if(n&&o.scrollWidth>o.clientWidth||i&&o.scrollHeight>o.clientHeight){if(i&&jr&&Er)for(var s=e.target;s!=o;s=s.parentNode)if(s.lineObj){t.display.currentWheelTarget=s;break}if(n&&!Cr&&!Dr&&null!=Jr)return i&&ke(t,Math.max(0,Math.min(o.scrollTop+i*Jr,o.scrollHeight-o.clientHeight))),Ce(t,Math.max(0,Math.min(o.scrollLeft+n*Jr,o.scrollWidth-o.clientWidth))),Pi(e),r.wheelStartX=null,void 0;if(i&&null!=Jr){var a=i*Jr,l=t.doc.scrollTop,c=l+r.wrapper.clientHeight;0>a?l=Math.max(0,l+a-50):c=Math.min(t.doc.height,c+a+50),b(t,[],{top:l,bottom:c})}20>Kr&&(null==r.wheelStartX?(r.wheelStartX=o.scrollLeft,r.wheelStartY=o.scrollTop,r.wheelDX=n,r.wheelDY=i,setTimeout(function(){if(null!=r.wheelStartX){var t=o.scrollLeft-r.wheelStartX,e=o.scrollTop-r.wheelStartY,n=e&&r.wheelDY&&e/r.wheelDY||t&&r.wheelDX&&t/r.wheelDX;r.wheelStartX=r.wheelStartY=null,n&&(Jr=(Jr*Kr+n)/(Kr+1),++Kr)}},200)):(r.wheelDX+=n,r.wheelDY+=i))}}function Te(t,e,n){if("string"==typeof e&&(e=uo[e],!e))return!1;t.display.pollingFast&&he(t)&&(t.display.pollingFast=!1);var i=t.doc,r=i.sel.shift,o=!1;try{fe(t)&&(t.state.suppressEdits=!0),n&&(i.sel.shift=!1),o=e(t)!=_o}finally{i.sel.shift=r,t.state.suppressEdits=!1}return o}function Se(t){var e=t.state.keyMaps.slice(0);return t.options.extraKeys&&e.push(t.options.extraKeys),e.push(t.options.keyMap),e}function Ee(t,e){var n=bn(t.options.keyMap),i=n.auto;clearTimeout(Zr),i&&!xn(e)&&(Zr=setTimeout(function(){bn(t.options.keyMap)==n&&(t.options.keyMap=i.call?i.call(null,t):i,s(t))},50));var r=kn(e,!0),o=!1;if(!r)return!1;var a=Se(t);return o=e.shiftKey?wn("Shift-"+r,a,function(e){return Te(t,e,!0)})||wn(r,a,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?Te(t,e):void 0}):wn(r,a,function(e){return Te(t,e)}),o&&(Pi(e),P(t),Sr&&(e.oldKeyCode=e.keyCode,e.keyCode=0),Ri(t,"keyHandled",t,r,e)),o}function Me(t,e,n){var i=wn("'"+n+"'",Se(t),function(e){return Te(t,e,!0)});return i&&(Pi(e),P(t),Ri(t,"keyHandled",t,"'"+n+"'",e)),i}function Le(t){var e=this;if(e.state.focused||Pe(e),_r&&27==t.keyCode&&(t.returnValue=!1),!(zi(e,t)||e.options.onKeyEvent&&e.options.onKeyEvent(e,Di(t)))){var n=t.keyCode;e.doc.sel.shift=16==n||t.shiftKey;var i=Ee(e,t);Dr&&(to=i?n:null,!i&&88==n&&!Ao&&(jr?t.metaKey:t.ctrlKey)&&e.replaceSelection(""))}}function De(t){var e=this;if(!(zi(e,t)||e.options.onKeyEvent&&e.options.onKeyEvent(e,Di(t)))){var n=t.keyCode,i=t.charCode;if(Dr&&n==to)return to=null,Pi(t),void 0;if(!(Dr&&(!t.which||t.which<10)||Nr)||!Ee(e,t)){var r=String.fromCharCode(null==i?n:i);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!fe(this)&&this.doc.mode.electricChars.indexOf(r)>-1&&setTimeout(oe(e,function(){un(e,e.doc.sel.to.line,"smart")}),75),Me(e,t,r)||(_r&&!Sr&&(e.display.inputHasSelection=null),ue(e))}}}function Pe(t){"nocursor"!=t.options.readOnly&&(t.state.focused||(Fi(t,"focus",t),t.state.focused=!0,-1==t.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(t.display.wrapper.className+=" CodeMirror-focused"),de(t,!0)),ce(t),P(t))}function Ne(t){t.state.focused&&(Fi(t,"blur",t),t.state.focused=!1,t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.doc.sel.shift=!1)},150)}function Ae(t,e){function n(){if(null!=r.input.selectionStart){var t=r.input.value=" "+(Be(o.from,o.to)?"":r.input.value);r.prevInput=" ",r.input.selectionStart=1,r.input.selectionEnd=t.length}}function i(){if(r.inputDiv.style.position="relative",r.input.style.cssText=l,Sr&&(r.scrollbarV.scrollTop=r.scroller.scrollTop=a),ce(t),null!=r.input.selectionStart){(!_r||Sr)&&n(),clearTimeout(Qr);var e=0,i=function(){" "==r.prevInput&&0==r.input.selectionStart?oe(t,uo.selectAll)(t):e++<10?Qr=setTimeout(i,500):de(t)};Qr=setTimeout(i,200)}}if(!zi(t,e,"contextmenu")){var r=t.display,o=t.doc.sel;if(!ge(r,e)){var s=ve(t,e),a=r.scroller.scrollTop;if(s&&!Dr){(Be(o.from,o.to)||Ve(s,o.from)||!Ve(s,o.to))&&oe(t,tn)(t.doc,s,s);var l=r.input.style.cssText;if(r.inputDiv.style.position="absolute",r.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",pe(t),de(t,!0),Be(o.from,o.to)&&(r.input.value=r.prevInput=" "),_r&&!Sr&&n(),Br){Hi(e);var c=function(){ji(window,"mouseup",c),setTimeout(i,20)};Oi(window,"mouseup",c)}else setTimeout(i,50)}}}}function He(t,e,n){if(!Ve(e.from,n))return Xe(t,n);var i=e.text.length-1-(e.to.line-e.from.line);if(n.line>e.to.line+i){var r=n.line-i,o=t.first+t.size-1;return r>o?Ue(o,hi(t,o).text.length):Ke(n,hi(t,r).text.length)}if(n.line==e.to.line+i)return Ke(n,Yi(e.text).length+(1==e.text.length?e.from.ch:0)+hi(t,e.to.line).text.length-e.to.ch);var s=n.line-e.from.line;return Ke(n,e.text[s].length+(s?0:e.from.ch))}function Ie(t,e,n){if(n&&"object"==typeof n)return{anchor:He(t,e,n.anchor),head:He(t,e,n.head)};if("start"==n)return{anchor:e.from,head:e.from};var i=eo(e);if("around"==n)return{anchor:e.from,head:i};if("end"==n)return{anchor:i,head:i};var r=function(t){if(Ve(t,e.from))return t;if(!Ve(e.to,t))return i;var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=i.ch-e.to.ch),Ue(n,r)};return{anchor:r(t.sel.anchor),head:r(t.sel.head)}}function $e(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(e,n,i,r){e&&(this.from=Xe(t,e)),n&&(this.to=Xe(t,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Fi(t,"beforeChange",t,i),t.cm&&Fi(t.cm,"beforeChange",t.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Oe(t,e,n,i){if(t.cm){if(!t.cm.curOp)return oe(t.cm,Oe)(t,e,n,i);if(t.cm.state.suppressEdits)return}if(!(Gi(t,"beforeChange")||t.cm&&Gi(t.cm,"beforeChange"))||(e=$e(t,e,!0))){var r=Vr&&!i&&In(t,e.from,e.to);if(r){for(var o=r.length-1;o>=1;--o)je(t,{from:r[o].from,to:r[o].to,text:[""]});r.length&&je(t,{from:r[0].from,to:r[0].to,text:e.text},n)}else je(t,e,n)}}function je(t,e,n){var i=Ie(t,e,n);ki(t,e,i,t.cm?t.cm.curOp.id:0/0),ze(t,e,i,An(t,e));var r=[];ci(t,function(t,n){n||-1!=Ki(r,t.history)||(Mi(t.history,e),r.push(t.history)),ze(t,e,null,An(t,e))})}function Fe(t,e){if(!t.cm||!t.cm.state.suppressEdits){var n=t.history,i=("undo"==e?n.done:n.undone).pop();if(i){var r={changes:[],anchorBefore:i.anchorAfter,headBefore:i.headAfter,anchorAfter:i.anchorBefore,headAfter:i.headBefore,generation:n.generation};("undo"==e?n.undone:n.done).push(r),n.generation=i.generation||++n.maxGeneration;for(var o=Gi(t,"beforeChange")||t.cm&&Gi(t.cm,"beforeChange"),s=i.changes.length-1;s>=0;--s){var a=i.changes[s];if(a.origin=e,o&&!$e(t,a,!1))return("undo"==e?n.done:n.undone).length=0,void 0;r.changes.push(xi(t,a));var l=s?Ie(t,a,null):{anchor:i.anchorBefore,head:i.headBefore};ze(t,a,l,Hn(t,a));var c=[];ci(t,function(t,e){e||-1!=Ki(c,t.history)||(Mi(t.history,a),c.push(t.history)),ze(t,a,null,Hn(t,a))})}}}}function Re(t,e){function n(t){return Ue(t.line+e,t.ch)}t.first+=e,t.cm&&le(t.cm,t.first,t.first,e),t.sel.head=n(t.sel.head),t.sel.anchor=n(t.sel.anchor),t.sel.from=n(t.sel.from),t.sel.to=n(t.sel.to)}function ze(t,e,n,i){if(t.cm&&!t.cm.curOp)return oe(t.cm,ze)(t,e,n,i);if(e.to.line<t.first)return Re(t,e.text.length-1-(e.to.line-e.from.line)),void 0;if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Re(t,r),e={from:Ue(t.first,0),to:Ue(e.to.line+r,e.to.ch),text:[Yi(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:Ue(o,hi(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=di(t,e.from,e.to),n||(n=Ie(t,e,null)),t.cm?We(t.cm,e,i,n):si(t,e,i,n)}}function We(t,e,n,i){var o=t.doc,s=t.display,a=e.from,l=e.to,c=!1,h=a.line;t.options.lineWrapping||(h=mi(Fn(o,hi(o,a.line))),o.iter(h,l.line+1,function(t){return t==s.maxLine?(c=!0,!0):void 0})),Ve(o.sel.head,e.from)||Ve(e.to,o.sel.head)||(t.curOp.cursorActivity=!0),si(o,e,n,i,r(t)),t.options.lineWrapping||(o.iter(h,a.line+e.text.length,function(t){var e=u(o,t);e>s.maxLineLength&&(s.maxLine=t,s.maxLineLength=e,s.maxLineChanged=!0,c=!1)}),c&&(t.curOp.updateMaxLine=!0)),o.frontier=Math.min(o.frontier,a.line),N(t,400);var d=e.text.length-(l.line-a.line)-1;if(le(t,a.line,l.line+1,d),Gi(t,"change")){var p={from:a,to:l,text:e.text,removed:e.removed,origin:e.origin};if(t.curOp.textChanged){for(var f=t.curOp.textChanged;f.next;f=f.next);f.next=p}else t.curOp.textChanged=p}}function Ge(t,e,n,i,r){if(i||(i=n),Ve(i,n)){var o=i;i=n,n=o}"string"==typeof e&&(e=Po(e)),Oe(t,{from:n,to:i,text:e,origin:r},null)}function Ue(t,e){return this instanceof Ue?(this.line=t,this.ch=e,void 0):new Ue(t,e)}function Be(t,e){return t.line==e.line&&t.ch==e.ch}function Ve(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function qe(t){return Ue(t.line,t.ch)}function Ye(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function Xe(t,e){if(e.line<t.first)return Ue(t.first,0);var n=t.first+t.size-1;return e.line>n?Ue(n,hi(t,n).text.length):Ke(e,hi(t,e.line).text.length)}function Ke(t,e){var n=t.ch;return null==n||n>e?Ue(t.line,e):0>n?Ue(t.line,0):t}function Je(t,e){return e>=t.first&&e<t.first+t.size}function Ze(t,e,n,i){if(t.sel.shift||t.sel.extend){var r=t.sel.anchor;if(n){var o=Ve(e,r);o!=Ve(n,r)?(r=e,e=n):o!=Ve(e,n)&&(e=n)}tn(t,r,e,i)}else tn(t,e,n||e,i);t.cm&&(t.cm.curOp.userSelChange=!0)}function Qe(t,e,n){var i={anchor:e,head:n};return Fi(t,"beforeSelectionChange",t,i),t.cm&&Fi(t.cm,"beforeSelectionChange",t.cm,i),i.anchor=Xe(t,i.anchor),i.head=Xe(t,i.head),i}function tn(t,e,n,i,r){if(!r&&Gi(t,"beforeSelectionChange")||t.cm&&Gi(t.cm,"beforeSelectionChange")){var o=Qe(t,e,n);n=o.head,e=o.anchor}var s=t.sel;if(s.goalColumn=null,(r||!Be(e,s.anchor))&&(e=nn(t,e,i,"push"!=r)),(r||!Be(n,s.head))&&(n=nn(t,n,i,"push"!=r)),!Be(s.anchor,e)||!Be(s.head,n)){s.anchor=e,s.head=n;var a=Ve(n,e);s.from=a?n:e,s.to=a?e:n,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=t.cm.curOp.cursorActivity=!0),Ri(t,"cursorActivity",t)}}function en(t){tn(t.doc,t.doc.sel.from,t.doc.sel.to,null,"push")}function nn(t,e,n,i){var r=!1,o=e,s=n||1;t.cantEdit=!1;t:for(;;){var a=hi(t,o.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var c=a.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(i&&(Fi(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!u.atomic)continue;var h=u.find()[0>s?"from":"to"];if(Be(h,o)&&(h.ch+=s,h.ch<0?h=h.line>t.first?Xe(t,Ue(h.line-1)):null:h.ch>a.text.length&&(h=h.line<t.first+t.size-1?Ue(h.line+1,0):null),!h)){if(r)return i?(t.cantEdit=!0,Ue(t.first,0)):nn(t,e,n,!0);r=!0,h=e,s=-s}o=h;continue t}}return o}}function rn(t){var e=on(t,t.doc.sel.head,t.options.cursorScrollMargin);if(t.state.focused){var n=t.display,i=ar(n.sizer),r=null;if(e.top+i.top<0?r=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Ir){var o="none"==n.cursor.style.display;o&&(n.cursor.style.display="",n.cursor.style.left=e.left+"px",n.cursor.style.top=e.top-n.viewOffset+"px"),n.cursor.scrollIntoView(r),o&&(n.cursor.style.display="none")}}}function on(t,e,n){for(null==n&&(n=0);;){var i=!1,r=J(t,e),o=an(t,r.left,r.top-n,r.left,r.bottom+n),s=t.doc.scrollTop,a=t.doc.scrollLeft;if(null!=o.scrollTop&&(ke(t,o.scrollTop),Math.abs(t.doc.scrollTop-s)>1&&(i=!0)),null!=o.scrollLeft&&(Ce(t,o.scrollLeft),Math.abs(t.doc.scrollLeft-a)>1&&(i=!0)),!i)return r}}function sn(t,e,n,i,r){var o=an(t,e,n,i,r);null!=o.scrollTop&&ke(t,o.scrollTop),null!=o.scrollLeft&&Ce(t,o.scrollLeft)}function an(t,e,n,i,r){var o=t.display,s=ee(t.display);0>n&&(n=0);var a=o.scroller.clientHeight-Co,l=o.scroller.scrollTop,c={},u=t.doc.height+O(o),h=s>n,d=r>u-s;if(l>n)c.scrollTop=h?0:n;else if(r>l+a){var p=Math.min(n,(d?u:r)-a);p!=l&&(c.scrollTop=p)}var f=o.scroller.clientWidth-Co,m=o.scroller.scrollLeft;e+=o.gutters.offsetWidth,i+=o.gutters.offsetWidth;var g=o.gutters.offsetWidth,v=g+10>e;return m+g>e||v?(v&&(e=0),c.scrollLeft=Math.max(0,e-10-g)):i>f+m-3&&(c.scrollLeft=i+10-f),c}function ln(t,e,n){t.curOp.updateScrollPos={scrollLeft:null==e?t.doc.scrollLeft:e,scrollTop:null==n?t.doc.scrollTop:n}}function cn(t,e,n){var i=t.curOp.updateScrollPos||(t.curOp.updateScrollPos={scrollLeft:t.doc.scrollLeft,scrollTop:t.doc.scrollTop}),r=t.display.scroller;i.scrollTop=Math.max(0,Math.min(r.scrollHeight-r.clientHeight,i.scrollTop+n)),i.scrollLeft=Math.max(0,Math.min(r.scrollWidth-r.clientWidth,i.scrollLeft+e))}function un(t,e,n,i){var r=t.doc;if(null==n&&(n="add"),"smart"==n)if(t.doc.mode.indent)var o=I(t,e);else n="prev";var s,a=t.options.tabSize,l=hi(r,e),c=Vi(l.text,null,a),u=l.text.match(/^\s*/)[0];if("smart"==n&&(s=t.doc.mode.indent(o,l.text.slice(u.length),l.text),s==_o)){if(!i)return;n="prev"}"prev"==n?s=e>r.first?Vi(hi(r,e-1).text,null,a):0:"add"==n?s=c+t.options.indentUnit:"subtract"==n?s=c-t.options.indentUnit:"number"==typeof n&&(s=c+n),s=Math.max(0,s);var h="",d=0;if(t.options.indentWithTabs)for(var p=Math.floor(s/a);p;--p)d+=a,h+="	";s>d&&(h+=qi(s-d)),h!=u&&Ge(t.doc,h,Ue(e,0),Ue(e,u.length),"+input"),l.stateAfter=null}function hn(t,e,n){var i=e,r=e,o=t.doc;return"number"==typeof e?r=hi(o,Ye(o,e)):i=mi(e),null==i?null:n(r,i)?(le(t,i,i+1),r):null}function dn(t,e,n,i,r){function o(){var e=a+n;return e<t.first||e>=t.first+t.size?h=!1:(a=e,u=hi(t,e))}function s(t){var e=(r?xr:kr)(u,l,n,!0);if(null==e){if(t||!o())return h=!1;l=r?(0>n?mr:fr)(u):0>n?u.text.length:0}else l=e;return!0}var a=e.line,l=e.ch,c=n,u=hi(t,a),h=!0;if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var d=null,p="group"==i,f=!0;!(0>n)||s(!f);f=!1){var m=u.text.charAt(l)||"\n",g=er(m)?"w":p?/\s/.test(m)?null:"p":null;
if(d&&d!=g){0>n&&(n=1,s());break}if(g&&(d=g),n>0&&!s(!f))break}var v=nn(t,Ue(a,l),c,!0);return h||(v.hitSide=!0),v}function pn(t,e,n,i){var r,o=t.doc,s=e.left;if("page"==i){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=e.top+n*(a-(0>n?1.5:.5)*ee(t.display))}else"line"==i&&(r=n>0?e.bottom+3:e.top-3);for(;;){var l=Q(t,s,r);if(!l.outside)break;if(0>n?0>=r:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function fn(t,e){var n=e.ch,i=e.ch;if(t){(e.xRel<0||i==t.length)&&n?--n:++i;for(var r=t.charAt(n),o=er(r)?er:/\s/.test(r)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!er(t)};n>0&&o(t.charAt(n-1));)--n;for(;i<t.length&&o(t.charAt(i));)++i}return{from:Ue(e.line,n),to:Ue(e.line,i)}}function mn(t,e){Ze(t.doc,Ue(e,0),Xe(t.doc,Ue(e+1,0)))}function gn(e,n,i,r){t.defaults[e]=n,i&&(no[e]=r?function(t,e,n){n!=ro&&i(t,e,n)}:i)}function vn(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function yn(t,e,n){return t.startState?t.startState(e,n):!0}function bn(t){return"string"==typeof t?ho[t]:t}function wn(t,e,n){function i(e){e=bn(e);var r=e[t];if(r===!1)return"stop";if(null!=r&&n(r))return!0;if(e.nofallthrough)return"stop";var o=e.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return i(o);for(var s=0,a=o.length;a>s;++s){var l=i(o[s]);if(l)return l}return!1}for(var r=0;r<e.length;++r){var o=i(e[r]);if(o)return"stop"!=o}}function xn(t){var e=Ho[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function kn(t,e){if(Dr&&34==t.keyCode&&t["char"])return!1;var n=Ho[t.keyCode];return null==n||t.altGraphKey?!1:(t.altKey&&(n="Alt-"+n),(Ur?t.metaKey:t.ctrlKey)&&(n="Ctrl-"+n),(Ur?t.ctrlKey:t.metaKey)&&(n="Cmd-"+n),!e&&t.shiftKey&&(n="Shift-"+n),n)}function Cn(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0}function _n(t,e){this.lines=[],this.type=e,this.doc=t}function Tn(t,e,n,i,r){if(i&&i.shared)return En(t,e,n,i,r);if(t.cm&&!t.cm.curOp)return oe(t.cm,Tn)(t,e,n,i,r);var o=new _n(t,r);if("range"==r&&!Ve(e,n))return o;i&&Zi(i,o),o.replacedWith&&(o.collapsed=!0,o.replacedWith=ir("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||(o.replacedWith.ignoreEvents=!0)),o.collapsed&&(qr=!0),o.addToHistory&&ki(t,{from:e,to:n,origin:"markText"},{head:t.sel.head,anchor:t.sel.anchor},0/0);var s,a,l,c=e.line,u=0,h=t.cm;if(t.iter(c,n.line+1,function(i){h&&o.collapsed&&!h.options.lineWrapping&&Fn(t,i)==h.display.maxLine&&(l=!0);var r={from:null,to:null,marker:o};u+=i.text.length,c==e.line&&(r.from=e.ch,u-=e.ch),c==n.line&&(r.to=n.ch,u-=i.text.length-n.ch),o.collapsed&&(c==n.line&&(a=$n(i,n.ch)),c==e.line?s=$n(i,e.ch):fi(i,0)),Dn(i,r),++c}),o.collapsed&&t.iter(e.line,n.line+1,function(e){Rn(t,e)&&fi(e,0)}),o.clearOnEnter&&Oi(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Vr=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed){if(s!=a)throw new Error("Inserting collapsed marker overlapping an existing one");o.size=u,o.atomic=!0}return h&&(l&&(h.curOp.updateMaxLine=!0),(o.className||o.title||o.startStyle||o.endStyle||o.collapsed)&&le(h,e.line,n.line+1),o.atomic&&en(h)),o}function Sn(t,e){this.markers=t,this.primary=e;for(var n=0,i=this;n<t.length;++n)t[n].parent=this,Oi(t[n],"clear",function(){i.clear()})}function En(t,e,n,i,r){i=Zi(i),i.shared=!1;var o=[Tn(t,e,n,i,r)],s=o[0],a=i.replacedWith;return ci(t,function(t){a&&(i.replacedWith=a.cloneNode(!0)),o.push(Tn(t,Xe(t,e),Xe(t,n),i,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=Yi(o)}),new Sn(o,s)}function Mn(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function Ln(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function Dn(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function Pn(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);if(a||"bookmark"==s.type&&o.from==e&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push({from:o.from,to:l?null:o.to,marker:s})}}return i}function Nn(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||"bookmark"==s.type&&o.from==e&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push({from:l?null:o.from-e,to:null==o.to?null:o.to-e,marker:s})}}return i}function An(t,e){var n=Je(t,e.from.line)&&hi(t,e.from.line).markedSpans,i=Je(t,e.to.line)&&hi(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,o=e.to.ch,s=Be(e.from,e.to),a=Pn(n,r,s),l=Nn(i,o,s),c=1==e.text.length,u=Yi(e.text).length+(c?r:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var p=Mn(l,d.marker);p?c&&(d.to=null==p.to?null:p.to+u):d.to=r}}if(l)for(var h=0;h<l.length;++h){var d=l[h];if(null!=d.to&&(d.to+=u),null==d.from){var p=Mn(a,d.marker);p||(d.from=u,c&&(a||(a=[])).push(d))}else d.from+=u,c&&(a||(a=[])).push(d)}if(c&&a){for(var h=0;h<a.length;++h)null!=a[h].from&&a[h].from==a[h].to&&"bookmark"!=a[h].marker.type&&a.splice(h--,1);a.length||(a=null)}var f=[a];if(!c){var m,g=e.text.length-2;if(g>0&&a)for(var h=0;h<a.length;++h)null==a[h].to&&(m||(m=[])).push({from:null,to:null,marker:a[h].marker});for(var h=0;g>h;++h)f.push(m);f.push(l)}return f}function Hn(t,e){var n=_i(t,e),i=An(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(n[r]=s)}return n}function In(t,e,n){var i=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&-1!=Ki(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:e,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(),l=0;l<r.length;++l){var c=r[l];if(!Ve(c.to,a.from)&&!Ve(a.to,c.from)){var u=[l,1];(Ve(c.from,a.from)||!s.inclusiveLeft&&Be(c.from,a.from))&&u.push({from:c.from,to:a.from}),(Ve(a.to,c.to)||!s.inclusiveRight&&Be(c.to,a.to))&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function $n(t,e){var n,i=qr&&t.markedSpans;if(i)for(var r,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&(null==r.from||r.from<e)&&(null==r.to||r.to>e)&&(!n||n.width<r.marker.width)&&(n=r.marker);return n}function On(t){return $n(t,-1)}function jn(t){return $n(t,t.text.length+1)}function Fn(t,e){for(var n;n=On(e);)e=hi(t,n.find().from.line);return e}function Rn(t,e){var n=qr&&e.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.replacedWith&&0==i.from&&i.marker.inclusiveLeft&&zn(t,e,i))return!0}}function zn(t,e,n){if(null==n.to){var i=n.marker.find().to,r=hi(t,i.line);return zn(t,r,Mn(r.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var o,s=0;s<e.markedSpans.length;++s)if(o=e.markedSpans[s],o.marker.collapsed&&!o.marker.replacedWith&&o.from==n.to&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&zn(t,e,o))return!0}function Wn(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Gn(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Un(t){return function(){var e=!this.cm.curOp;e&&ie(this.cm);try{var n=t.apply(this,arguments)}finally{e&&re(this.cm)}return n}}function Bn(t){return null!=t.height?t.height:(t.node.parentNode&&1==t.node.parentNode.nodeType||or(t.cm.display.measure,ir("div",[t.node],null,"position: relative")),t.height=t.node.offsetHeight)}function Vn(t,e,n,i){var r=new po(t,n,i);return r.noHScroll&&(t.display.alignWidgets=!0),hn(t,e,function(e){var n=e.widgets||(e.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,!Rn(t.doc,e)||r.showIfHidden){var i=vi(t,e)<t.doc.scrollTop;fi(e,e.height+Bn(r)),i&&cn(t,0,r.height)}return!0}),r}function qn(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Wn(t),Gn(t,n);var r=i?i(t):1;r!=t.height&&fi(t,r)}function Yn(t){t.parent=null,Wn(t)}function Xn(t,e,n,i,r){var o=n.flattenSpans;null==o&&(o=t.options.flattenSpans);var s,a=0,l=null,c=new Cn(e,t.options.tabSize);for(""==e&&n.blankLine&&n.blankLine(i);!c.eol();)c.pos>t.options.maxHighlightLength?(o=!1,c.pos=Math.min(e.length,c.start+5e4),s=null):s=n.token(c,i),o&&l==s||(a<c.start&&r(c.start,l),a=c.start,l=s),c.start=c.pos;a<c.pos&&r(c.pos,l)}function Kn(t,e,n){var i=[t.state.modeGen];Xn(t,e.text,t.doc.mode,n,function(t,e){i.push(t,e)});for(var r=0;r<t.state.overlays.length;++r){var o=t.state.overlays[r],s=1,a=0;Xn(t,e.text,o.mode,!0,function(t,e){for(var n=s;t>a;){var r=i[s];r>t&&i.splice(s,1,t,i[s+1],r),s+=2,a=Math.min(t,r)}if(e)if(o.opaque)i.splice(n,s-n,t,e),s=n+2;else for(;s>n;n+=2){var l=i[n+1];i[n+1]=l?l+" "+e:e}})}return i}function Jn(t,e){return e.styles&&e.styles[0]==t.state.modeGen||(e.styles=Kn(t,e,e.stateAfter=I(t,mi(e)))),e.styles}function Zn(t,e,n){var i=t.doc.mode,r=new Cn(e.text,t.options.tabSize);for(""==e.text&&i.blankLine&&i.blankLine(n);!r.eol()&&r.pos<=t.options.maxHighlightLength;)i.token(r,n),r.start=r.pos}function Qn(t){return t?mo[t]||(mo[t]="cm-"+t.replace(/ +/g," cm-")):null}function ti(t,e,n,i){for(var r,o=e,s=!0;r=On(o);)o=hi(t.doc,r.find().from.line);var a={pre:ir("pre"),col:0,pos:0,measure:null,measuredSomething:!1,cm:t,copyWidgets:i};o.textClass&&(a.pre.className=o.textClass);do{o.text&&(s=!1),a.measure=o==e&&n,a.pos=0,a.addToken=a.measure?ni:ei,(_r||Er)&&t.getOption("lineWrapping")&&(a.addToken=ii(a.addToken));var l=oi(o,a,Jn(t,o));n&&o==e&&!a.measuredSomething&&(n[0]=a.pre.appendChild(ur(t.display.measure)),a.measuredSomething=!0),l&&(o=hi(t.doc,l.to.line))}while(l);!n||a.measuredSomething||n[0]||(n[0]=a.pre.appendChild(s?ir("span"," "):ur(t.display.measure))),a.pre.firstChild||Rn(t.doc,e)||a.pre.appendChild(document.createTextNode(" "));var c;if(n&&_r&&(c=yi(o))){var u=c.length-1;c[u].from==c[u].to&&--u;var h=c[u],d=c[u-1];if(h.from+1==h.to&&d&&h.level<d.level){var p=n[a.pos-1];p&&p.parentNode.insertBefore(p.measureRight=ur(t.display.measure),p.nextSibling)}}return Fi(t,"renderLine",t,e,a.pre),a.pre}function ei(t,e,n,i,r,o){if(e){if(go.test(e))for(var s=document.createDocumentFragment(),a=0;;){go.lastIndex=a;var l=go.exec(e),c=l?l.index-a:e.length-a;if(c&&(s.appendChild(document.createTextNode(e.slice(a,a+c))),t.col+=c),!l)break;if(a+=c+1,"	"==l[0]){var u=t.cm.options.tabSize,h=u-t.col%u;s.appendChild(ir("span",qi(h),"cm-tab")),t.col+=h}else{var d=ir("span","•","cm-invalidchar");d.title="\\u"+l[0].charCodeAt(0).toString(16),s.appendChild(d),t.col+=1}}else{t.col+=e.length;var s=document.createTextNode(e)}if(n||i||r||t.measure){var p=n||"";i&&(p+=i),r&&(p+=r);var d=ir("span",[s],p);return o&&(d.title=o),t.pre.appendChild(d)}t.pre.appendChild(s)}}function ni(t,e,n,i,r){for(var o=t.cm.options.lineWrapping,s=0;s<e.length;++s){var a=e.charAt(s),l=0==s;a>=""&&"">a&&s<e.length-1?(a=e.slice(s,s+2),++s):s&&o&&lr(e,s)&&t.pre.appendChild(ir("wbr"));var c=t.measure[t.pos],u=t.measure[t.pos]=ei(t,a,n,l&&i,s==e.length-1&&r);c&&(u.leftSide=c.leftSide||c),_r&&o&&" "==a&&s&&!/\s/.test(e.charAt(s-1))&&s<e.length-1&&!/\s/.test(e.charAt(s+1))&&(u.style.whiteSpace="normal"),t.pos+=a.length}e.length&&(t.measuredSomething=!0)}function ii(t){function e(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":" ";return e+=" "}return function(n,i,r,o,s,a){return t(n,i.replace(/ {3,}/,e),r,o,s,a)}}function ri(t,e,n,i){var r=!i&&n.replacedWith;if(r&&(t.copyWidgets&&(r=r.cloneNode(!0)),t.pre.appendChild(r),t.measure)){if(e)t.measure[t.pos]=r;else{var o=t.measure[t.pos]=ur(t.cm.display.measure);"bookmark"!=n.type||n.insertLeft?t.pre.insertBefore(o,r):t.pre.appendChild(o)}t.measuredSomething=!0}t.pos+=e}function oi(t,e,n){var i=t.markedSpans,r=t.text,o=0;if(i)for(var s,a,l,c,u,h,d=r.length,p=0,f=1,m="",g=0;;){if(g==p){a=l=c=u="",h=null,g=1/0;for(var v=null,y=0;y<i.length;++y){var b=i[y],w=b.marker;b.from<=p&&(null==b.to||b.to>p)?(null!=b.to&&g>b.to&&(g=b.to,l=""),w.className&&(a+=" "+w.className),w.startStyle&&b.from==p&&(c+=" "+w.startStyle),w.endStyle&&b.to==g&&(l+=" "+w.endStyle),w.title&&!u&&(u=w.title),w.collapsed&&(!h||h.marker.size<w.size)&&(h=b)):b.from>p&&g>b.from&&(g=b.from),"bookmark"==w.type&&b.from==p&&w.replacedWith&&(v=w)}if(h&&(h.from||0)==p&&(ri(e,(null==h.to?d:h.to)-p,h.marker,null==h.from),null==h.to))return h.marker.find();v&&!h&&ri(e,0,v)}if(p>=d)break;for(var x=Math.min(d,g);;){if(m){var k=p+m.length;if(!h){var C=k>x?m.slice(0,x-p):m;e.addToken(e,C,s?s+a:a,c,p+C.length==g?l:"",u)}if(k>=x){m=m.slice(x-p),p=x;break}p=k,c=""}m=r.slice(o,o=n[f++]),s=Qn(n[f++])}}else for(var f=1;f<n.length;f+=2)e.addToken(e,r.slice(o,o=n[f]),Qn(n[f+1]))}function si(t,e,n,i,r){function o(t){return n?n[t]:null}function s(t,n,i){qn(t,n,i,r),Ri(t,"change",t,e)}var a=e.from,l=e.to,c=e.text,u=hi(t,a.line),h=hi(t,l.line),d=Yi(c),p=o(c.length-1),f=l.line-a.line;if(0==a.ch&&0==l.ch&&""==d){for(var m=0,g=c.length-1,v=[];g>m;++m)v.push(new fo(c[m],o(m),r));s(h,h.text,p),f&&t.remove(a.line,f),v.length&&t.insert(a.line,v)}else if(u==h)if(1==c.length)s(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),p);else{for(var v=[],m=1,g=c.length-1;g>m;++m)v.push(new fo(c[m],o(m),r));v.push(new fo(d+u.text.slice(l.ch),p,r)),s(u,u.text.slice(0,a.ch)+c[0],o(0)),t.insert(a.line+1,v)}else if(1==c.length)s(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),o(0)),t.remove(a.line+1,f);else{s(u,u.text.slice(0,a.ch)+c[0],o(0)),s(h,d+h.text.slice(l.ch),p);for(var m=1,g=c.length-1,v=[];g>m;++m)v.push(new fo(c[m],o(m),r));f>1&&t.remove(a.line+1,f-1),t.insert(a.line+1,v)}Ri(t,"change",t,e),tn(t,i.anchor,i.head,null,!0)}function ai(t){this.lines=t,this.parent=null;for(var e=0,n=t.length,i=0;n>e;++e)t[e].parent=this,i+=t[e].height;this.height=i}function li(t){this.children=t;for(var e=0,n=0,i=0,r=t.length;r>i;++i){var o=t[i];e+=o.chunkSize(),n+=o.height,o.parent=this}this.size=e,this.height=n,this.parent=null}function ci(t,e,n){function i(t,r,o){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;(!n||l)&&(e(a.doc,l),i(a.doc,t,l))}}}i(t,null,!0)}function ui(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,o(t),n(t),t.options.lineWrapping||h(t),t.options.mode=e.modeOption,le(t)}function hi(t,e){for(e-=t.first;!t.lines;)for(var n=0;;++n){var i=t.children[n],r=i.chunkSize();if(r>e){t=i;break}e-=r}return t.lines[e]}function di(t,e,n){var i=[],r=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;r==n.line&&(o=o.slice(0,n.ch)),r==e.line&&(o=o.slice(e.ch)),i.push(o),++r}),i}function pi(t,e,n){var i=[];return t.iter(e,n,function(t){i.push(t.text)}),i}function fi(t,e){for(var n=e-t.height,i=t;i;i=i.parent)i.height+=n}function mi(t){if(null==t.parent)return null;for(var e=t.parent,n=Ki(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function gi(t,e){var n=t.first;t:do{for(var i=0,r=t.children.length;r>i;++i){var o=t.children[i],s=o.height;if(s>e){t=o;continue t}e-=s,n+=o.chunkSize()}return n}while(!t.lines);for(var i=0,r=t.lines.length;r>i;++i){var a=t.lines[i],l=a.height;if(l>e)break;e-=l}return n+i}function vi(t,e){e=Fn(t.doc,e);for(var n=0,i=e.parent,r=0;r<i.lines.length;++r){var o=i.lines[r];if(o==e)break;n+=o.height}for(var s=i.parent;s;i=s,s=i.parent)for(var r=0;r<s.children.length;++r){var a=s.children[r];if(a==i)break;n+=a.height}return n}function yi(t){var e=t.order;return null==e&&(e=t.order=$o(t.text)),e}function bi(t){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,generation:t||1,maxGeneration:t||1}}function wi(t,e,n,i){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),function(n){n.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function xi(t,e){var n={line:e.from.line,ch:e.from.ch},i={from:n,to:eo(e),text:di(t,e.from,e.to)};return wi(t,i,e.from.line,e.to.line+1),ci(t,function(t){wi(t,i,e.from.line,e.to.line+1)},!0),i}function ki(t,e,n,i){var r=t.history;r.undone.length=0;var o=+new Date,s=Yi(r.done);if(s&&(r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&r.lastTime>o-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))){var a=Yi(s.changes);Be(e.from,e.to)&&Be(e.from,a.to)?a.to=eo(e):s.changes.push(xi(t,e)),s.anchorAfter=n.anchor,s.headAfter=n.head}else for(s={changes:[xi(t,e)],generation:r.generation,anchorBefore:t.sel.anchor,headBefore:t.sel.head,anchorAfter:n.anchor,headAfter:n.head},r.done.push(s),r.generation=++r.maxGeneration;r.done.length>r.undoDepth;)r.done.shift();r.lastTime=o,r.lastOp=i,r.lastOrigin=e.origin}function Ci(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function _i(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=0,r=[];i<e.text.length;++i)r.push(Ci(n[i]));return r}function Ti(t,e){for(var n=0,i=[];n<t.length;++n){var r=t[n],o=r.changes,s=[];i.push({changes:s,anchorBefore:r.anchorBefore,headBefore:r.headBefore,anchorAfter:r.anchorAfter,headAfter:r.headAfter});for(var a=0;a<o.length;++a){var l,c=o[a];if(s.push({from:c.from,to:c.to,text:c.text}),e)for(var u in c)(l=u.match(/^spans_(\d+)$/))&&Ki(e,Number(l[1]))>-1&&(Yi(s)[u]=c[u],delete c[u])}}return i}function Si(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function Ei(t,e,n,i){for(var r=0;r<t.length;++r){for(var o=t[r],s=!0,a=0;a<o.changes.length;++a){var l=o.changes[a];if(o.copied||(l.from=qe(l.from),l.to=qe(l.to)),n<l.from.line)l.from.line+=i,l.to.line+=i;else if(e<=l.to.line){s=!1;break}}o.copied||(o.anchorBefore=qe(o.anchorBefore),o.headBefore=qe(o.headBefore),o.anchorAfter=qe(o.anchorAfter),o.readAfter=qe(o.headAfter),o.copied=!0),s?(Si(o.anchorBefore),Si(o.headBefore),Si(o.anchorAfter),Si(o.headAfter)):(t.splice(0,r+1),r=0)}}function Mi(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;Ei(t.done,n,i,r),Ei(t.undone,n,i,r)}function Li(){Hi(this)}function Di(t){return t.stop||(t.stop=Li),t}function Pi(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Ni(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Ai(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Hi(t){Pi(t),Ni(t)}function Ii(t){return t.target||t.srcElement}function $i(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),jr&&t.ctrlKey&&1==e&&(e=3),e}function Oi(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={}),r=i[e]||(i[e]=[]);r.push(n)}}function ji(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var i=t._handlers&&t._handlers[e];if(!i)return;for(var r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}}}function Fi(t,e){var n=t._handlers&&t._handlers[e];if(n)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function Ri(t,e){function n(t){return function(){t.apply(null,r)}}var i=t._handlers&&t._handlers[e];if(i){var r=Array.prototype.slice.call(arguments,2);xo||(++ko,xo=[],setTimeout(Wi,0));for(var o=0;o<i.length;++o)xo.push(n(i[o]))}}function zi(t,e,n){return Fi(t,n||e.type,t,e),Ai(e)||e.codemirrorIgnore}function Wi(){--ko;var t=xo;xo=null;for(var e=0;e<t.length;++e)t[e]()}function Gi(t,e){var n=t._handlers&&t._handlers[e];return n&&n.length>0}function Ui(t){t.prototype.on=function(t,e){Oi(this,t,e)},t.prototype.off=function(t,e){ji(this,t,e)}}function Bi(){this.id=null}function Vi(t,e,n,i,r){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=i||0,s=r||0;e>o;++o)"	"==t.charAt(o)?s+=n-s%n:++s;return s}function qi(t){for(;To.length<=t;)To.push(Yi(To)+" ");return To[t]}function Yi(t){return t[t.length-1]}function Xi(t){if($r)t.selectionStart=0,t.selectionEnd=t.value.length;else try{t.select()}catch(e){}}function Ki(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;i>n;++n)if(t[n]==e)return n;return-1}function Ji(t,e){function n(){}n.prototype=t;var i=new n;return e&&Zi(e,i),i}function Zi(t,e){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Qi(t){for(var e=[],n=0;t>n;++n)e.push(void 0);return e}function tr(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function er(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||So.test(t))}function nr(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function ir(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof e)sr(r,e);else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function rr(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function or(t,e){return rr(t).appendChild(e)}function sr(t,e){Sr?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.textContent=e}function ar(t){return t.getBoundingClientRect()}function lr(){return!1}function cr(t){if(null!=Lo)return Lo;var e=ir("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return or(t,e),e.offsetWidth&&(Lo=e.offsetHeight-e.clientHeight),Lo||0}function ur(t){if(null==Do){var e=ir("span","​");or(t,ir("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Do=e.offsetWidth<=1&&e.offsetHeight>2&&!Tr)}return Do?ir("span","​"):ir("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function hr(t,e,n,i){if(!t)return i(e,n,"ltr");for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(i(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(e,n,"ltr")}function dr(t){return t.level%2?t.to:t.from}function pr(t){return t.level%2?t.from:t.to}function fr(t){var e=yi(t);return e?dr(e[0]):0}function mr(t){var e=yi(t);return e?pr(Yi(e)):t.text.length}function gr(t,e){var n=hi(t.doc,e),i=Fn(t.doc,n);i!=n&&(e=mi(i));var r=yi(i),o=r?r[0].level%2?mr(i):fr(i):0;return Ue(e,o)}function vr(t,e){for(var n,i;n=jn(i=hi(t.doc,e));)e=n.find().to.line;var r=yi(i),o=r?r[0].level%2?fr(i):mr(i):i.text.length;return Ue(e,o)}function yr(t,e,n){var i=t[0].level;return e==i?!0:n==i?!1:n>e}function br(t,e){for(var n,i=0;i<t.length;++i){var r=t[i];if(r.from<e&&r.to>e)return Io=null,i;if(r.from==e||r.to==e){if(null!=n)return yr(t,r.level,t[n].level)?(Io=n,i):(Io=i,n);n=i}}return Io=null,n}function wr(t,e,n,i){if(!i)return e+n;do e+=n;while(e>0&&Eo.test(t.text.charAt(e)));return e}function xr(t,e,n,i){var r=yi(t);if(!r)return kr(t,e,n,i);for(var o=br(r,e),s=r[o],a=wr(t,e,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return br(r,a)==o?a:(s=r[o+=n],n>0==s.level%2?s.to:s.from);if(s=r[o+=n],!s)return null;a=n>0==s.level%2?wr(t,s.to,-1,i):wr(t,s.from,1,i)}}function kr(t,e,n,i){var r=e+n;if(i)for(;r>0&&Eo.test(t.text.charAt(r));)r+=n;return 0>r||r>t.text.length?null:r}var Cr=/gecko\/\d/i.test(navigator.userAgent),_r=/MSIE \d/.test(navigator.userAgent),Tr=_r&&(null==document.documentMode||document.documentMode<8),Sr=_r&&(null==document.documentMode||document.documentMode<9),Er=/WebKit\//.test(navigator.userAgent),Mr=Er&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Lr=/Chrome\//.test(navigator.userAgent),Dr=/Opera\//.test(navigator.userAgent),Pr=/Apple Computer/.test(navigator.vendor),Nr=/KHTML\//.test(navigator.userAgent),Ar=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Hr=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Ir=/PhantomJS/.test(navigator.userAgent),$r=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Or=$r||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),jr=$r||/Mac/.test(navigator.platform),Fr=/windows/i.test(navigator.platform),Rr=Dr&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Rr&&(Rr=Number(Rr[1])),Rr&&Rr>=15&&(Dr=!1,Er=!0);var zr,Wr,Gr,Ur=jr&&(Mr||Dr&&(null==Rr||12.11>Rr)),Br=Cr||_r&&!Sr,Vr=!1,qr=!1,Yr=0,Xr=0,Kr=0,Jr=null;_r?Jr=-.53:Cr?Jr=15:Lr?Jr=-.7:Pr&&(Jr=-1/3);var Zr,Qr,to=null,eo=t.changeEnd=function(t){return t.text?Ue(t.from.line+t.text.length-1,Yi(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.Pos=Ue,t.prototype={constructor:t,focus:function(){window.focus(),pe(this),Pe(this),ue(this)},setOption:function(t,e){var n=this.options,i=n[t];(n[t]!=e||"mode"==t)&&(n[t]=e,no.hasOwnProperty(t)&&oe(this,no[t])(this,e,i))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](t)},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||"string"!=typeof e[n]&&e[n].name==t)return e.splice(n,1),!0},addOverlay:oe(null,function(e,n){var i=e.token?e:t.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:e,opaque:n&&n.opaque}),this.state.modeGen++,le(this)}),removeOverlay:oe(null,function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,le(this),void 0}}),indentLine:oe(null,function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Je(this.doc,t)&&un(this,t,e,n)}),indentSelection:oe(null,function(t){var e=this.doc.sel;if(Be(e.from,e.to))return un(this,e.from.line,t);for(var n=e.to.line-(e.to.ch?0:1),i=e.from.line;n>=i;++i)un(this,i,t)}),getTokenAt:function(t,e){var n=this.doc;t=Xe(n,t);for(var i=I(this,t.line,e),r=this.doc.mode,o=hi(n,t.line),s=new Cn(o.text,this.options.tabSize);s.pos<t.ch&&!s.eol();){s.start=s.pos;var a=r.token(s,i)}return{start:s.start,end:s.pos,string:s.current(),className:a||null,type:a||null,state:i}},getTokenTypeAt:function(t){t=Xe(this.doc,t);var e=Jn(this,hi(this.doc,t.line)),n=0,i=(e.length-1)/2,r=t.ch;if(0==r)return e[2];for(;;){var o=n+i>>1;if((o?e[2*o-1]:0)>=r)i=o;else{if(!(e[2*o+1]<r))return e[2*o+2];n=o+1}}},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){if(co.hasOwnProperty(e)){var n=co[e],i=this.getModeAt(t);return i[e]&&n[i[e]]||i.helperType&&n[i.helperType]||n[i.name]}},getStateAfter:function(t,e){var n=this.doc;return t=Ye(n,null==t?n.first+n.size-1:t),I(this,t+1,e)},cursorCoords:function(t,e){var n,i=this.doc.sel;return n=null==t?i.head:"object"==typeof t?Xe(this.doc,t):t?i.from:i.to,J(this,n,e||"page")},charCoords:function(t,e){return K(this,Xe(this.doc,t),e||"page")},coordsChar:function(t,e){return t=X(this,t,e||"page"),Q(this,t.left,t.top)},lineAtHeight:function(t,e){return t=X(this,{top:t,left:0},e||"page").top,gi(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n=!1,i=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>i&&(t=i,n=!0);var r=hi(this.doc,t);return Y(this,hi(this.doc,t),{top:0,left:0},e||"page").top+(n?r.height:0)},defaultTextHeight:function(){return ee(this.display)},defaultCharWidth:function(){return ne(this.display)},setGutterMarker:oe(null,function(t,e,n){return hn(this,t,function(t){var i=t.gutterMarkers||(t.gutterMarkers={});return i[e]=n,!n&&nr(i)&&(t.gutterMarkers=null),!0})}),clearGutter:oe(null,function(t){var e=this,n=e.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&(n.gutterMarkers[t]=null,le(e,i,i+1),nr(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),addLineClass:oe(null,function(t,e,n){return hn(this,t,function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"wrapClass";if(t[i]){if(new RegExp("(?:^|\\s)"+n+"(?:$|\\s)").test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:oe(null,function(t,e,n){return hn(this,t,function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"wrapClass",r=t[i];if(!r)return!1;if(null==n)t[i]=null;else{var o=r.match(new RegExp("(?:^|\\s+)"+n+"(?:$|\\s+)"));if(!o)return!1;var s=o.index+o[0].length;t[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:oe(null,function(t,e,n){return Vn(this,t,e,n)}),removeLineWidget:function(t){t.clear()},lineInfo:function(t){if("number"==typeof t){if(!Je(this.doc,t))return null;var e=t;if(t=hi(this.doc,t),!t)return null}else{var e=mi(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(t,e,n,i,r){var o=this.display;t=J(this,Xe(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",o.sizer.appendChild(e),"over"==i)s=t.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),n&&sn(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:oe(null,Le),execCommand:function(t){return uo[t](this)},findPosH:function(t,e,n,i){var r=1;0>e&&(r=-1,e=-e);for(var o=0,s=Xe(this.doc,t);e>o&&(s=dn(this.doc,s,r,n,i),!s.hitSide);++o);return s},moveH:oe(null,function(t,e){var n,i=this.doc.sel;n=i.shift||i.extend||Be(i.from,i.to)?dn(this.doc,i.head,t,e,this.options.rtlMoveVisually):0>t?i.from:i.to,Ze(this.doc,n,n,t)}),deleteH:oe(null,function(t,e){var n=this.doc.sel;Be(n.from,n.to)?Ge(this.doc,"",n.from,dn(this.doc,n.head,t,e,!1),"+delete"):Ge(this.doc,"",n.from,n.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(t,e,n,i){var r=1,o=i;0>e&&(r=-1,e=-e);for(var s=0,a=Xe(this.doc,t);e>s;++s){var l=J(this,a,"div");if(null==o?o=l.left:l.left=o,a=pn(this,l,r,n),a.hitSide)break}return a},moveV:oe(null,function(t,e){var n=this.doc.sel,i=J(this,n.head,"div");null!=n.goalColumn&&(i.left=n.goalColumn);var r=pn(this,i,t,e);"page"==e&&cn(this,0,K(this,r,"div").top-i.top),Ze(this.doc,r,r,t),n.goalColumn=i.left}),toggleOverwrite:function(t){(null==t||t!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite",""))},hasFocus:function(){return this.state.focused},scrollTo:oe(null,function(t,e){ln(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller,e=Co;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-e,width:t.scrollWidth-e,clientHeight:t.clientHeight-e,clientWidth:t.clientWidth-e}},scrollIntoView:oe(null,function(t,e){"number"==typeof t&&(t=Ue(t,0)),e||(e=0);var n=t;t&&null==t.line||(this.curOp.scrollToPos=t?Xe(this.doc,t):this.doc.sel.head,this.curOp.scrollToPosMargin=e,n=J(this,this.curOp.scrollToPos));var i=an(this,n.left,n.top-e,n.right,n.bottom+e);ln(this,i.scrollLeft,i.scrollTop)}),setSize:oe(null,function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}null!=t&&(this.display.wrapper.style.width=n(t)),null!=e&&(this.display.wrapper.style.height=n(e)),this.options.lineWrapping&&(this.display.measureLineCache.length=this.display.measureLineCachePos=0),this.curOp.forceUpdate=!0}),operation:function(t){return ae(this,t)},refresh:oe(null,function(){B(this),ln(this,this.doc.scrollLeft,this.doc.scrollTop),le(this)}),swapDoc:oe(null,function(t){var e=this.doc;return e.cm=null,ui(this,t),B(this),de(this,!0),ln(this,t.scrollLeft,t.scrollTop),e}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ui(t);var no=t.optionHandlers={},io=t.defaults={},ro=t.Init={toString:function(){return"CodeMirror.Init"}};gn("value","",function(t,e){t.setValue(e)},!0),gn("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),gn("indentUnit",2,n,!0),gn("indentWithTabs",!1),gn("smartIndent",!0),gn("tabSize",4,function(t){n(t),B(t),le(t)},!0),gn("electricChars",!0),gn("rtlMoveVisually",!Fr),gn("theme","default",function(t){a(t),l(t)
},!0),gn("keyMap","default",s),gn("extraKeys",null),gn("onKeyEvent",null),gn("onDragEvent",null),gn("lineWrapping",!1,i,!0),gn("gutters",[],function(t){d(t.options),l(t)},!0),gn("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?y(t.display)+"px":"0",t.refresh()},!0),gn("coverGutterNextToScrollbar",!1,p,!0),gn("lineNumbers",!1,function(t){d(t.options),l(t)},!0),gn("firstLineNumber",1,l,!0),gn("lineNumberFormatter",function(t){return t},l,!0),gn("showCursorWhenSelecting",!1,M,!0),gn("readOnly",!1,function(t,e){"nocursor"==e?(Ne(t),t.display.input.blur()):e||de(t,!0)}),gn("dragDrop",!0),gn("cursorBlinkRate",530),gn("cursorScrollMargin",0),gn("cursorHeight",1),gn("workTime",100),gn("workDelay",100),gn("flattenSpans",!0),gn("pollInterval",100),gn("undoDepth",40,function(t,e){t.doc.history.undoDepth=e}),gn("historyEventDelay",500),gn("viewportMargin",10,function(t){t.refresh()},!0),gn("maxHighlightLength",1e4,function(t){n(t),t.refresh()},!0),gn("moveInputWithCursor",!0,function(t,e){e||(t.display.inputDiv.style.top=t.display.inputDiv.style.left=0)}),gn("tabindex",null,function(t,e){t.display.input.tabIndex=e||""}),gn("autofocus",null);var oo=t.modes={},so=t.mimeModes={};t.defineMode=function(e,n){if(t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2){n.dependencies=[];for(var i=2;i<arguments.length;++i)n.dependencies.push(arguments[i])}oo[e]=n},t.defineMIME=function(t,e){so[t]=e},t.resolveMode=function(e){if("string"==typeof e&&so.hasOwnProperty(e))e=so[e];else if(e&&"string"==typeof e.name&&so.hasOwnProperty(e.name)){var n=so[e.name];e=Ji(n,e),e.name=n.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){var n=t.resolveMode(n),i=oo[n.name];if(!i)return t.getMode(e,"text/plain");var r=i(e,n);if(ao.hasOwnProperty(n.name)){var o=ao[n.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}return r.name=n.name,r},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var ao=t.modeExtensions={};t.extendMode=function(t,e){var n=ao.hasOwnProperty(t)?ao[t]:ao[t]={};Zi(e,n)},t.defineExtension=function(e,n){t.prototype[e]=n},t.defineDocExtension=function(t,e){yo.prototype[t]=e},t.defineOption=gn;var lo=[];t.defineInitHook=function(t){lo.push(t)};var co=t.helpers={};t.registerHelper=function(e,n,i){co.hasOwnProperty(e)||(co[e]=t[e]={}),co[e][n]=i},t.isWordChar=er,t.copyState=vn,t.startState=yn,t.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var uo=t.commands={selectAll:function(t){t.setSelection(Ue(t.firstLine(),0),Ue(t.lastLine()))},killLine:function(t){var e=t.getCursor(!0),n=t.getCursor(!1),i=!Be(e,n);i||t.getLine(e.line).length!=e.ch?t.replaceRange("",e,i?n:Ue(e.line),"+delete"):t.replaceRange("",e,Ue(e.line+1,0),"+delete")},deleteLine:function(t){var e=t.getCursor().line;t.replaceRange("",Ue(e,0),Ue(e),"+delete")},delLineLeft:function(t){var e=t.getCursor();t.replaceRange("",Ue(e.line,0),e,"+delete")},undo:function(t){t.undo()},redo:function(t){t.redo()},goDocStart:function(t){t.extendSelection(Ue(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Ue(t.lastLine()))},goLineStart:function(t){t.extendSelection(gr(t,t.getCursor().line))},goLineStartSmart:function(t){var e=t.getCursor(),n=gr(t,e.line),i=t.getLineHandle(n.line),r=yi(i);if(r&&0!=r[0].level)t.extendSelection(n);else{var o=Math.max(0,i.text.search(/\S/)),s=e.line==n.line&&e.ch<=o&&e.ch;t.extendSelection(Ue(n.line,s?0:o))}},goLineEnd:function(t){t.extendSelection(vr(t,t.getCursor().line))},goLineRight:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div"))},goLineLeft:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:0,top:e},"div"))},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	","end","+input")},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.replaceSelection("	","end","+input")},transposeChars:function(t){var e=t.getCursor(),n=t.getLine(e.line);e.ch>0&&e.ch<n.length-1&&t.replaceRange(n.charAt(e.ch)+n.charAt(e.ch-1),Ue(e.line,e.ch-1),Ue(e.line,e.ch+1))},newlineAndIndent:function(t){oe(t,function(){t.replaceSelection("\n","end","+input"),t.indentLine(t.getCursor().line,null,!0)})()},toggleOverwrite:function(t){t.toggleOverwrite()}},ho=t.keyMap={};ho.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},ho.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},ho.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]},ho["default"]=jr?ho.macDefault:ho.pcDefault,ho.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},t.lookupKey=wn,t.isModifierKey=xn,t.keyName=kn,t.fromTextArea=function(e,n){function i(){e.value=c.getValue()}if(n||(n={}),n.value=e.value,!n.tabindex&&e.tabindex&&(n.tabindex=e.tabindex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var r=document.body;try{r=document.activeElement}catch(o){}n.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}if(e.form&&(Oi(e.form,"submit",i),!n.leaveSubmitMethodAlone)){var s=e.form,a=s.submit;try{var l=s.submit=function(){i(),s.submit=a,s.submit(),s.submit=l}}catch(o){}}e.style.display="none";var c=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return c.save=i,c.getTextArea=function(){return e},c.toTextArea=function(){i(),e.parentNode.removeChild(c.getWrapperElement()),e.style.display="",e.form&&(ji(e.form,"submit",i),"function"==typeof e.form.submit&&(e.form.submit=a))},c},Cn.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));return n?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Vi(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return Vi(this.string,null,this.tabSize)},match:function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&e!==!1&&(this.pos+=i[0].length),i)}var r=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);return r(o)==r(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=Cn,t.TextMarker=_n,Ui(_n),_n.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&ie(t),Gi(this,"clear")){var n=this.find();n&&Ri(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Mn(s.markedSpans,this);null!=a.to&&(r=mi(s)),s.markedSpans=Ln(s.markedSpans,a),null!=a.from?i=mi(s):this.collapsed&&!Rn(this.doc,s)&&t&&fi(s,ee(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=Fn(t.doc,this.lines[o]),c=u(t.doc,l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=i&&t&&le(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&en(t)),e&&re(t)}},_n.prototype.find=function(){for(var t,e,n=0;n<this.lines.length;++n){var i=this.lines[n],r=Mn(i.markedSpans,this);if(null!=r.from||null!=r.to){var o=mi(i);null!=r.from&&(t=Ue(o,r.from)),null!=r.to&&(e=Ue(o,r.to))}}return"bookmark"==this.type?t:t&&{from:t,to:e}},_n.prototype.changed=function(){var t=this.find(),e=this.doc.cm;if(t&&e){var n=hi(this.doc,t.from.line);if(z(e,n),t.from.line>=e.display.showingFrom&&t.from.line<e.display.showingTo){for(var i=e.display.lineDiv.firstChild;i;i=i.nextSibling)if(i.lineObj==n){i.offsetHeight!=n.height&&fi(n,i.offsetHeight);break}ae(e,function(){e.curOp.selectionChanged=e.curOp.forceUpdate=e.curOp.updateMaxLine=!0})}}},_n.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Ki(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},_n.prototype.detachLine=function(t){if(this.lines.splice(Ki(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},t.SharedTextMarker=Sn,Ui(Sn),Sn.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Ri(this,"clear")}},Sn.prototype.find=function(){return this.primary.find()};var po=t.LineWidget=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.cm=t,this.node=e};Ui(po),po.prototype.clear=Un(function(){var t=this.line.widgets,e=mi(this.line);if(null!=e&&t){for(var n=0;n<t.length;++n)t[n]==this&&t.splice(n--,1);t.length||(this.line.widgets=null);var i=vi(this.cm,this.line)<this.cm.doc.scrollTop;fi(this.line,Math.max(0,this.line.height-Bn(this))),i&&cn(this.cm,0,-this.height),le(this.cm,e,e+1)}}),po.prototype.changed=Un(function(){var t=this.height;this.height=null;var e=Bn(this)-t;if(e){fi(this.line,this.line.height+e);var n=mi(this.line);le(this.cm,n,n+1)}});var fo=t.Line=function(t,e,n){this.text=t,Gn(this,e),this.height=n?n(this):1};Ui(fo);var mo={},go=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;ai.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;i>n;++n){var r=this.lines[n];this.height-=r.height,Yn(r),Ri(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.splice.apply(t,[t.length,0].concat(this.lines))},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0,r=e.length;r>i;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;i>t;++t)if(n(this.lines[t]))return!0}},li.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(r>t){var o=Math.min(e,r-t),s=i.height;if(i.removeInner(t,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25){var a=[];this.collapse(a),this.children=[new ai(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0,n=this.children.length;n>e;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0,r=this.children.length;r>i;++i){var o=this.children[i],s=o.chunkSize();if(s>=t){if(o.insertInner(t,e,n),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var a=o.lines.splice(o.lines.length-25,25),l=new ai(a);o.height-=l.height,this.children.splice(i+1,0,l),l.parent=this}this.maybeSpill()}break}t-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new li(e);if(t.parent){t.size-=n.size,t.height-=n.height;var i=Ki(t.parent.children,t);t.parent.children.splice(i+1,0,n)}else{var r=new li(t.children);r.parent=t,t.children=[r,n],t=r}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0,r=this.children.length;r>i;++i){var o=this.children[i],s=o.chunkSize();if(s>t){var a=Math.min(e,s-t);if(o.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=s}}};var vo=0,yo=t.Doc=function(t,e,n){if(!(this instanceof yo))return new yo(t,e,n);null==n&&(n=0),li.call(this,[new ai([new fo("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=bi(),this.cleanGeneration=1,this.frontier=n;var i=Ue(n,0);this.sel={from:i,to:i,head:i,anchor:i,shift:!1,extend:!1,goalColumn:null},this.id=++vo,this.modeOption=e,"string"==typeof t&&(t=Po(t)),si(this,{from:i,to:i,text:t},null,{head:i,anchor:i})};yo.prototype=Ji(li.prototype,{constructor:yo,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0,r=e.length;r>i;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=pi(this,this.first,this.first+this.size);return t===!1?e:e.join(t||"\n")},setValue:function(t){var e=Ue(this.first,0),n=this.first+this.size-1;Oe(this,{from:e,to:Ue(n,hi(this,n).text.length),text:Po(t),origin:"setValue"},{head:e,anchor:e},!0)},replaceRange:function(t,e,n,i){e=Xe(this,e),n=n?Xe(this,n):e,Ge(this,t,e,n,i)},getRange:function(t,e,n){var i=di(this,Xe(this,t),Xe(this,e));return n===!1?i:i.join(n||"\n")},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},setLine:function(t,e){Je(this,t)&&Ge(this,e,Ue(t,0),Xe(this,Ue(t)))},removeLine:function(t){t?Ge(this,"",Xe(this,Ue(t-1)),Xe(this,Ue(t))):Ge(this,"",Ue(0,0),Xe(this,Ue(1,0)))},getLineHandle:function(t){return Je(this,t)?hi(this,t):void 0},getLineNumber:function(t){return mi(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=hi(this,t)),Fn(this,t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return Xe(this,t)},getCursor:function(t){var e,n=this.sel;return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||t===!1?n.to:n.from,qe(e)},somethingSelected:function(){return!Be(this.sel.head,this.sel.anchor)},setCursor:se(function(t,e,n){var i=Xe(this,"number"==typeof t?Ue(t,e||0):t);n?Ze(this,i):tn(this,i,i)}),setSelection:se(function(t,e){tn(this,Xe(this,t),Xe(this,e||t))}),extendSelection:se(function(t,e){Ze(this,Xe(this,t),e&&Xe(this,e))}),getSelection:function(t){return this.getRange(this.sel.from,this.sel.to,t)},replaceSelection:function(t,e,n){Oe(this,{from:this.sel.from,to:this.sel.to,text:Po(t),origin:n},e||"around")},undo:se(function(){Fe(this,"undo")}),redo:se(function(){Fe(this,"redo")}),setExtending:function(t){this.sel.extend=t},historySize:function(){var t=this.history;return{undo:t.done.length,redo:t.undone.length}},clearHistory:function(){this.history=bi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){return this.history.lastOp=this.history.lastOrigin=null,this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Ti(this.history.done),undone:Ti(this.history.undone)}},setHistory:function(t){var e=this.history=bi(this.history.maxGeneration);e.done=t.done.slice(0),e.undone=t.undone.slice(0)},markText:function(t,e,n){return Tn(this,Xe(this,t),Xe(this,e),n,"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft};return t=Xe(this,t),Tn(this,t,t,n,"bookmark")},findMarksAt:function(t){t=Xe(this,t);var e=[],n=hi(this,t.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&t.push(n[i].marker)}),t},posFromIndex:function(t){var e,n=this.first;return this.iter(function(i){var r=i.text.length+1;return r>t?(e=t,!0):(t-=r,++n,void 0)}),Xe(this,Ue(n,e))},indexFromPos:function(t){t=Xe(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new yo(pi(this,this.first,this.first+this.size),this.modeOption,this.first);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new yo(pi(this,e,n),t.mode||this.modeOption,e);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],i},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==e){this.linked.splice(n,1),e.unlinkDoc(this);break}}if(e.history==this.history){var r=[e.id];ci(e,function(t){r.push(t.id)},!0),e.history=bi(),e.history.done=Ti(this.history.done,r),e.history.undone=Ti(this.history.undone,r)}},iterLinkedDocs:function(t){ci(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),yo.prototype.eachLine=yo.prototype.iter;var bo="iter insert remove copy getEditor".split(" ");for(var wo in yo.prototype)yo.prototype.hasOwnProperty(wo)&&Ki(bo,wo)<0&&(t.prototype[wo]=function(t){return function(){return t.apply(this.doc,arguments)}}(yo.prototype[wo]));Ui(yo),t.e_stop=Hi,t.e_preventDefault=Pi,t.e_stopPropagation=Ni;var xo,ko=0;t.on=Oi,t.off=ji,t.signal=Fi;var Co=30,_o=t.Pass={toString:function(){return"CodeMirror.Pass"}};Bi.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}},t.countColumn=Vi;var To=[""],So=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Eo=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;t.replaceGetRect=function(t){ar=t};var Mo=function(){if(Sr)return!1;var t=ir("div");return"draggable"in t||"dragDrop"in t}();Cr?lr=function(t,e){return 36==t.charCodeAt(e-1)&&39==t.charCodeAt(e)}:Pr&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?lr=function(t,e){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(t.slice(e-1,e+1))}:Er&&!/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)&&(lr=function(t,e){if(e>1&&45==t.charCodeAt(e-1)){if(/\w/.test(t.charAt(e-2))&&/[^\-?\.]/.test(t.charAt(e)))return!0;if(e>2&&/[\d\.,]/.test(t.charAt(e-2))&&/[\d\.,]/.test(t.charAt(e)))return!1}return/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|…[\w~`@#$%\^&*(_=+{[><]/.test(t.slice(e-1,e+1))});var Lo,Do,Po=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],i=t.length;i>=e;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)};t.splitLines=Po;var No=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},Ao=function(){var t=ir("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Ho={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};t.keyNames=Ho,function(){for(var t=0;10>t;t++)Ho[t+48]=String(t);for(var t=65;90>=t;t++)Ho[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)Ho[t+111]=Ho[t+63235]="F"+t}();var Io,$o=function(){function t(t){return 255>=t?e.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1791>=t?n.charAt(t-1536):t>=1792&&2220>=t?"r":"L"}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,a=/[1n]/,l="L";return function(e){if(!i.test(e))return!1;for(var n,c=e.length,u=[],h=0;c>h;++h)u.push(n=t(e.charCodeAt(h)));for(var h=0,d=l;c>h;++h){var n=u[h];"m"==n?u[h]=d:d=n}for(var h=0,p=l;c>h;++h){var n=u[h];"1"==n&&"r"==p?u[h]="n":o.test(n)&&(p=n,"r"==n&&(u[h]="R"))}for(var h=1,d=u[0];c-1>h;++h){var n=u[h];"+"==n&&"1"==d&&"1"==u[h+1]?u[h]="1":","!=n||d!=u[h+1]||"1"!=d&&"n"!=d||(u[h]=d),d=n}for(var h=0;c>h;++h){var n=u[h];if(","==n)u[h]="N";else if("%"==n){for(var f=h+1;c>f&&"%"==u[f];++f);for(var m=h&&"!"==u[h-1]||c-1>f&&"1"==u[f]?"1":"N",g=h;f>g;++g)u[g]=m;h=f-1}}for(var h=0,p=l;c>h;++h){var n=u[h];"L"==p&&"1"==n?u[h]="L":o.test(n)&&(p=n)}for(var h=0;c>h;++h)if(r.test(u[h])){for(var f=h+1;c>f&&r.test(u[f]);++f);for(var v="L"==(h?u[h-1]:l),y="L"==(c-1>f?u[f]:l),m=v||y?"L":"R",g=h;f>g;++g)u[g]=m;h=f-1}for(var b,w=[],h=0;c>h;)if(s.test(u[h])){var x=h;for(++h;c>h&&s.test(u[h]);++h);w.push({from:x,to:h,level:0})}else{var k=h,C=w.length;for(++h;c>h&&"L"!=u[h];++h);for(var g=k;h>g;)if(a.test(u[g])){g>k&&w.splice(C,0,{from:k,to:g,level:1});var _=g;for(++g;h>g&&a.test(u[g]);++g);w.splice(C,0,{from:_,to:g,level:2}),k=g}else++g;h>k&&w.splice(C,0,{from:k,to:h,level:1})}return 1==w[0].level&&(b=e.match(/^\s+/))&&(w[0].from=b[0].length,w.unshift({from:0,to:b[0].length,level:0})),1==Yi(w).level&&(b=e.match(/\s+$/))&&(Yi(w).to-=b[0].length,w.push({from:c-b[0].length,to:c,level:0})),w[0].level!=Yi(w).level&&w.push({from:c,to:c,level:w[0].level}),w}}();return t.version="3.15.0",t}(),CodeMirror.overlayMode=CodeMirror.overlayParser=function(t,e,n){return{startState:function(){return{base:CodeMirror.startState(t),overlay:CodeMirror.startState(e),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(n){return{base:CodeMirror.copyState(t,n.base),overlay:CodeMirror.copyState(e,n.overlay),basePos:n.basePos,baseCur:null,overlayPos:n.overlayPos,overlayCur:null}},token:function(i,r){return i.start==r.basePos&&(r.baseCur=t.token(i,r.base),r.basePos=i.pos),i.start==r.overlayPos&&(i.pos=i.start,r.overlayCur=e.token(i,r.overlay),r.overlayPos=i.pos),i.pos=Math.min(r.basePos,r.overlayPos),i.eol()&&(r.basePos=r.overlayPos=0),null==r.overlayCur?r.baseCur:null!=r.baseCur&&n?r.baseCur+" "+r.overlayCur:r.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(n){t.blankLine&&t.blankLine(n.base),e.blankLine&&e.blankLine(n.overlay)}}},CodeMirror.defineMode("markdown",function(t,e){function n(t,e,n){return e.f=e.inline=n,n(t,e)}function i(t,e,n){return e.f=e.block=n,n(t,e)}function r(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.quote=0,g||t.f!=s||(t.f=u,t.block=o),t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.thisLineHasContent=!1,null}function o(t,r){var o=r.list!==!1;if(r.list!==!1&&r.indentationDiff>=0?(r.indentationDiff<4&&(r.indentation-=r.indentationDiff),r.list=null):r.list!==!1&&r.indentation>0?(r.list=null,r.listDepth=Math.floor(r.indentation/4)):r.list!==!1&&(r.list=!1,r.listDepth=0),r.indentationDiff>=4)return r.indentation-=4,t.skipToEnd(),k;if(t.eatSpace())return null;if("#"===t.peek()||r.prevLineHasContent&&t.match(R))r.header=!0;else if(t.eat(">"))for(r.indentation++,r.quote=1,t.eatSpace();t.eat(">");)t.eatSpace(),r.quote++;else{if("["===t.peek())return n(t,r,d);if(t.match($,!0))return M;if(r.prevLineHasContent&&!o||!t.match(O,!0)&&!t.match(j,!0)){if(e.fencedCodeBlocks&&t.match(/^```([\w+#]*)/,!0))return r.localMode=b(RegExp.$1),r.localMode&&(r.localState=r.localMode.startState()),i(t,r,a),k}else r.indentation+=4,r.list=!0,r.listDepth++,e.taskLists&&t.match(F,!1)&&(r.taskList=!0)}return n(t,r,r.inline)}function s(t,e){var n=v.token(t,e.htmlState);return g&&"tag"===n&&"openTag"!==e.htmlState.type&&!e.htmlState.context&&(e.f=u,e.block=o),e.md_inside&&-1!=t.current().indexOf(">")&&(e.f=u,e.block=o,e.htmlState.context=void 0),n}function a(t,e){return t.sol()&&t.match(/^```/,!0)?(e.localMode=e.localState=null,e.f=u,e.block=o,k):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),k)}function l(t){var e=[];if(t.taskOpen)return"meta";if(t.taskClosed)return"property";if(t.strong&&e.push(I),t.em&&e.push(H),t.linkText&&e.push(N),t.code&&e.push(k),t.header&&e.push(x),t.quote&&e.push(t.quote%2?C:_),t.list!==!1){var n=(t.listDepth-1)%3;n?1===n?e.push(S):e.push(E):e.push(T)}return t.trailingSpaceNewLine?e.push("trailing-space-new-line"):t.trailingSpace&&e.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),e.length?e.join(" "):null}function c(t,e){return t.match(z,!0)?l(e):void 0}function u(t,r){var o=r.text(t,r);if("undefined"!=typeof o)return o;if(r.list)return r.list=null,l(r);if(r.taskList){var a="x"!==t.match(F,!0)[1];return a?r.taskOpen=!0:r.taskClosed=!0,r.taskList=!1,l(r)}r.taskOpen=!1,r.taskClosed=!1;var c=t.next();if("\\"===c)return t.next(),l(r);if(r.linkTitle){r.linkTitle=!1;var u=c;"("===c&&(u=")"),u=(u+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var d="^\\s*(?:[^"+u+"\\\\]+|\\\\\\\\|\\\\.)"+u;if(t.match(new RegExp(d),!0))return A}if("`"===c){var p=l(r),f=t.pos;t.eatWhile("`");var g=1+t.pos-f;return r.code?g===w?(r.code=!1,p):l(r):(w=g,r.code=!0,l(r))}if(r.code)return l(r);if("!"===c&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),r.inline=r.f=h,L;if("["===c&&t.match(/.*\](\(| ?\[)/,!1))return r.linkText=!0,l(r);if("]"===c&&r.linkText){var v=l(r);return r.linkText=!1,r.inline=r.f=h,v}if("<"===c&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return n(t,r,m(D,">"));if("<"===c&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return n(t,r,m(P,">"));if("<"===c&&t.match(/^\w/,!1)){if(-1!=t.string.indexOf(">")){var y=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(y)&&(r.md_inside=!0)}return t.backUp(1),i(t,r,s)}if("<"===c&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";var b=!1;if(!e.underscoresBreakWords&&"_"===c&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var x=t.pos-2;if(x>=0){var k=t.string.charAt(x);"_"!==k&&k.match(/(\w)/,!1)&&(b=!0)}}var p=l(r);if("*"===c||"_"===c&&!b){if(r.strong===c&&t.eat(c))return r.strong=!1,p;if(!r.strong&&t.eat(c))return r.strong=c,l(r);if(r.em===c)return r.em=!1,p;if(!r.em)return r.em=c,l(r)}else if(" "===c&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return l(r);t.backUp(1)}return" "===c&&(t.match(/ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),l(r)}function h(t,e){if(t.eatSpace())return null;var i=t.next();return"("===i||"["===i?n(t,e,m(A,"("===i?")":"]")):"error"}function d(t,e){return t.match(/^[^\]]*\]:/,!0)?(e.f=p,N):n(t,e,u)}function p(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=u,A)}function f(t){return W[t]||(t=(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),W[t]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+t+")")),W[t]}function m(t,e,n){return n=n||u,function(i,r){return i.match(f(e)),r.inline=r.f=n,t}}var g=CodeMirror.modes.hasOwnProperty("xml"),v=CodeMirror.getMode(t,g?{name:"xml",htmlMode:!0}:"text/plain"),y={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},b=function(){var e,n,i={},r={},o=[];for(var s in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(s)&&o.push(s);for(e=0;e<o.length;e++)i[o[e]]=o[e];var a=[];for(var s in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(s)&&a.push({mime:s,mode:CodeMirror.mimeModes[s]});for(e=0;e<a.length;e++)n=a[e].mime,r[n]=a[e].mime;for(var l in y)(y[l]in i||y[l]in r)&&(i[l]=y[l]);return function(e){return i[e]?CodeMirror.getMode(t,i[e]):null}}();void 0===e.underscoresBreakWords&&(e.underscoresBreakWords=!0),void 0===e.fencedCodeBlocks&&(e.fencedCodeBlocks=!1),void 0===e.taskLists&&(e.taskLists=!1);var w=0,x="header",k="comment",C="atom",_="number",T="variable-2",S="variable-3",E="keyword",M="hr",L="tag",D="link",P="link",N="link",A="string",H="em",I="strong",$=/^([*\-=_])(?:\s*\1){2,}\s*$/,O=/^[*\-+]\s+/,j=/^[0-9]+\.\s+/,F=/^\[(x| )\](?=\s)/,R=/^(?:\={1,}|-{1,})$/,z=/^[^!\[\]*_\\<>` "'(]+/,W=[];return{startState:function(){return{f:o,prevLineHasContent:!1,thisLineHasContent:!1,block:o,htmlState:CodeMirror.startState(v),indentation:0,inline:u,text:c,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:CodeMirror.copyState(v,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?CodeMirror.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,linkTitle:t.linkTitle,em:t.em,strong:t.strong,header:t.header,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside}},token:function(t,e){if(t.sol()){if(t.match(/^\s*$/,!0))return e.prevLineHasContent=!1,r(e);
e.prevLineHasContent=e.thisLineHasContent,e.thisLineHasContent=!0,e.header=!1,e.taskList=!1,e.code=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.f=e.block;var n=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,i=4*Math.floor((n-e.indentation)/4);i>4&&(i=4);var o=e.indentation+i;if(e.indentationDiff=o-e.indentation,e.indentation=o,n>0)return null}return e.f(t,e)},blankLine:r,getType:l}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown"),CodeMirror.defineMode("gfm",function(t){function e(t){return t.code=!1,null}var n=0,i={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(t){return{code:t.code,codeBlock:t.codeBlock,ateSpace:t.ateSpace}},token:function(t,e){if(e.codeBlock)return t.match(/^```/)?(e.codeBlock=!1,null):(t.skipToEnd(),null);if(t.sol()&&(e.code=!1),t.sol()&&t.match(/^```/))return t.skipToEnd(),e.codeBlock=!0,null;if("`"===t.peek()){t.next();var i=t.pos;t.eatWhile("`");var r=1+t.pos-i;return e.code?r===n&&(e.code=!1):(n=r,e.code=!0),null}if(e.code)return t.next(),null;if(t.eatSpace())return e.ateSpace=!0,null;if(t.sol()||e.ateSpace){if(e.ateSpace=!1,t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return"link";if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return"link"}return t.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/i)?"link":(t.next(),null)},blankLine:e};return CodeMirror.defineMIME("gfmBase",{name:"markdown",underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:!0}),CodeMirror.overlayMode(CodeMirror.getMode(t,"gfmBase"),i)},"markdown");var Showdown={extensions:{}},forEach=Showdown.forEach=function(t,e){if("function"==typeof t.forEach)t.forEach(e);else{var n,i=t.length;for(n=0;i>n;n++)e(t[n],n,t)}},stdExtName=function(t){return t.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(t){var e,n,i,r=0,o=[],s=[];if("undefind"!=typeof module&&"undefined"!=typeof exports&&"undefind"!=typeof require){var a=require("fs");if(a){var l=a.readdirSync((__dirname||".")+"/extensions").filter(function(t){return~t.indexOf(".js")}).map(function(t){return t.replace(/\.js$/,"")});Showdown.forEach(l,function(t){var e=stdExtName(t);Showdown.extensions[e]=require("./extensions/"+t)})}}if(this.makeHtml=function(t){return e={},n={},i=[],t=t.replace(/~/g,"~T"),t=t.replace(/\$/g,"~D"),t=t.replace(/\r\n/g,"\n"),t=t.replace(/\r/g,"\n"),t="\n\n"+t+"\n\n",t=j(t),t=t.replace(/^[ \t]+$/gm,""),Showdown.forEach(o,function(e){t=h(e,t)}),t=T(t),t=p(t),t=d(t),t=m(t),t=$(t),t=t.replace(/~D/g,"$$"),t=t.replace(/~T/g,"~"),Showdown.forEach(s,function(e){t=h(e,t)}),t},t&&t.extensions){var c=this;Showdown.forEach(t.extensions,function(t){if("string"==typeof t&&(t=Showdown.extensions[stdExtName(t)]),"function"!=typeof t)throw"Extension '"+t+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(t(c),function(t){t.type?"language"===t.type||"lang"===t.type?o.push(t):("output"===t.type||"html"===t.type)&&s.push(t):s.push(t)})})}var u,h=function(t,e){if(t.regex){var n=new RegExp(t.regex,"g");return e.replace(n,t.replace)}return t.filter?t.filter(e):void 0},d=function(t){return t+="~0",t=t.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(t,i,r,o,s){return i=i.toLowerCase(),e[i]=N(r),o?o+s:(s&&(n[i]=s.replace(/"/g,"&quot;")),"")}),t=t.replace(/~0/,"")},p=function(t){t=t.replace(/\n/g,"\n\n");return t=t.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,f),t=t.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,f),t=t.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,f),t=t.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,f),t=t.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,f),t=t.replace(/\n\n/g,"\n")},f=function(t,e){var n=e;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(i.push(n)-1)+"K\n\n"},m=function(t){t=k(t);var e=S("<hr />");return t=t.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,e),t=t.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,e),t=t.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,e),t=C(t),t=_(t),t=D(t),t=p(t),t=P(t)},g=function(t){return t=E(t),t=v(t),t=A(t),t=w(t),t=y(t),t=H(t),t=N(t),t=L(t),t=t.replace(/  +\n/g," <br />\n")},v=function(t){var e=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return t=t.replace(e,function(t){var e=t.replace(/(.)<\/?code>(?=.)/g,"$1`");return e=F(e,"\\`*_")})},y=function(t){return t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,b),t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,b),t=t.replace(/(\[([^\[\]]+)\])()()()()()/g,b)},b=function(t,i,r,o,s,a,l,c){void 0==c&&(c="");var u=i,h=r,d=o.toLowerCase(),p=s,f=c;if(""==p)if(""==d&&(d=h.toLowerCase().replace(/ ?\n/g," ")),p="#"+d,void 0!=e[d])p=e[d],void 0!=n[d]&&(f=n[d]);else{if(!(u.search(/\(\s*\)$/m)>-1))return u;p=""}p=F(p,"*_");var m='<a href="'+p+'"';return""!=f&&(f=f.replace(/"/g,"&quot;"),f=F(f,"*_"),m+=' title="'+f+'"'),m+=">"+h+"</a>"},w=function(t){return t=t.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,x),t=t.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,x)},x=function(t,i,r,o,s,a,l,c){var u=i,h=r,d=o.toLowerCase(),p=s,f=c;if(f||(f=""),""==p){if(""==d&&(d=h.toLowerCase().replace(/ ?\n/g," ")),p="#"+d,void 0==e[d])return u;p=e[d],void 0!=n[d]&&(f=n[d])}h=h.replace(/"/g,"&quot;"),p=F(p,"*_");var m='<img src="'+p+'" alt="'+h+'"';return f=f.replace(/"/g,"&quot;"),f=F(f,"*_"),m+=' title="'+f+'"',m+=" />"},k=function(t){function e(t){return t.replace(/[^\w]/g,"").toLowerCase()}return t=t.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(t,n){return S('<h1 id="'+e(n)+'">'+g(n)+"</h1>")}),t=t.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(t,n){return S('<h2 id="'+e(n)+'">'+g(n)+"</h2>")}),t=t.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(t,n,i){var r=n.length;return S("<h"+r+' id="'+e(i)+'">'+g(i)+"</h"+r+">")})},C=function(t){t+="~0";var e=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return r?t=t.replace(e,function(t,e,n){var i=e,r=n.search(/[*+-]/g)>-1?"ul":"ol";i=i.replace(/\n{2,}/g,"\n\n\n");var o=u(i);return o=o.replace(/\s+$/,""),o="<"+r+">"+o+"</"+r+">\n"}):(e=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,t=t.replace(e,function(t,e,n,i){var r=e,o=n,s=i.search(/[*+-]/g)>-1?"ul":"ol",o=o.replace(/\n{2,}/g,"\n\n\n"),a=u(o);return a=r+"<"+s+">\n"+a+"</"+s+">\n"})),t=t.replace(/~0/,"")};u=function(t){return r++,t=t.replace(/\n{2,}$/,"\n"),t+="~0",t=t.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(t,e,n,i,r){var o=r,s=e;return s||o.search(/\n{2,}/)>-1?o=m(O(o)):(o=C(O(o)),o=o.replace(/\n$/,""),o=g(o)),"<li>"+o+"</li>\n"}),t=t.replace(/~0/g,""),r--,t};var _=function(t){return t+="~0",t=t.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(t,e,n){var i=e,r=n;return i=M(O(i)),i=j(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code>"+i+"\n</code></pre>",S(i)+r}),t=t.replace(/~0/,"")},T=function(t){return t+="~0",t=t.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(t,e,n){var i=e,r=n;return r=M(r),r=j(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code"+(i?' class="'+i+'"':"")+">"+r+"\n</code></pre>",S(r)}),t=t.replace(/~0/,"")},S=function(t){return t=t.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(i.push(t)-1)+"K\n\n"},E=function(t){return t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(t,e,n,i){var r=i;return r=r.replace(/^([ \t]*)/g,""),r=r.replace(/[ \t]*$/g,""),r=M(r),e+"<code>"+r+"</code>"})},M=function(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=F(t,"*_{}[]\\",!1)},L=function(t){return t=t.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),t=t.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},D=function(t){return t=t.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(t,e){var n=e;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=m(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(t,e){var n=e;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),S("<blockquote>\n"+n+"\n</blockquote>")})},P=function(t){t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,"");for(var e=t.split(/\n{2,}/g),n=[],r=e.length,o=0;r>o;o++){var s=e[o];s.search(/~K(\d+)K/g)>=0?n.push(s):s.search(/\S/)>=0&&(s=g(s),s=s.replace(/^([ \t]*)/g,"<p>"),s+="</p>",n.push(s))}r=n.length;for(var o=0;r>o;o++)for(;n[o].search(/~K(\d+)K/)>=0;){var a=i[RegExp.$1];a=a.replace(/\$/g,"$$$$"),n[o]=n[o].replace(/~K\d+K/,a)}return n.join("\n\n")},N=function(t){return t=t.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),t=t.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},A=function(t){return t=t.replace(/\\(\\)/g,R),t=t.replace(/\\([`*_{}\[\]()>#+-.!])/g,R)},H=function(t){return t=t.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),t=t.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(t,e){return I($(e))})},I=function(t){var e=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+t.charCodeAt(0).toString(16)+";"},function(t){return t}];return t="mailto:"+t,t=t.replace(/./g,function(t){if("@"==t)t=e[Math.floor(2*Math.random())](t);else if(":"!=t){var n=Math.random();t=n>.9?e[2](t):n>.45?e[1](t):e[0](t)}return t}),t='<a href="'+t+'">'+t+"</a>",t=t.replace(/">.+:/g,'">')},$=function(t){return t=t.replace(/~E(\d+)E/g,function(t,e){var n=parseInt(e);return String.fromCharCode(n)})},O=function(t){return t=t.replace(/^(\t|[ ]{1,4})/gm,"~0"),t=t.replace(/~0/g,"")},j=function(t){return t=t.replace(/\t(?=\t)/g,"    "),t=t.replace(/\t/g,"~A~B"),t=t.replace(/~B(.+?)~A/g,function(t,e){for(var n=e,i=4-n.length%4,r=0;i>r;r++)n+=" ";return n}),t=t.replace(/~A/g,"    "),t=t.replace(/~B/g,"")},F=function(t,e,n){var i="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var r=new RegExp(i,"g");return t=t.replace(r,R)},R=function(t,e){var n=e.charCodeAt(0);return"~E"+n+"E"}},"undefined"!=typeof module&&(module.exports=Showdown),"function"==typeof define&&define.amd&&define("showdown",function(){return Showdown}),function(){var t=function(){return[{type:"lang",filter:function(t){var e=/^(?:\{<(.*?)>\})?!(?:\[([^\n\]]*)\])(?:\(([^\n\]]*)\))?$/gim,n=/^(?!mailto:)(?:(?:https?|ftp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[0-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))|localhost)(?::\d{2,5})?(?:\/[^\s]*)?$/i,i=/^(\/)?([^\/\0]+(\/)?)+$/i;return t.replace(e,function(t,e,r,o){var s="";return o&&(o.match(n)||o.match(i))&&(s='<img class="js-upload-target" src="'+o+'"/>'),'<section id="image_upload_'+e+'" class="js-drop-zone image-uploader">'+s+'<div class="description">Add image of <strong>'+r+'</strong></div><input data-url="upload" class="js-fileupload main fileupload" type="file" name="uploadimage"></section>'})}},{type:"lang",filter:function(t){return t.replace(/([^_\n\r])(_{4,})/g,function(t,e,n){return e+n.replace(/_/g,"&#95;")})}}]};"undefined"!=typeof window&&window.Showdown&&window.Showdown.extensions&&(window.Showdown.extensions.ghostdown=t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var t=function(){return[{type:"lang",regex:"(~T){2}([^~]+)(~T){2}",replace:function(t,e,n){return"<del>"+n+"</del>"}},{type:"lang",filter:function(t){function e(){return r++}var n={},i=/^(?:\{(.*?)\})?!(?:\[([^\n\]]*)\])(?:\(([^\n\]]*)\))?$/gim,r=0;return t=t.replace(/<pre>[\s\S]*?<\/pre>/gim,function(t){var i=e();return n[i]=t,"{gfm-js-extract-pre-"+i+"}"},"m"),t=t.replace(/```[\s\S]*```/gim,function(t){var i=e();return n[i]=t,"{gfm-js-extract-code-"+i+"}"},"m"),t=t.replace(/(^(?! {4}|\t)\w+_\w+_\w[\w_]*)/gm,function(t){return t.replace(/_/gm,"\\_")}),t=t.replace(/\{gfm-js-extract-code-([0-9]+)\}/gm,function(t,e){return n[e]}),t=t.replace(/^[\w\<][^\n]*\n+/gm,function(t){return t.match(/\n{2}/)?t:t.trim()+"  \n"}),t=t.replace(i,function(t,e,n,i){return i?'<img src="'+i+'" alt="'+n+'" />':""}),t=t.replace(/\{gfm-js-extract-pre-([0-9]+)\}/gm,function(t,e){return"\n\n"+n[e]})}},{type:"html",filter:function(t){function e(){return r++}var n={},i={},r=0;return t=t.replace(/<(pre|code)>[\s\S]*?<\/(\1)>/gim,function(t){var n=e();return i[n]=t,"{gfm-js-extract-pre-"+n+"}"},"m"),t=t.replace(/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/gim,function(t){var i=e();return n[i]=t,"{gfm-js-extract-ref-url-"+i+"}"}),t=t.replace(/(\]\(|\]|\[|<a[^\>]*?\>)?https?\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!]/gim,function(e,n,i){var r=t.slice(0,i),o=t.slice(i);return r.match(/<[^>]+$/)&&o.match(/^[^>]*>/)||n?e:n?e:"<a href='"+e+"'>"+e+"</a>"}),t=t.replace(/[a-z0-9_\-+=.]+@[a-z0-9\-]+(\.[a-z0-9-]+)+/gim,function(t){return"<a href='mailto:"+t+"'>"+t+"</a>"}),t=t.replace(/\{gfm-js-extract-pre-([0-9]+)\}/gm,function(t,e){return i[e]}),t=t.replace(/\{gfm-js-extract-ref-url-([0-9]+)\}/gi,function(t,e){return"\n\n"+n[e]})}}]};"undefined"!=typeof window&&window.Showdown&&window.Showdown.extensions&&(window.Showdown.extensions.github=t),"undefined"!=typeof module&&(module.exports=t)}(),shortcut={all_shortcuts:{},add:function(t,e,n){var i={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(n)for(var r in i)"undefined"==typeof n[r]&&(n[r]=i[r]);else n=i;var o=n.target;"string"==typeof n.target&&(o=document.getElementById(n.target));t=t.toLowerCase();var s=function(i){if(i=i||window.event,n.disable_in_input){var r;if(i.target?r=i.target:i.srcElement&&(r=i.srcElement),3==r.nodeType&&(r=r.parentNode),"INPUT"==r.tagName||"TEXTAREA"==r.tagName)return}if(i.keyCode)code=i.keyCode;else{if(!i.which)return;code=i.which}var o=String.fromCharCode(code).toLowerCase();188==code&&(o=","),190==code&&(o=".");var s=t.split("+"),a=0,l={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},c={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},u={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};i.ctrlKey&&(u.ctrl.pressed=!0),i.shiftKey&&(u.shift.pressed=!0),i.altKey&&(u.alt.pressed=!0),i.metaKey&&(u.meta.pressed=!0);for(var h=0;k=s[h],h<s.length;h++)"ctrl"==k||"control"==k?(a++,u.ctrl.wanted=!0):"shift"==k?(a++,u.shift.wanted=!0):"alt"==k?(a++,u.alt.wanted=!0):"meta"==k?(a++,u.meta.wanted=!0):k.length>1?c[k]==code&&a++:n.keycode?n.keycode==code&&a++:o==k?a++:l[o]&&i.shiftKey&&(o=l[o],o==k&&a++);return a!=s.length||u.ctrl.pressed!=u.ctrl.wanted||u.shift.pressed!=u.shift.wanted||u.alt.pressed!=u.alt.wanted||u.meta.pressed!=u.meta.wanted||(e(i),n.propagate)?void 0:(i.cancelBubble=!0,i.returnValue=!1,i.stopPropagation&&(i.stopPropagation(),i.preventDefault()),!1)};this.all_shortcuts[t]={callback:s,target:o,event:n.type},o.addEventListener?o.addEventListener(n.type,s,!1):o.attachEvent?o.attachEvent("on"+n.type,s):o["on"+n.type]=s},remove:function(t){t=t.toLowerCase();var e=this.all_shortcuts[t];if(delete this.all_shortcuts[t],e){var n=e.event,i=e.target,r=e.callback;i.detachEvent?i.detachEvent("on"+n,r):i.removeEventListener?i.removeEventListener(n,r,!1):i["on"+n]=!1}}},function(t,e){"function"==typeof define&&define.amd?define(["exports"],e):"object"==typeof exports?e(exports):e(t)}(this,function(t){function e(t){for(var e in p)t=t.replace(p[e],"");return t}function n(){return"!*$^#(@*#&"}function i(t){return t.replace(">","&gt;").replace("<","&lt;").replace("\\","\\\\")}function r(t){var e=/\/\*.*?\*\//g;return t.replace(/\s*[a-z-]+\s*=\s*'[^']*'/gi,function(t){return t.replace(e,"")}).replace(/\s*[a-z-]+\s*=\s*"[^"]*"/gi,function(t){return t.replace(e,"")}).replace(/\s*[a-z-]+\s*=\s*[^\s]+/gi,function(t){return t.replace(e,"")})}function o(t){if(/^(\d?\d?\d)\.(\d?\d?\d)\.(\d?\d?\d)\.(\d?\d?\d)$/.test(t)){var e=t.split(".").sort();return e[3]>255?!1:!0}return!1}function s(t){return/^::|^::1|^([a-fA-F0-9]{1,4}::?){1,7}([a-fA-F0-9]{1,4})$/.test(t)?!0:!1}function a(t){if(t instanceof Date)return t;var e=Date.parse(t);return isNaN(e)?null:new Date(e)}var l={"&nbsp;":" ","&iexcl;":"¡","&cent;":"¢","&pound;":"£","&curren;":"€","&yen;":"¥","&brvbar;":"Š","&sect;":"§","&uml;":"š","&copy;":"©","&ordf;":"ª","&laquo;":"«","&not;":"¬","&shy;":"­","&reg;":"®","&macr;":"¯","&deg;":"°","&plusmn;":"±","&sup2;":"²","&sup3;":"³","&acute;":"Ž","&micro;":"µ","&para;":"¶","&middot;":"·","&cedil;":"ž","&sup1;":"¹","&ordm;":"º","&raquo;":"»","&frac14;":"Œ","&frac12;":"œ","&frac34;":"Ÿ","&iquest;":"¿","&Agrave;":"À","&Aacute;":"Á","&Acirc;":"Â","&Atilde;":"Ã","&Auml;":"Ä","&Aring;":"Å","&AElig;":"Æ","&Ccedil;":"Ç","&Egrave;":"È","&Eacute;":"É","&Ecirc;":"Ê","&Euml;":"Ë","&Igrave;":"Ì","&Iacute;":"Í","&Icirc;":"Î","&Iuml;":"Ï","&ETH;":"Ð","&Ntilde;":"Ñ","&Ograve;":"Ò","&Oacute;":"Ó","&Ocirc;":"Ô","&Otilde;":"Õ","&Ouml;":"Ö","&times;":"×","&Oslash;":"Ø","&Ugrave;":"Ù","&Uacute;":"Ú","&Ucirc;":"Û","&Uuml;":"Ü","&Yacute;":"Ý","&THORN;":"Þ","&szlig;":"ß","&agrave;":"à","&aacute;":"á","&acirc;":"â","&atilde;":"ã","&auml;":"ä","&aring;":"å","&aelig;":"æ","&ccedil;":"ç","&egrave;":"è","&eacute;":"é","&ecirc;":"ê","&euml;":"ë","&igrave;":"ì","&iacute;":"í","&icirc;":"î","&iuml;":"ï","&eth;":"ð","&ntilde;":"ñ","&ograve;":"ò","&oacute;":"ó","&ocirc;":"ô","&otilde;":"õ","&ouml;":"ö","&divide;":"÷","&oslash;":"ø","&ugrave;":"ù","&uacute;":"ú","&ucirc;":"û","&uuml;":"ü","&yacute;":"ý","&thorn;":"þ","&yuml;":"ÿ","&quot;":'"',"&lt;":"<","&gt;":">","&apos;":"'","&minus;":"−","&circ;":"ˆ","&tilde;":"˜","&Scaron;":"Š","&lsaquo;":"‹","&OElig;":"Œ","&lsquo;":"‘","&rsquo;":"’","&ldquo;":"“","&rdquo;":"”","&bull;":"•","&ndash;":"–","&mdash;":"—","&trade;":"™","&scaron;":"š","&rsaquo;":"›","&oelig;":"œ","&Yuml;":"Ÿ","&fnof;":"ƒ","&Alpha;":"Α","&Beta;":"Β","&Gamma;":"Γ","&Delta;":"Δ","&Epsilon;":"Ε","&Zeta;":"Ζ","&Eta;":"Η","&Theta;":"Θ","&Iota;":"Ι","&Kappa;":"Κ","&Lambda;":"Λ","&Mu;":"Μ","&Nu;":"Ν","&Xi;":"Ξ","&Omicron;":"Ο","&Pi;":"Π","&Rho;":"Ρ","&Sigma;":"Σ","&Tau;":"Τ","&Upsilon;":"Υ","&Phi;":"Φ","&Chi;":"Χ","&Psi;":"Ψ","&Omega;":"Ω","&alpha;":"α","&beta;":"β","&gamma;":"γ","&delta;":"δ","&epsilon;":"ε","&zeta;":"ζ","&eta;":"η","&theta;":"θ","&iota;":"ι","&kappa;":"κ","&lambda;":"λ","&mu;":"μ","&nu;":"ν","&xi;":"ξ","&omicron;":"ο","&pi;":"π","&rho;":"ρ","&sigmaf;":"ς","&sigma;":"σ","&tau;":"τ","&upsilon;":"υ","&phi;":"φ","&chi;":"χ","&psi;":"ψ","&omega;":"ω","&thetasym;":"ϑ","&upsih;":"ϒ","&piv;":"ϖ","&ensp;":" ","&emsp;":" ","&thinsp;":" ","&zwnj;":"‌","&zwj;":"‍","&lrm;":"‎","&rlm;":"‏","&sbquo;":"‚","&bdquo;":"„","&dagger;":"†","&Dagger;":"‡","&hellip;":"…","&permil;":"‰","&prime;":"′","&Prime;":"″","&oline;":"‾","&frasl;":"⁄","&euro;":"€","&image;":"ℑ","&weierp;":"℘","&real;":"ℜ","&alefsym;":"ℵ","&larr;":"←","&uarr;":"↑","&rarr;":"→","&darr;":"↓","&harr;":"↔","&crarr;":"↵","&lArr;":"⇐","&uArr;":"⇑","&rArr;":"⇒","&dArr;":"⇓","&hArr;":"⇔","&forall;":"∀","&part;":"∂","&exist;":"∃","&empty;":"∅","&nabla;":"∇","&isin;":"∈","&notin;":"∉","&ni;":"∋","&prod;":"∏","&sum;":"∑","&lowast;":"∗","&radic;":"√","&prop;":"∝","&infin;":"∞","&ang;":"∠","&and;":"∧","&or;":"∨","&cap;":"∩","&cup;":"∪","&int;":"∫","&there4;":"∴","&sim;":"∼","&cong;":"≅","&asymp;":"≈","&ne;":"≠","&equiv;":"≡","&le;":"≤","&ge;":"≥","&sub;":"⊂","&sup;":"⊃","&nsub;":"⊄","&sube;":"⊆","&supe;":"⊇","&oplus;":"⊕","&otimes;":"⊗","&perp;":"⊥","&sdot;":"⋅","&lceil;":"⌈","&rceil;":"⌉","&lfloor;":"⌊","&rfloor;":"⌋","&lang;":"〈","&rang;":"〉","&loz;":"◊","&spades;":"♠","&clubs;":"♣","&hearts;":"♥","&diams;":"♦"},c=function(t){if(!~t.indexOf("&"))return t;for(var e in l)t=t.replace(new RegExp(e,"g"),l[e]);return t=t.replace(/&#x(0*[0-9a-f]{2,5});?/gi,function(t,e){return String.fromCharCode(parseInt(+e,16))}),t=t.replace(/&#([0-9]{2,4});?/gi,function(t,e){return String.fromCharCode(+e)}),t=t.replace(/&amp;/g,"&")},u=function(t){t=t.replace(/&/g,"&amp;"),t=t.replace(/'/g,"&#39;");for(var e in l)t=t.replace(new RegExp(l[e],"g"),e);return t};t.entities={encode:u,decode:c};var h={"document.cookie":"","document.write":"",".parentNode":"",".innerHTML":"","window.location":"","-moz-binding":"","<!--":"&lt;!--","-->":"--&gt;","<![CDATA[":"&lt;![CDATA["},d={"javascript\\s*:":"","expression\\s*(\\(|&\\#40;)":"","vbscript\\s*:":"","Redirect\\s+302":""},p=[/%0[0-8bcef]/g,/%1[0-9a-f]/g,/[\x00-\x08]/g,/\x0b/g,/\x0c/g,/[\x0e-\x1f]/g],f=["javascript","expression","vbscript","script","applet","alert","document","write","cookie","window"];t.xssClean=function(o,s){if("object"==typeof o){for(var a in o)o[a]=t.xssClean(o[a]);return o}o=e(o),o=o.replace(/\&([a-z\_0-9]+)\=([a-z\_0-9]+)/i,n()+"$1=$2"),o=o.replace(/(&\#?[0-9a-z]{2,})([\x00-\x20])*;?/i,"$1;$2"),o=o.replace(/(&\#x?)([0-9A-F]+);?/i,"$1;$2"),o=o.replace(n(),"&");try{o=decodeURIComponent(o)}catch(l){}o=o.replace(/[a-z]+=([\'\"]).*?\1/gi,function(t,e){return t.replace(e,i(e))}),o=e(o),o=o.replace("	"," ");var c=o;for(var a in h)o=o.replace(a,h[a]);for(var a in d)o=o.replace(new RegExp(a,"i"),d[a]);for(var a in f){var u=f[a].split("").join("\\s*")+"\\s*";o=o.replace(new RegExp("("+u+")(\\W)","ig"),function(t,e,n){return e.replace(/\s+/g,"")+n})}do{var p=o;o.match(/<a/i)&&(o=o.replace(/<a\s+([^>]*?)(>|$)/gi,function(t,e){return e=r(e.replace("<","").replace(">","")),t.replace(e,e.replace(/href=.*?(alert\(|alert&\#40;|javascript\:|charset\=|window\.|document\.|\.cookie|<script|<xss|base64\s*,)/gi,""))})),o.match(/<img/i)&&(o=o.replace(/<img\s+([^>]*?)(\s?\/?>|$)/gi,function(t,e){return e=r(e.replace("<","").replace(">","")),t.replace(e,e.replace(/src=.*?(alert\(|alert&\#40;|javascript\:|charset\=|window\.|document\.|\.cookie|<script|<xss|base64\s*,)/gi,""))})),(o.match(/script/i)||o.match(/xss/i))&&(o=o.replace(/<(\/*)(script|xss)(.*?)\>/gi,""))}while(p!=o);event_handlers=["[^a-z_-]on\\w*"],s||event_handlers.push("xmlns"),o=o.replace(new RegExp("<([^><]+?)("+event_handlers.join("|")+")(\\s*=\\s*[^><]*)([><]*)","i"),"<$1$4"),naughty="alert|applet|audio|basefont|base|behavior|bgsound|blink|body|embed|expression|form|frameset|frame|head|html|ilayer|iframe|input|isindex|layer|link|meta|object|plaintext|style|script|textarea|title|video|xml|xss",o=o.replace(new RegExp("<(/*\\s*)("+naughty+")([^><]*)([><]*)","gi"),function(t,e,n,i,r){return"&lt;"+e+n+i+r.replace(">","&gt;").replace("<","&lt;")}),o=o.replace(/(alert|cmd|passthru|eval|exec|expression|system|fopen|fsockopen|file|file_get_contents|readfile|unlink)(\s*)\((.*?)\)/gi,"$1$2&#40;$3&#41;");for(var a in h)o=o.replace(a,h[a]);for(var a in d)o=o.replace(new RegExp(a,"i"),d[a]);if(s&&o!==c)throw new Error("Image may contain XSS");return o};var m=t.Validator=function(){};m.prototype.check=function(t,e){return this.str="undefined"==typeof t||null===t||isNaN(t)&&void 0===t.length?"":t+"",this.msg=e,this._errors=this._errors||[],this},m.prototype.validate=m.prototype.check,m.prototype.assert=m.prototype.check,m.prototype.error=function(t){throw new Error(t)},m.prototype.isAfter=function(t){t=t||new Date;var e=a(this.str),n=a(t);return e&&n&&e>=n?this:this.error(this.msg||"Invalid date")},m.prototype.isBefore=function(t){t=t||new Date;var e=a(this.str),n=a(t);return e&&n&&n>=e?this:this.error(this.msg||"Invalid date")},m.prototype.isEmail=function(){return this.str.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)?this:this.error(this.msg||"Invalid email")},m.prototype.isCreditCard=function(){if(this.str=this.str.replace(/[^0-9]+/g,""),!this.str.match(/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/))return this.error(this.msg||"Invalid credit card");for(var t,e,n=0,i=!1,r=this.length-1;r>=0;r--)t=this.substring(r,r+1),e=parseInt(t,10),i?(e*=2,n+=e>=10?e%10+1:e):n+=e,i=i?!1:!0;return n%10!==0?this.error(this.msg||"Invalid credit card"):this},m.prototype.isUrl=function(){return!this.str.match(/^(?!mailto:)(?:(?:https?|ftp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))|localhost)(?::\d{2,5})?(?:\/[^\s]*)?$/i)||this.str.length>2083?this.error(this.msg||"Invalid URL"):this},m.prototype.isIPv4=function(){return o(this.str)?this:this.error(this.msg||"Invalid IP")},m.prototype.isIPv6=function(){return s(this.str)?this:this.error(this.msg||"Invalid IP")},m.prototype.isIP=function(){return o(this.str)||s(this.str)?this:this.error(this.msg||"Invalid IP")},m.prototype.isAlpha=function(){return this.str.match(/^[a-zA-Z]+$/)?this:this.error(this.msg||"Invalid characters")},m.prototype.isAlphanumeric=function(){return this.str.match(/^[a-zA-Z0-9]+$/)?this:this.error(this.msg||"Invalid characters")},m.prototype.isNumeric=function(){return this.str.match(/^-?[0-9]+$/)?this:this.error(this.msg||"Invalid number")},m.prototype.isHexadecimal=function(){return this.str.match(/^[0-9a-fA-F]+$/)?this:this.error(this.msg||"Invalid hexadecimal")},m.prototype.isHexColor=function(){return this.str.match(/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/)?this:this.error(this.msg||"Invalid hexcolor")},m.prototype.isLowercase=function(){return this.str!==this.str.toLowerCase()?this.error(this.msg||"Invalid characters"):this},m.prototype.isUppercase=function(){return this.str!==this.str.toUpperCase()?this.error(this.msg||"Invalid characters"):this},m.prototype.isInt=function(){return this.str.match(/^(?:-?(?:0|[1-9][0-9]*))$/)?this:this.error(this.msg||"Invalid integer")},m.prototype.isDecimal=function(){return this.str.match(/^(?:-?(?:0|[1-9][0-9]*))?(?:\.[0-9]*)?$/)?this:this.error(this.msg||"Invalid decimal")},m.prototype.isDivisibleBy=function(t){return parseFloat(this.str)%parseInt(t,10)===0},m.prototype.isFloat=function(){return this.isDecimal()},m.prototype.notNull=function(){return""===this.str?this.error(this.msg||"String is empty"):this},m.prototype.isNull=function(){return""!==this.str?this.error(this.msg||"String is not empty"):this},m.prototype.notEmpty=function(){return this.str.match(/^[\s\t\r\n]*$/)?this.error(this.msg||"String is whitespace"):this},m.prototype.equals=function(t){return this.str!=t?this.error(this.msg||"Not equal"):this},m.prototype.contains=function(t){return-1!==this.str.indexOf(t)&&t?this:this.error(this.msg||"Invalid characters")},m.prototype.notContains=function(t){return this.str.indexOf(t)>=0?this.error(this.msg||"Invalid characters"):this},m.prototype.regex=m.prototype.is=function(t,e){return"RegExp"!==Object.prototype.toString.call(t).slice(8,-1)&&(t=new RegExp(t,e)),this.str.match(t)?this:this.error(this.msg||"Invalid characters")},m.prototype.notRegex=m.prototype.not=function(t,e){return"RegExp"!==Object.prototype.toString.call(t).slice(8,-1)&&(t=new RegExp(t,e)),this.str.match(t)&&this.error(this.msg||"Invalid characters"),this},m.prototype.len=function(t,e){return this.str.length<t?this.error(this.msg||"String is too small"):void 0!==typeof e&&this.str.length>e?this.error(this.msg||"String is too large"):this},m.prototype.isUUID=function(t){var e;return e=3==t||"v3"==t?/[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i:4==t||"v4"==t?/[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i:5==t||"v5"==t?/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i:/[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,this.str.match(e)?this:this.error(this.msg||"Not a UUID")},m.prototype.isUUIDv3=function(){return this.isUUID(3)},m.prototype.isUUIDv4=function(){return this.isUUID(4)},m.prototype.isUUIDv5=function(){return this.isUUID(5)},m.prototype.isDate=function(){var t=Date.parse(this.str);return isNaN(t)?this.error(this.msg||"Not a date"):this},m.prototype.isIn=function(t){return t&&"function"==typeof t.indexOf?~t.indexOf(this.str)?this:this.error(this.msg||"Unexpected value"):this.error(this.msg||"Invalid in() argument")},m.prototype.notIn=function(t){return t&&"function"==typeof t.indexOf?-1!==t.indexOf(this.str)?this.error(this.msg||"Unexpected value"):this:this.error(this.msg||"Invalid notIn() argument")},m.prototype.min=function(t){var e=parseFloat(this.str);return!isNaN(e)&&t>e?this.error(this.msg||"Invalid number"):this},m.prototype.max=function(t){var e=parseFloat(this.str);return!isNaN(e)&&e>t?this.error(this.msg||"Invalid number"):this};var g=t.Filter=function(){},v="\\r\\n\\t\\s";return g.prototype.modify=function(t){this.str=t},g.prototype.convert=g.prototype.sanitize=function(t){return this.str=null==t?"":t+"",this},g.prototype.xss=function(e){return this.modify(t.xssClean(this.str,e)),this.str},g.prototype.entityDecode=function(){return this.modify(c(this.str)),this.str},g.prototype.entityEncode=function(){return this.modify(u(this.str)),this.str},g.prototype.escape=function(){return this.modify(this.str.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),this.str},g.prototype.ltrim=function(t){return t=t||v,this.modify(this.str.replace(new RegExp("^["+t+"]+","g"),"")),this.str},g.prototype.rtrim=function(t){return t=t||v,this.modify(this.str.replace(new RegExp("["+t+"]+$","g"),"")),this.str},g.prototype.trim=function(t){return t=t||v,this.modify(this.str.replace(new RegExp("^["+t+"]+|["+t+"]+$","g"),"")),this.str},g.prototype.ifNull=function(t){return this.str&&""!==this.str||this.modify(t),this.str},g.prototype.toFloat=function(){return this.modify(parseFloat(this.str)),this.str},g.prototype.toInt=function(t){return t=t||10,this.modify(parseInt(this.str,t)),this.str},g.prototype.toBoolean=function(){return this.str&&"0"!=this.str&&"false"!=this.str&&""!=this.str?this.modify(!0):this.modify(!1),this.str},g.prototype.toBooleanStrict=function(){return"1"==this.str||"true"==this.str?this.modify(!0):this.modify(!1),this.str},t.sanitize=t.convert=function(e){var n=new t.Filter;return n.sanitize(e)},t.check=t.validate=t.assert=function(e,n){var i=new t.Validator;return i.check(e,n)},t}),function(t){"use strict";function e(t){for(var e,n,i=[],r=0,o=t.length;o>r;)e=t.charCodeAt(r++),55296==(63488&e)&&o>r?(n=t.charCodeAt(r++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):i.push(e,n)):i.push(e);return i}function n(t,e){var n=t&&("[object NodeList]"===Object.prototype.toString.call(t)&&t.length||1===t.nodeType),i=e&&"function"==typeof e;return"console"in window&&"warn"in console&&(n||console.warn("Countable: No valid elements were found"),i||console.warn('Countable: "'+e+'" is not a valid callback function')),n&&i}function i(t){var e={hardReturns:!1,stripTags:!1};for(var n in t)e.hasOwnProperty(n)&&(e[n]=t[n]);return e}function r(t,n){var i,r="value"in t?t.value:t.innerText||t.textContent;return n.stripTags&&(r=r.replace(/<\/?[a-z][^>]*>/gi,"")),i=r.trim(),{paragraphs:i?(i.match(n.hardReturns?/\n{2,}/g:/\n+/g)||[]).length+1:0,words:i?(i.replace(/['";:,.?¿\-!¡]+/g,"").match(/\S+/g)||[]).length:0,characters:i?e(i.replace(/\s/g,"")).length:0,all:e(r.replace(/[\n\r]/g,"")).length}}function o(t,e){var n=t.length;if("undefined"!=typeof n)for(;n--;)e(t[n]);else e(t)}var s=[],a="oninput"in document?"input":"keyup";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var l={live:function(t,e,l){var c=i(l),u=function(t){var n=function(){e.call(t,r(t,c))};s.push({element:t,handler:n}),n(),t.addEventListener?t.addEventListener(a,n,!1):t.attachEvent&&t.attachEvent("on"+a,n)
};if(n(t,e))return t.length?o(t,u):u(t),this},die:function(t){return n(t,function(){})?(o(t,function(t){var e;o(s,function(n){n.element===t&&(e=n)}),e&&(t.removeEventListener?t.removeEventListener(a,e.handler,!1):t.detachEvent&&t.detachEvent("on"+a,e.handler),s.splice(s.indexOf(e),1))}),this):void 0},once:function(t,e,s){return n(t,e)?(o(t,function(t){e.call(t,r(t,i(s)))}),this):void 0},enabled:function(t){var e=!1;return t&&1===t.nodeType&&o(s,function(n){n.element===t&&(e=!0)}),e}};"object"==typeof exports?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):t.Countable=l}(this),String.prototype.toTitleCase=function(){var t=/^(a|an|and|as|at|but|by|en|for|if|in|of|on|or|the|to|vs?\.?|via)$/i;return this.replace(/([^\W_]+[^\s-]*) */g,function(e,n,i,r){return i>0&&i+n.length!==r.length&&n.search(t)>-1&&":"!==r.charAt(i-2)&&r.charAt(i-1).search(/[^\s-]/)<0?e.toLowerCase():n.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)})},function(t){"use strict";function e(t){return RegExp("(^|\\s+)"+t+"(\\s+|$)")}function n(t,e){var n=i(t,e)?o:r;n(t,e)}var i,r,o;"classList"in document.documentElement?(i=function(t,e){return t.classList.contains(e)},r=function(t,e){t.classList.add(e)},o=function(t,e){t.classList.remove(e)}):(i=function(t,n){return e(n).test(t.className)},r=function(t,e){i(t,e)||(t.className=t.className+" "+e)},o=function(t,n){t.className=t.className.replace(e(n)," ")});var s={hasClass:i,addClass:r,removeClass:o,toggleClass:n,has:i,add:r,remove:o,toggle:n};"function"==typeof define&&define.amd?define(s):t.classie=s}(window),function(t){"use strict";var e=document.documentElement,n=function(){};e.addEventListener?n=function(t,e,n){t.addEventListener(e,n,!1)}:e.attachEvent&&(n=function(e,n,i){e[n+i]=i.handleEvent?function(){var e=t.event;e.target=e.target||e.srcElement,i.handleEvent.call(i,e)}:function(){var n=t.event;n.target=n.target||n.srcElement,i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var i=function(){};e.removeEventListener?i=function(t,e,n){t.removeEventListener(e,n,!1)}:e.detachEvent&&(i=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var r={bind:n,unbind:i};"function"==typeof define&&define.amd?define(r):t.eventie=r}(this),function(t){"use strict";function e(t){"function"==typeof t&&(e.isReady?t():o.push(t))}function n(t){var n="readystatechange"===t.type&&"complete"!==r.readyState;if(!e.isReady&&!n){e.isReady=!0;for(var i=0,s=o.length;s>i;i++){var a=o[i];a()}}}function i(i){return i.bind(r,"DOMContentLoaded",n),i.bind(r,"readystatechange",n),i.bind(t,"load",n),e}var r=t.document,o=[];e.isReady=!1,"function"==typeof define&&define.amd?define(["eventie"],i):t.docReady=i(t.eventie)}(this),function(t){"use strict";function e(){}function n(t,e){if(r)return e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return n;return-1}var i=e.prototype,r=Array.prototype.indexOf?!0:!1;i._getEvents=function(){return this._events||(this._events={})},i.getListeners=function(t){var e,n,i=this._getEvents();if("object"==typeof t){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,e){var i,r=this.getListenersAsObject(t);for(i in r)r.hasOwnProperty(i)&&-1===n(e,r[i])&&r[i].push(e);return this},i.on=i.addListener,i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,e){var i,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&(i=n(e,o[r]),-1!==i&&o[r].splice(i,1));return this},i.off=i.removeListener,i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,r,o=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)o.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(r=e[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if("object"===n)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.emitEvent=function(t,e){var n,i,r,o=this.getListenersAsObject(t);for(i in o)if(o.hasOwnProperty(i))for(n=o[i].length;n--;)r=e?o[i][n].apply(null,e):o[i][n](),r===!0&&this.removeListener(t,o[i][n]);return this},i.trigger=i.emitEvent,i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},"function"==typeof define&&define.amd?define(function(){return e}):t.EventEmitter=e}(this),function(t){"use strict";function e(t){if(t){if("string"==typeof i[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,r=0,o=n.length;o>r;r++)if(e=n[r]+t,"string"==typeof i[e])return e}}var n="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return e}):t.getStyleProperty=e}(window),function(t){"use strict";function e(t){var e=parseFloat(t),n=-1===t.indexOf("%")&&!isNaN(e);return n&&e}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,n=s.length;n>e;e++){var i=s[e];t[i]=0}return t}function i(t){function i(t){if("object"==typeof t&&t.nodeType){var i=o(t);if("none"===i.display)return n();var l={};l.width=t.offsetWidth,l.height=t.offsetHeight;for(var c=l.isBorderBox=!(!a||!i[a]||"border-box"!==i[a]),u=0,h=s.length;h>u;u++){var d=s[u],p=i[d],f=parseFloat(p);l[d]=isNaN(f)?0:f}var m=l.paddingLeft+l.paddingRight,g=l.paddingTop+l.paddingBottom,v=l.marginLeft+l.marginRight,y=l.marginTop+l.marginBottom,b=l.borderLeftWidth+l.borderRightWidth,w=l.borderTopWidth+l.borderBottomWidth,x=c&&r,k=e(i.width);k!==!1&&(l.width=k+(x?0:m+b));var C=e(i.height);return C!==!1&&(l.height=C+(x?0:g+w)),l.innerWidth=l.width-(m+b),l.innerHeight=l.height-(g+w),l.outerWidth=l.width+v,l.outerHeight=l.height+y,l}}var r,a=t("boxSizing");return function(){if(a){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[a]="border-box";var n=document.body||document.documentElement;n.appendChild(t);var i=o(t);r=200===e(i.width),n.removeChild(t)}}(),i}var r=document.defaultView,o=r&&r.getComputedStyle?function(t){return r.getComputedStyle(t,null)}:function(t){return t.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define(["get-style-property"],i):t.getSize=i(t.getStyleProperty)}(window),function(t){"use strict";function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function r(e,n){t.fn[e]=function(r){if("string"==typeof r){for(var s=i.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],u=t.data(c,e);if(u)if(t.isFunction(u[r])&&"_"!==r.charAt(0)){var h=u[r].apply(u,s);if(void 0!==h)return h}else o("no such method '"+r+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+r+"'")}return this}return this.each(function(){var i=t.data(this,e);i?(i.option(r),i._init()):(i=new n(this,r),t.data(this,e,i))})}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};t.bridget=function(t,e){n(e),r(t,e)}}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],n):n(t.jQuery)}(window),function(t,e){"use strict";function n(t,e){return t[a](e)}function i(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function r(t,e){i(t);for(var n=t.parentNode.querySelectorAll(e),r=0,o=n.length;o>r;r++)if(n[r]===t)return!0;return!1}function o(t,e){return i(t),n(t,e)}var s,a=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0,i=t.length;i>n;n++){var r=t[n],o=r+"MatchesSelector";if(e[o])return o}}();if(a){var l=document.createElement("div"),c=n(l,"div");s=c?n:o}else s=r;"function"==typeof define&&define.amd?define(function(){return s}):window.matchesSelector=s}(this,Element.prototype),function(t){"use strict";function e(t){for(var n in e.defaults)this[n]=e.defaults[n];for(n in t)this[n]=t[n]}var n=t.Packery=function(){};n.Rect=e,e.defaults={x:0,y:0,width:0,height:0},e.prototype.contains=function(t){var e=t.width||0,n=t.height||0;return this.x<=t.x&&this.y<=t.y&&this.x+this.width>=t.x+e&&this.y+this.height>=t.y+n},e.prototype.overlaps=function(t){var e=this.x+this.width,n=this.y+this.height,i=t.x+t.width,r=t.y+t.height;return i>this.x&&e>t.x&&r>this.y&&n>t.y},e.prototype.getMaximalFreeRects=function(t){if(!this.overlaps(t))return!1;var n,i=[],r=this.x+this.width,o=this.y+this.height,s=t.x+t.width,a=t.y+t.height;return this.y<t.y&&(n=new e({x:this.x,y:this.y,width:this.width,height:t.y-this.y}),i.push(n)),r>s&&(n=new e({x:s,y:this.y,width:r-s,height:this.height}),i.push(n)),o>a&&(n=new e({x:this.x,y:a,width:this.width,height:o-a}),i.push(n)),this.x<t.x&&(n=new e({x:this.x,y:this.y,width:t.x-this.x,height:this.height}),i.push(n)),i},e.prototype.canFit=function(t){return this.width>=t.width&&this.height>=t.height}}(window),function(t){"use strict";function e(t,e){this.width=t||0,this.height=e||0,this.reset()}var n=t.Packery,i=n.Rect;e.prototype.reset=function(){this.spaces=[],this.newSpaces=[];var t=new i({x:0,y:0,width:this.width,height:this.height});this.spaces.push(t)},e.prototype.pack=function(t){for(var e=0,n=this.spaces.length;n>e;e++){var i=this.spaces[e];if(i.canFit(t)){this.placeInSpace(t,i);break}}},e.prototype.placeInSpace=function(t,e){t.x=e.x,t.y=e.y,this.placed(t)},e.prototype.placed=function(t){for(var n=[],i=0,r=this.spaces.length;r>i;i++){var o=this.spaces[i],s=o.getMaximalFreeRects(t);s?n.push.apply(n,s):n.push(o)}this.spaces=n,e.mergeRects(this.spaces),this.spaces.sort(e.spaceSorterTopLeft)},e.mergeRects=function(t){for(var e=0,n=t.length;n>e;e++){var i=t[e];if(i){var r=t.slice(0);r.splice(e,1);for(var o=0,s=0,a=r.length;a>s;s++){var l=r[s],c=e>s?0:1;i.contains(l)&&(t.splice(s+c-o,1),o++)}}}return t},e.spaceSorterTopLeft=function(t,e){return t.y-e.y||t.x-e.x},e.spaceSorterLeftTop=function(t,e){return t.x-e.x||t.y-e.y},n.Packer=e}(window),function(t){"use strict";function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,e){this.element=t,this.packery=e,this.position={x:0,y:0},this.rect=new r,this.placeRect=new r,this.element.style.position="absolute"}var i=t.Packery,r=i.Rect,o=t.getSize,s=t.getStyleProperty,a=t.EventEmitter,l=document.defaultView,c=l&&l.getComputedStyle?function(t){return l.getComputedStyle(t,null)}:function(t){return t.currentStyle},u=s("transition"),h=s("transform"),d=u&&h,p=!!s("perspective"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],m={WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",transform:"transform"}[h];e(n.prototype,a.prototype),n.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.prototype.getSize=function(){this.size=o(this.element)},n.prototype.css=function(t){var e=this.element.style;for(var n in t)e[n]=t[n]},n.prototype.getPosition=function(){var t=c(this.element),e=parseInt(t.left,10),n=parseInt(t.top,10);e=isNaN(e)?0:e,n=isNaN(n)?0:n;var i=this.packery.elementSize;e-=i.paddingLeft,n-=i.paddingTop,this.position.x=e,this.position.y=n};var g=p?function(t,e){return"translate3d( "+t+"px, "+e+"px, 0)"}:function(t,e){return"translate( "+t+"px, "+e+"px)"};n.prototype._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,r=parseInt(t,10),o=parseInt(e,10),s=r===this.position.x&&o===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return this.layoutPosition(),void 0;var a=t-n,l=e-i,c={};c[m]=g(a,l),this.transition(c,this.layoutPosition)},n.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},n.prototype.moveTo=d?n.prototype._transitionTo:n.prototype.goTo,n.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},n.prototype.layoutPosition=function(){var t=this.packery.elementSize;this.css({left:this.position.x+t.paddingLeft+"px",top:this.position.y+t.paddingTop+"px"}),this.emitEvent("layout",[this])},n.prototype._nonTransition=function(t,e){this.css(t),e&&e.call(this)},n.prototype._transition=function(t,e){this.transitionStyle=t;var n=[];for(var i in t)n.push(i);var r={};r[u+"Property"]=n.join(","),r[u+"Duration"]=this.packery.options.transitionDuration,this.element.addEventListener(f,this,!1),e&&this.on("transitionEnd",function(t){return e.call(t),!0}),this.css(r),this.css(t),this.isTransitioning=!0},n.prototype.transition=n.prototype[u?"_transition":"_nonTransition"],n.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},n.prototype.onotransitionend=function(t){this.ontransitionend(t)},n.prototype.ontransitionend=function(t){if(t.target===this.element){this.onTransitionEnd&&(this.onTransitionEnd(),delete this.onTransitionEnd),this.removeTransitionStyles();var e={};for(var n in this.transitionStyle)e[n]="";this.css(e),this.element.removeEventListener(f,this,!1),delete this.transitionStyle,this.isTransitioning=!1,this.emitEvent("transitionEnd",[this])}},n.prototype.removeTransitionStyles=function(){var t={};t[u+"Property"]="",t[u+"Duration"]="",this.css(t)},n.prototype.remove=function(){var t={opacity:0};t[m]="scale(0.001)",this.transition(t,this.removeElem)},n.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},n.prototype.reveal=u?function(){var t={opacity:0};t[m]="scale(0.001)",this.css(t);var e=this.element.offsetHeight,n={opacity:1};n[m]="scale(1)",this.transition(n),e=null}:function(){},n.prototype.destroy=function(){this.css({position:"",left:"",top:""})},n.prototype.dragStart=function(){this.getPosition(),this.removeTransitionStyles(),this.isTransitioning&&h&&(this.element.style[h]="none"),this.getSize(),this.isPlacing=!0,this.needsPositioning=!1,this.positionPlaceRect(this.position.x,this.position.y),this.isTransitioning=!1,this.didDrag=!1},n.prototype.dragMove=function(t,e){this.didDrag=!0;var n=this.packery.elementSize;t-=n.paddingLeft,e-=n.paddingTop,this.positionPlaceRect(t,e)},n.prototype.dragStop=function(){this.getPosition();var t=this.position.x!==this.placeRect.x,e=this.position.y!==this.placeRect.y;this.needsPositioning=t||e,this.didDrag=!1},n.prototype.positionPlaceRect=function(t,e,n){this.placeRect.x=this.getPlaceRectCoord(t,!0),this.placeRect.y=this.getPlaceRectCoord(e,!1,n)},n.prototype.getPlaceRectCoord=function(t,e,n){var i=e?"Width":"Height",r=this.size["outer"+i],o=this.packery[e?"columnWidth":"rowHeight"],s=this.packery.elementSize["inner"+i];e||(s=Math.max(s,this.packery.maxY),this.packery.rowHeight||(s-=this.packery.gutter));var a;if(o){o+=this.packery.gutter,s+=e?this.packery.gutter:0,t=Math.round(t/o);var l=Math[e?"floor":"ceil"](s/o);l-=Math.ceil(r/o),a=l}else a=s-r;return t=n?t:Math.min(t,a),t*=o||1,Math.max(0,t)},n.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x,this.rect.y=this.placeRect.y},i.Item=n}(window),function(t){"use strict";function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){var e=[];if("number"==typeof t.length)for(var n=0,i=t.length;i>n;n++)e.push(t[n]);else e.push(t);return e}function i(t,n){if(!t||!v(t))return m&&m.error("bad Packery element: "+t),void 0;this.element=t,this.options=e({},this.options),e(this.options,n);var i=++b;this.element.packeryGUID=i,w[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var r=t.Packery,o=r.Rect,s=r.Packer,a=r.Item,l=t.classie,c=t.docReady,u=t.EventEmitter,h=t.eventie,d=t.getSize,p=t.matchesSelector,f=t.document,m=t.console,g=t.jQuery,v="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},y=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},b=0,w={};e(i.prototype,u.prototype),i.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isResizeBound:!0,transitionDuration:"0.4s"},i.prototype._create=function(){this.packer=new s,this.reloadItems(),this.stampedElements=[],this.stamp(this.options.stamped);var t=this.options.containerStyle;e(this.element.style,t),this.options.isResizeBound&&this.bindResize();var n=this;this.handleDraggabilly={dragStart:function(t){n.itemDragStart(t.element)},dragMove:function(t){n.itemDragMove(t.element,t.position.x,t.position.y)},dragEnd:function(t){n.itemDragEnd(t.element)}},this.handleUIDraggable={start:function(t){n.itemDragStart(t.currentTarget)},drag:function(t,e){n.itemDragMove(t.currentTarget,e.position.left,e.position.top)},stop:function(t){n.itemDragEnd(t.currentTarget)}}},i.prototype.reloadItems=function(){this.items=this._getItems(this.element.children)},i.prototype._getItems=function(t){for(var e=this._filterFindItemElements(t),n=[],i=0,r=e.length;r>i;i++){var o=e[i],s=new a(o,this);n.push(s)}return n},i.prototype._filterFindItemElements=function(t){t=n(t);var e=this.options.itemSelector;if(!e)return t;for(var i=[],r=0,o=t.length;o>r;r++){var s=t[r];p(s,e)&&i.push(s);for(var a=s.querySelectorAll(e),l=0,c=a.length;c>l;l++)i.push(a[l])}return i},i.prototype.getItemElements=function(){for(var t=[],e=0,n=this.items.length;n>e;e++)t.push(this.items[e].element);return t},i.prototype.layout=function(){this._prelayout();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},i.prototype._init=i.prototype.layout,i.prototype._prelayout=function(){this.elementSize=d(this.element),this._getMeasurements(),this.packer.width=this.elementSize.innerWidth+this.gutter,this.packer.height=Number.POSITIVE_INFINITY,this.packer.reset(),this.maxY=0,this.placeStampedElements()},i.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},i.prototype._getMeasurement=function(t,e){var n,i=this.options[t];i?("string"==typeof i?n=this.element.querySelector(i):v(i)&&(n=i),this[t]=n?d(n)[e]:i):this[t]=0},i.prototype.layoutItems=function(t,e){var n=this._getLayoutItems(t);if(n&&n.length){this._itemsOn(n,"layout",function(){this.emitEvent("layoutComplete",[this,n])});for(var i=0,r=n.length;r>i;i++){var o=n[i];this._packItem(o),this._layoutItem(o,e)}}else this.emitEvent("layoutComplete",[this,[]]);var s=this.elementSize,a=this.maxY-this.gutter;s.isBorderBox&&(a+=s.paddingBottom+s.paddingTop+s.borderTopWidth+s.borderBottomWidth),a=Math.max(a,0),this.element.style.height=a+"px"},i.prototype._getLayoutItems=function(t){for(var e=[],n=0,i=t.length;i>n;n++){var r=t[n];r.isIgnored||e.push(r)}return e},i.prototype._packItem=function(t){this._setRectSize(t.element,t.rect),this.packer.pack(t.rect),this._setMaxY(t.rect)},i.prototype._setMaxY=function(t){this.maxY=Math.max(t.y+t.height,this.maxY)},i.prototype._setRectSize=function(t,e){var n=d(t),i=n.outerWidth,r=n.outerHeight,o=this.columnWidth+this.gutter,s=this.rowHeight+this.gutter;i=this.columnWidth?Math.ceil(i/o)*o:i+this.gutter,r=this.rowHeight?Math.ceil(r/s)*s:r+this.gutter,e.width=Math.min(i,this.packer.width),e.height=r},i.prototype._layoutItem=function(t,e){var n=t.rect;e?t.goTo(n.x,n.y):t.moveTo(n.x,n.y)},i.prototype._itemsOn=function(t,e,n){function i(){return r++,r===o&&n.call(s),!0}for(var r=0,o=t.length,s=this,a=0,l=t.length;l>a;a++){var c=t[a];c.on(e,i)}},i.prototype.stamp=function(t){if(t){"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n(t),this.stampedElements.push.apply(this.stampedElements,t);for(var e=0,i=t.length;i>e;e++){var r=t[e];this.ignore(r)}}},i.prototype.unstamp=function(t){if(t){t=n(t);for(var e=0,i=t.length;i>e;e++){var r=t[e],o=y(this.stampedElements,r);-1!==o&&this.stampedElements.splice(o,1),this.unignore(r)}}},i.prototype.placeStampedElements=function(){if(this.stampedElements&&this.stampedElements.length){this._getBounds();for(var t=0,e=this.stampedElements.length;e>t;t++){var n=this.stampedElements[t];this.placeStamp(n)}}},i.prototype._getBounds=function(){var t=this.element.getBoundingClientRect();this._boundingLeft=t.left+this.elementSize.paddingLeft,this._boundingTop=t.top+this.elementSize.paddingTop},i.prototype.placeStamp=function(t){var e,n=this.getItem(t);e=n&&n.isPlacing?n.placeRect:this._getElementOffsetRect(t),this._setRectSize(t,e),this.packer.placed(e),this._setMaxY(e)},i.prototype._getElementOffsetRect=function(t){var e=t.getBoundingClientRect(),n=new o({x:e.left-this._boundingLeft,y:e.top-this._boundingTop});return n.x-=this.elementSize.borderLeftWidth,n.y-=this.elementSize.borderTopWidth,n},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.bindResize=function(){this.isResizeBound||(h.bind(t,"resize",this),this.isResizeBound=!0)},i.prototype.unbindResize=function(){h.unbind(t,"resize",this),this.isResizeBound=!1},i.prototype.onresize=function(){function t(){e.resize()}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},i.prototype.resize=function(){var t=d(this.element),e=this.elementSize&&t;e&&t.innerWidth===this.elementSize.innerWidth||(this.layout(),delete this.resizeTimeout)},i.prototype.addItems=function(t){var e=this._getItems(t);return e.length?(this.items.push.apply(this.items,e),e):void 0},i.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},i.prototype.prepended=function(t){var e=this._getItems(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._prelayout(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},i.prototype.reveal=function(t){if(t&&t.length)for(var e=0,n=t.length;n>e;e++){var i=t[e];i.reveal()}},i.prototype.getItem=function(t){for(var e=0,n=this.items.length;n>e;e++){var i=this.items[e];if(i.element===t)return i}},i.prototype.getItems=function(t){if(t&&t.length){for(var e=[],n=0,i=t.length;i>n;n++){var r=t[n],o=this.getItem(r);o&&e.push(o)}return e}},i.prototype.remove=function(t){t=n(t);var e=this.getItems(t);this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,r=e.length;r>i;i++){var o=e[i];o.remove();var s=y(this.items,o);this.items.splice(s,1)}},i.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},i.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},i.prototype.sortItemsByPosition=function(){this.items.sort(function(t,e){return t.position.y-e.position.y||t.position.x-e.position.x})},i.prototype.fit=function(t,e,n){function i(){s++,2===s&&o.emitEvent("fitComplete",[o,r])}var r=this.getItem(t);if(r){this._getMeasurements(),this.stamp(r.element),r.getSize(),r.isPlacing=!0,e=void 0===e?r.rect.x:e,n=void 0===n?r.rect.y:n,r.positionPlaceRect(e,n,!0);var o=this,s=0;r.on("layout",function(){return i(),!0}),this.on("layoutComplete",function(){return i(),!0}),r.moveTo(r.placeRect.x,r.placeRect.y),this.layout(),this.unstamp(r.element),this.sortItemsByPosition(),r.isPlacing=!1,r.copyPlaceRectPosition()}},i.prototype.itemDragStart=function(t){this.stamp(t);var e=this.getItem(t);e&&e.dragStart()},i.prototype.itemDragMove=function(t,e,n){function i(){o.layout(),delete o.dragTimeout}var r=this.getItem(t);r&&r.dragMove(e,n);var o=this;this.clearDragTimeout(),this.dragTimeout=setTimeout(i,40)},i.prototype.clearDragTimeout=function(){this.dragTimeout&&clearTimeout(this.dragTimeout)},i.prototype.itemDragEnd=function(t){function e(){return s++,s!==o?!0:(i&&(l.remove(i.element,"is-positioning-post-drag"),i.isPlacing=!1,i.copyPlaceRectPosition()),a.unstamp(t),a.sortItemsByPosition(),i&&r&&a.emitEvent("dragItemPositioned",[a,i]),!0)}var n,i=this.getItem(t);if(i&&(n=i.didDrag,i.dragStop()),!i||!n&&!i.needsPositioning)return this.unstamp(t),void 0;l.add(i.element,"is-positioning-post-drag");var r=i.needsPositioning,o=r?2:1,s=0,a=this;r?(i.on("layout",e),i.moveTo(i.placeRect.x,i.placeRect.y)):i&&i.copyPlaceRectPosition(),this.clearDragTimeout(),this.on("layoutComplete",e),this.layout()},i.prototype.bindDraggabillyEvents=function(t){t.on("dragStart",this.handleDraggabilly.dragStart),t.on("dragMove",this.handleDraggabilly.dragMove),t.on("dragEnd",this.handleDraggabilly.dragEnd)},i.prototype.bindUIDraggableEvents=function(t){t.on("dragstart",this.handleUIDraggable.start).on("drag",this.handleUIDraggable.drag).on("dragstop",this.handleUIDraggable.stop)},i.prototype.destroy=function(){this.element.style.position="",this.element.style.height="",delete this.element.packeryGUID;for(var t=0,e=this.items.length;e>t;t++){var n=this.items[t];n.destroy()}this.unbindResize()},i.data=function(t){var e=t.packeryGUID;return e&&w[e]},c(function(){for(var t=f.querySelectorAll(".js-packery"),e=0,n=t.length;n>e;e++){var r,o=t[e],s=o.getAttribute("data-packery-options");try{r=s&&JSON.parse(s)}catch(a){m&&m.error("Error parsing data-packery-options on "+o.nodeName.toLowerCase()+(o.id?"#"+o.id:"")+": "+a);continue}var l=new i(o,r);g&&g.data(o,"packery",l)}}),g&&g.bridget&&g.bridget("packery",i),i.Rect=o,i.Packer=s,i.Item=a,t.Packery=i}(window),FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},FastClick.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],this.deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,n,i,r,o,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(o=t.changedTouches[0],s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s,s.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=s.tagName.toLowerCase(),"label"===i){if(e=this.findControl(s)){if(this.focus(s),this.deviceIsAndroid)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(s),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(r=s.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e;if("undefined"==typeof window.ontouchstart)return!0;if(/Chrome\/[0-9]+/.test(navigator.userAgent)){if(!FastClick.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]"),e&&-1!==e.content.indexOf("user-scalable=no"))return!0}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t){"use strict";return new FastClick(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(t){"function"==typeof module?module.exports=t(this.jQuery||require("jquery")):this.NProgress=t(this.jQuery)}(function(t){function e(t,e,n){return e>t?e:t>n?n:t}function n(t){return 100*(-1+t)}function i(t,e,i){var r;return r="translate3d"===o.positionUsing?{transform:"translate3d("+n(t)+"%,0,0)"}:"translate"===o.positionUsing?{transform:"translate("+n(t)+"%,0)"}:{"margin-left":n(t)+"%"},r.transition="all "+e+"ms "+i,r}var r={};r.version="0.1.2";var o=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return r.configure=function(e){return t.extend(o,e),this},r.status=null,r.set=function(t){var n=r.isStarted();t=e(t,o.minimum,1),r.status=1===t?null:t;var s=r.render(!n),a=s.find('[role="bar"]'),l=o.speed,c=o.easing;
return s[0].offsetWidth,s.queue(function(e){""===o.positionUsing&&(o.positionUsing=r.getPositioningCSS()),a.css(i(t,l,c)),1===t?(s.css({transition:"none",opacity:1}),s[0].offsetWidth,setTimeout(function(){s.css({transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){r.remove(),e()},l)},l)):setTimeout(e,l)}),this},r.isStarted=function(){return"number"==typeof r.status},r.start=function(){r.status||r.set(0);var t=function(){setTimeout(function(){r.status&&(r.trickle(),t())},o.trickleSpeed)};return o.trickle&&t(),this},r.done=function(t){return t||r.status?r.inc(.3+.5*Math.random()).set(1):this},r.inc=function(t){var n=r.status;return n?("number"!=typeof t&&(t=(1-n)*e(Math.random()*n,.1,.95)),n=e(n+t,0,.994),r.set(n)):r.start()},r.trickle=function(){return r.inc(Math.random()*o.trickleRate)},r.render=function(e){if(r.isRendered())return t("#nprogress");t("html").addClass("nprogress-busy");var i=t("<div id='nprogress'>").html(o.template),s=e?"-100":n(r.status||0);return i.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),o.showSpinner||i.find('[role="spinner"]').remove(),i.appendTo(document.body),i},r.remove=function(){t("html").removeClass("nprogress-busy"),t("#nprogress").remove()},r.isRendered=function(){return t("#nprogress").length>0},r.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"},r}),function(){"use strict";Handlebars.registerHelper("date",function(t,e){!e&&t.hasOwnProperty("hash")&&(e=t,t=void 0,this.published_at&&(t=this.published_at)),t=null===t?void 0:t;var n,i=e.hash.format||"MMM Do, YYYY",r=e.hash.timeago;return n=r?moment(t).fromNow():moment(t).format(i)}),Handlebars.registerHelper("adminUrl",function(){return Ghost.paths.subdir+"/ghost"}),Handlebars.registerHelper("asset",function(t,e){var n="",i=e&&e.hash&&e.hash.ghost;return n+=Ghost.paths.subdir+"/",t.match(/^shared/)||(n+=i?"ghost/":"assets/"),n+=t,new Handlebars.SafeString(n)})}(),function(){"use strict";function t(){var t=window.location.pathname,e=t.substr(0,t.search("/ghost/"));return{subdir:e,apiRoot:e+"/ghost/api/v0.1"}}var e={Layout:{},Views:{},Collections:{},Models:{},Validate:new Validator,paths:t(),temporary:{},currentView:null,router:null};_.extend(e,Backbone.Events),Backbone.oldsync=Backbone.sync,Backbone.sync=function(t,e,n,i){return n.beforeSend=function(t){t.setRequestHeader("X-CSRF-Token",$("meta[name='csrf-param']").attr("content"))},Backbone.oldsync(t,e,n,i)},Backbone.oldModelProtoUrl=Backbone.Model.prototype.url,Backbone.Model.prototype.url=function(){var t=Backbone.oldModelProtoUrl.apply(this,arguments);return t+("/"===t.charAt(t.length-1)?"":"/")},e.init=function(){$(".js-msg").remove(),e.router=new e.Router,e.notifications=new e.Views.NotificationCollection({model:[]}),Backbone.history.start({pushState:!0,hashChange:!1,root:e.paths.subdir+"/ghost"})},e.Validate.error=function(t){return this._errors.push(t),this},e.Validate.handleErrors=function(){e.notifications.clearEverything(),_.each(e.Validate._errors,function(t){e.notifications.addItem({type:"error",message:t.message||t,status:"passive"}),t.hasOwnProperty("el")&&t.el.addClass("input-error")})},window.Ghost=e,window.addEventListener("load",e.init,!1)}(),function(){"use strict";FastClick.attach(document.body),$(".manage").on("click",".content-list ol li",function(t){window.matchMedia("(max-width: 800px)").matches&&(t.preventDefault(),t.stopPropagation(),$(".content-list").animate({right:"100%",left:"-100%","margin-right":"15px"},300),$(".content-preview").animate({right:"0",left:"0","margin-left":"0"},300))}),$(".manage").on("click",".content-preview .button-back",function(t){window.matchMedia("(max-width: 800px)").matches&&(t.preventDefault(),t.stopPropagation(),$(".content-list").animate({right:"0",left:"0","margin-right":"0"},300),$(".content-preview").animate({right:"-100%",left:"100%","margin-left":"15px"},300))}),$(".settings").on("click",".settings-menu li",function(t){window.matchMedia("(max-width: 800px)").matches&&(t.preventDefault(),t.stopPropagation(),$(".settings-sidebar").animate({right:"100%",left:"-102%","margin-right":"15px"},300),$(".settings-content").animate({right:"0",left:"0","margin-left":"0"},300),$(".settings-content .button-back, .settings-content .button-save").css("display","inline-block"))}),$(".settings").on("click",".settings-content .button-back",function(t){window.matchMedia("(max-width: 800px)").matches&&(t.preventDefault(),t.stopPropagation(),$(".settings-sidebar").animate({right:"0",left:"0","margin-right":"0"},300),$(".settings-content").animate({right:"-100%",left:"100%","margin-left":"15"},300),$(".settings-content .button-back, .settings-content .button-save").css("display","none"))}),$("[data-off-canvas]").on("click",function(t){window.matchMedia("(max-width: 650px)").matches&&(t.preventDefault(),$("body").toggleClass("off-canvas"))})}(),function(){"use strict";Ghost.temporary.hideToggles=function(){$("[data-toggle]").each(function(){var t=$(this).data("toggle");$(this).parent().children(t+":visible").fadeOut(150)}),$("[data-toggle].active").removeClass("active")},Ghost.temporary.initToggles=function(t){t.find("[data-toggle]").each(function(){var t=$(this).data("toggle");$(this).parent().children(t).hide()}),t.find("[data-toggle]").on("click",function(t){t.preventDefault(),t.stopPropagation();var e=$(this),n=e.data("toggle"),i=e.is(".active");Ghost.temporary.hideToggles(),i||(e.toggleClass("active"),$(this).parent().children(n).toggleClass("open").fadeToggle(150))})},$(document).ready(function(){Ghost.temporary.initToggles($(document))})}(),function(){"use strict";var t={init:function(t,e){var n=this;n.elem=e,n.style="string"==typeof t?t:t.style,n.options=$.extend({},CodeMirror.prototype.addMarkdown.options,t),n.replace()},replace:function(){var t,e,n,i,r,o,s=this.elem.getSelection(),a=!0;switch(this.style){case"h1":e=this.elem.getCursor(),n=this.elem.getLine(e.line),this.elem.setLine(e.line,"# "+n),this.elem.setCursor(e.line,e.ch+2),a=!1;break;case"h2":e=this.elem.getCursor(),n=this.elem.getLine(e.line),this.elem.setLine(e.line,"## "+n),this.elem.setCursor(e.line,e.ch+3),a=!1;break;case"h3":e=this.elem.getCursor(),n=this.elem.getLine(e.line),this.elem.setLine(e.line,"### "+n),this.elem.setCursor(e.line,e.ch+4),a=!1;break;case"h4":e=this.elem.getCursor(),n=this.elem.getLine(e.line),this.elem.setLine(e.line,"#### "+n),this.elem.setCursor(e.line,e.ch+5),a=!1;break;case"h5":e=this.elem.getCursor(),n=this.elem.getLine(e.line),this.elem.setLine(e.line,"##### "+n),this.elem.setCursor(e.line,e.ch+6),a=!1;break;case"h6":e=this.elem.getCursor(),n=this.elem.getLine(e.line),this.elem.setLine(e.line,"###### "+n),this.elem.setCursor(e.line,e.ch+7),a=!1;break;case"link":t=this.options.syntax.link.replace("$1",s),this.elem.replaceSelection(t,"end"),e=this.elem.getCursor(),this.elem.setSelection({line:e.line,ch:e.ch-8},{line:e.line,ch:e.ch-1}),a=!1;break;case"image":e=this.elem.getCursor(),t=this.options.syntax.image.replace("$1",s),""!==this.elem.getLine(e.line)&&(t="\n\n"+t),this.elem.replaceSelection(t,"end"),e=this.elem.getCursor(),this.elem.setSelection({line:e.line,ch:e.ch-8},{line:e.line,ch:e.ch-1}),a=!1;break;case"uppercase":t=s.toLocaleUpperCase();break;case"lowercase":t=s.toLocaleLowerCase();break;case"titlecase":t=s.toTitleCase();break;case"selectword":e=this.elem.getCursor(),i=this.elem.getTokenAt(e),/\w$/g.test(i.string)?this.elem.setSelection({line:e.line,ch:i.start},{line:e.line,ch:i.end}):this.elem.setSelection({line:e.line,ch:i.start},{line:e.line,ch:i.end-1});break;case"copyHTML":o=new Showdown.converter,t=s?o.makeHtml(s):o.makeHtml(this.elem.getValue()),$(".modal-copyToHTML-content").text(t).selectText(),a=!1;break;case"list":t=s.replace(/^(\s*)(\w\W*)/gm,"$1* $2"),this.elem.replaceSelection(t,"end"),a=!1;break;case"currentDate":t=moment(new Date).format("D MMMM YYYY"),this.elem.replaceSelection(t,"end"),a=!1;break;case"newLine":e=this.elem.getCursor(),""!==this.elem.getLine(e.line)&&this.elem.setLine(e.line,this.elem.getLine(e.line)+"\n\n"),a=!1;break;default:this.options.syntax[this.style]&&(t=this.options.syntax[this.style].replace("$1",s))}a&&t&&(this.elem.replaceSelection(t,"end"),s||(r=t.length,e=this.elem.getCursor(),this.elem.setCursor({line:e.line,ch:e.ch-r/2})))}};CodeMirror.prototype.addMarkdown=function(e){var n=Object.create(t);n.init(e,this)},CodeMirror.prototype.addMarkdown.options={style:null,syntax:{bold:"**$1**",italic:"*$1*",strike:"~~$1~~",code:"`$1`",link:"[$1](http://)",image:"![$1](http://)",blockquote:"> $1"}}}(),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/forgotten"]=Handlebars.template(function(t,e,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{},'<form id="forgotten" method="post" novalidate="novalidate">\n    <div class="email-wrap">\n        <input class="email" type="email" placeholder="Email Address" name="email" autocapitalize="off" autocorrect="off">\n    </div>\n    <button class="button-save" type="submit">Send new password</button>\n</form>\n'}),this.HandlebarsTemplates["ghost/core/client/tpl/forgotten"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/list-item"]=Handlebars.template(function(t,e,n,i,r){function o(){return" featured"}function s(){return" page"}function a(t,e){var i,r="";return r+="\n            ",i=n["if"].call(t,t&&t.page,{hash:{},inverse:m.program(8,c,e),fn:m.program(6,l,e),data:e}),(i||0===i)&&(r+=i),r+="\n        "}function l(){return'\n                    <span class="page">Page</span>\n            '}function c(t,e){var i,r,o="";return o+='\n                <time datetime="',r={hash:{format:"YYYY-MM-DD hh:mm"},data:e},o+=f((i=n.date||t&&t.date,i?i.call(t,t&&t.published_at,r):p.call(t,"date",t&&t.published_at,r)))+'" class="date published">\n                    Published ',r={hash:{timeago:"True"},data:e},o+=f((i=n.date||t&&t.date,i?i.call(t,t&&t.published_at,r):p.call(t,"date",t&&t.published_at,r)))+"\n                </time>\n            "}function u(){return'\n            <span class="draft">Draft</span>\n        '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var h,d="",p=n.helperMissing,f=this.escapeExpression,m=this,g="function";return d+='<a class="permalink',h=n["if"].call(e,e&&e.featured,{hash:{},inverse:m.noop,fn:m.program(1,o,r),data:r}),(h||0===h)&&(d+=h),h=n["if"].call(e,e&&e.page,{hash:{},inverse:m.noop,fn:m.program(3,s,r),data:r}),(h||0===h)&&(d+=h),d+='" href="#" title="Edit this post">\n    <h3 class="entry-title">',(h=n.title)?h=h.call(e,{hash:{},data:r}):(h=e&&e.title,h=typeof h===g?h.call(e,{hash:{},data:r}):h),(h||0===h)&&(d+=h),d+='</h3>\n    <section class="entry-meta">\n        <span class="status">\n        ',h=n["if"].call(e,e&&e.published,{hash:{},inverse:m.program(10,u,r),fn:m.program(5,a,r),data:r}),(h||0===h)&&(d+=h),d+="\n        </span>\n    </section>\n</a>\n"}),this.HandlebarsTemplates["ghost/core/client/tpl/list-item"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/login"]=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s="",a="function",l=this.escapeExpression;return s+='<form id="login" method="post" novalidate="novalidate">\n    <div class="email-wrap">\n        <input class="email" type="email" placeholder="Email Address" name="email" autocapitalize="off" autocorrect="off">\n    </div>\n    <div class="password-wrap">\n        <input class="password" type="password" placeholder="Password" name="password">\n    </div>\n    <button class="button-save" type="submit">Log in</button>\n    <section class="meta">\n        <a class="forgotten-password" href="',(o=n.adminUrl)?o=o.call(e,{hash:{},data:r}):(o=e&&e.adminUrl,o=typeof o===a?o.call(e,{hash:{},data:r}):o),s+=l(o)+'/forgotten/">Forgotten password?</a>\n    </section>\n</form>\n'}),this.HandlebarsTemplates["ghost/core/client/tpl/login"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/modal"]=Handlebars.template(function(t,e,n,i,r){function o(t){var e,n="";return n+="-"+b((e=t&&t.options,e=null==e||e===!1?e:e.type,typeof e===y?e.apply(t):e))}function s(t,e){var i,r;return r=n.each.call(t,(i=t&&t.options,null==i||i===!1?i:i.style),{hash:{},inverse:w.noop,fn:w.program(4,a,e),data:e}),r||0===r?r:""}function a(t){var e="";return e+="modal-style-"+b(typeof t===y?t.apply(t):t)+" "}function l(t){var e,n="";return n+='<header class="modal-header"><h1>'+b((e=t&&t.content,e=null==e||e===!1?e:e.title,typeof e===y?e.apply(t):e))+"</h1></header>"}function c(){return'<a class="close" href="#" title="Close"><span class="hidden">Close</span></a>'}function u(t,e){var i,r,o="";return o+='\n        <footer class="modal-footer">\n            <button class="js-button-accept ',r=n["if"].call(t,(i=t&&t.options,i=null==i||i===!1?i:i.confirm,i=null==i||i===!1?i:i.accept,null==i||i===!1?i:i.buttonClass),{hash:{},inverse:w.program(13,d,e),fn:w.program(11,h,e),data:e}),(r||0===r)&&(o+=r),o+='">'+b((i=t&&t.options,i=null==i||i===!1?i:i.confirm,i=null==i||i===!1?i:i.accept,i=null==i||i===!1?i:i.text,typeof i===y?i.apply(t):i))+'</button>\n            <button class="js-button-reject ',r=n["if"].call(t,(i=t&&t.options,i=null==i||i===!1?i:i.confirm,i=null==i||i===!1?i:i.reject,null==i||i===!1?i:i.buttonClass),{hash:{},inverse:w.program(17,f,e),fn:w.program(15,p,e),data:e}),(r||0===r)&&(o+=r),o+='">'+b((i=t&&t.options,i=null==i||i===!1?i:i.confirm,i=null==i||i===!1?i:i.reject,i=null==i||i===!1?i:i.text,typeof i===y?i.apply(t):i))+"</button>\n        </footer>\n        "}function h(t){var e;return b((e=t&&t.options,e=null==e||e===!1?e:e.confirm,e=null==e||e===!1?e:e.accept,e=null==e||e===!1?e:e.buttonClass,typeof e===y?e.apply(t):e))}function d(){return"button-add"}function p(t){var e;return b((e=t&&t.options,e=null==e||e===!1?e:e.confirm,e=null==e||e===!1?e:e.reject,e=null==e||e===!1?e:e.buttonClass,typeof e===y?e.apply(t):e))}function f(){return"button-delete"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var m,g,v="",y="function",b=this.escapeExpression,w=this;return v+='<article class="modal',g=n["if"].call(e,(m=e&&e.options,null==m||m===!1?m:m.type),{hash:{},inverse:w.noop,fn:w.program(1,o,r),data:r}),(g||0===g)&&(v+=g),v+=" ",g=n["if"].call(e,(m=e&&e.options,null==m||m===!1?m:m.style),{hash:{},inverse:w.noop,fn:w.program(3,s,r),data:r}),(g||0===g)&&(v+=g),v+=b((m=e&&e.options,m=null==m||m===!1?m:m.animation,typeof m===y?m.apply(e):m))+' js-modal">\n    <section class="modal-content">\n        ',g=n["if"].call(e,(m=e&&e.content,null==m||m===!1?m:m.title),{hash:{},inverse:w.noop,fn:w.program(6,l,r),data:r}),(g||0===g)&&(v+=g),v+="\n        ",g=n["if"].call(e,(m=e&&e.options,null==m||m===!1?m:m.close),{hash:{},inverse:w.noop,fn:w.program(8,c,r),data:r}),(g||0===g)&&(v+=g),v+='\n        <section class="modal-body">\n        </section>\n        ',g=n["if"].call(e,(m=e&&e.options,null==m||m===!1?m:m.confirm),{hash:{},inverse:w.noop,fn:w.program(10,u,r),data:r}),(g||0===g)&&(v+=g),v+="\n    </section>\n</article>\n"}),this.HandlebarsTemplates["ghost/core/client/tpl/modal"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/modals/blank"]=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function";return o=e&&e.content,o=null==o||o===!1?o:o.text,s=typeof o===l?o.apply(e):o,(s||0===s)&&(a+=s),a+="\n"}),this.HandlebarsTemplates["ghost/core/client/tpl/modals/blank"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/modals/copyToHTML"]=Handlebars.template(function(t,e,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{},'Press Ctrl / Cmd + C to copy the following HTML.\n<pre>\n<code class="modal-copyToHTML-content"></code>\n</pre>\n'}),this.HandlebarsTemplates["ghost/core/client/tpl/modals/copyToHTML"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/modals/markdown"]=Handlebars.template(function(t,e,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{},'<section class="markdown-help-container">\n    <table class="modal-markdown-help-table">\n        <thead>\n            <tr>\n                <th>Result</th>\n                <th>Markdown</th>\n                <th>Shortcut</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td><strong>Bold</strong></td>\n                <td>**text**</td>\n                <td>Ctrl / Cmd + B</td>\n            </tr>\n            <tr>\n                <td><em>Emphasize</em></td>\n                <td>*text*</td>\n                <td>Ctrl / Cmd + I</td>\n            </tr>\n            <tr>\n                <td><code>Inline Code</code></td>\n                <td>`code`</td>\n                <td>Cmd + K / Ctrl + Shift + K</td>\n            </tr>\n            <tr>\n                <td>Strike-through</td>\n                <td>~~text~~</td>\n                <td>Ctrl + Alt + U</td>\n            </tr>\n            <tr>\n                <td><a href="#">Link</a></td>\n                <td>[title](http://)</td>\n                <td>Ctrl + Shift + L</td>\n            </tr>\n            <tr>\n                <td>Image</td>\n                <td>![alt](http://)</td>\n                <td>Ctrl + Shift + I</td>\n            </tr>\n            <tr>\n                <td>List</td>\n                <td>* item</td>\n                <td>Ctrl + L</td>\n            </tr>\n            <tr>\n                <td>Blockquote</td>\n                <td>> quote</td>\n                <td>Ctrl + Q</td>\n            </tr>\n            <tr>\n                <td>H1</td>\n                <td># Heading</td>\n                <td>Ctrl + Alt + 1</td>\n            </tr>\n            <tr>\n                <td>H2</td>\n                <td>## Heading</td>\n                <td>Ctrl + Alt + 2</td>\n            </tr>\n            <tr>\n                <td>H3</td>\n                <td>### Heading</td>\n                <td>Ctrl + Alt + 3</td>\n            </tr>\n            <tr>\n                <td>H4</td>\n                <td>#### Heading</td>\n                <td>Ctrl + Alt + 4</td>\n            </tr>\n            <tr>\n                <td>H5</td>\n                <td>##### Heading</td>\n                <td>Ctrl + Alt + 5</td>\n            </tr>\n            <tr>\n                <td>H6</td>\n                <td>###### Heading</td>\n                <td>Ctrl + Alt + 6</td>\n            </tr>\n            <tr>\n                <td>Select Word</td>\n                <td></td>\n                <td>Ctrl + Alt + W</td>\n            </tr>\n            <tr>\n                <td>New Paragraph</td>\n                <td></td>\n                <td>Ctrl / Cmd + Enter</td>\n            </tr>\n            <tr>\n                <td>Uppercase</td>\n                <td></td>\n                <td>Ctrl + U</td>\n            </tr>\n            <tr>\n                <td>Lowercase</td>\n                <td></td>\n                <td>Ctrl + Shift + U</td>\n            </tr>\n            <tr>\n                <td>Titlecase</td>\n                <td></td>\n                <td>Ctrl + Alt + Shift + U</td>\n            </tr>\n            <tr>\n                <td>Insert Current Date</td>\n                <td></td>\n                <td>Ctrl + Shift + 1</td>\n            </tr>\n        </tbody>\n    </table>\n    For further Markdown syntax reference: <a href="http://daringfireball.net/projects/markdown/syntax" target="_blank">Markdown Documentation</a>\n</section>\n'}),this.HandlebarsTemplates["ghost/core/client/tpl/modals/markdown"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/modals/uploadImage"]=Handlebars.template(function(t,e,n,i,r){function o(){return' style="display: none"'}function s(t){var e,n="";return n+='accept="'+h((e=t&&t.options,e=null==e||e===!1?e:e.acceptEncoding,typeof e===u?e.apply(t):e))+'"'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var a,l,c="",u="function",h=this.escapeExpression,d=this;return c+='<section class="js-drop-zone">\n    <img class="js-upload-target" src="'+h((a=e&&e.options,a=null==a||a===!1?a:a.src,typeof a===u?a.apply(e):a))+'"',l=n.unless.call(e,(a=e&&e.options,null==a||a===!1?a:a.src),{hash:{},inverse:d.noop,fn:d.program(1,o,r),data:r}),(l||0===l)&&(c+=l),c+=' alt="logo">\n    <input data-url="upload" class="js-fileupload main" type="file" name="uploadimage" ',l=n["if"].call(e,(a=e&&e.options,null==a||a===!1?a:a.acceptEncoding),{hash:{},inverse:d.noop,fn:d.program(3,s,r),data:r}),(l||0===l)&&(c+=l),c+=">\n</section>\n"}),this.HandlebarsTemplates["ghost/core/client/tpl/modals/uploadImage"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/notification"]=Handlebars.template(function(t,e,n,i,r){function o(t,e){var i,r="";return r+="-",(i=n.type)?i=i.call(t,{hash:{},data:e}):(i=t&&t.type,i=typeof i===l?i.call(t,{hash:{},data:e}):i),r+=c(i)}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,a="",l="function",c=this.escapeExpression,u=this;return a+='<section class="notification',s=n["if"].call(e,e&&e.type,{hash:{},inverse:u.noop,fn:u.program(1,o,r),data:r}),(s||0===s)&&(a+=s),a+=" notification-",(s=n.status)?s=s.call(e,{hash:{},data:r}):(s=e&&e.status,s=typeof s===l?s.call(e,{hash:{},data:r}):s),a+=c(s)+' js-notification">\n    ',(s=n.message)?s=s.call(e,{hash:{},data:r}):(s=e&&e.message,s=typeof s===l?s.call(e,{hash:{},data:r}):s),(s||0===s)&&(a+=s),a+='\n    <a class="close" href="#"><span class="hidden">Close</span></a>\n</section>\n'}),this.HandlebarsTemplates["ghost/core/client/tpl/notification"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/preview"]=Handlebars.template(function(t,e,n,i,r){function o(){return"featured"}function s(){return"unfeatured"}function a(){return"Unfeature"}function l(){return"Feature"}function c(){return"Published"}function u(){return"Written"}function h(t){var e;return y((e=t&&t.author,e=null==e||e===!1?e:e.name,typeof e===v?e.apply(t):e))}function d(t){var e;return y((e=t&&t.author,e=null==e||e===!1?e:e.email,typeof e===v?e.apply(t):e))}function p(t,e){var i,r="";return r+='\n    <div class="no-posts-box">\n        <div class="no-posts">\n            <h3>You Haven\'t Written Any Posts Yet!</h3>\n            <form action="',(i=n.adminUrl)?i=i.call(t,{hash:{},data:e}):(i=t&&t.adminUrl,i=typeof i===v?i.call(t,{hash:{},data:e}):i),r+=y(i)+'/editor/"><button class="button-add large" title="New Post">Write a new Post</button></form>\n        </div>\n    </div>\n'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var f,m,g="",v="function",y=this.escapeExpression,b=this;return g+='<header class="floatingheader">\n    <button class="button-back" href="#">Back</button>\n    <a class="',f=n["if"].call(e,e&&e.featured,{hash:{},inverse:b.program(3,s,r),fn:b.program(1,o,r),data:r}),(f||0===f)&&(g+=f),g+='" href="#" title="',f=n["if"].call(e,e&&e.featured,{hash:{},inverse:b.program(7,l,r),fn:b.program(5,a,r),data:r}),(f||0===f)&&(g+=f),g+=' this post">\n        <span class="hidden">Star</span>\n    </a>\n    <small>\n        <span class="status">',f=n["if"].call(e,e&&e.published,{hash:{},inverse:b.program(11,u,r),fn:b.program(9,c,r),data:r}),(f||0===f)&&(g+=f),g+='</span>\n        <span class="normal">by</span>\n        <span class="author">',m=n["if"].call(e,(f=e&&e.author,null==f||f===!1?f:f.name),{hash:{},inverse:b.program(15,d,r),fn:b.program(13,h,r),data:r}),(m||0===m)&&(g+=m),g+='</span>\n    </small>\n    <section class="post-controls">\n        <a class="post-edit" href="#" title="Edit Post"><span class="hidden">Edit Post</span></a>\n        <a class="post-settings" href="#" data-toggle=".post-settings-menu" title="Post Settings"><span class="hidden">Post Settings</span></a>\n        <div class="post-settings-menu menu-drop-right overlay">\n        </div>\n    </section>\n</header>\n<section class="content-preview-content">\n    <div class="wrapper"><h1>',(m=n.title)?m=m.call(e,{hash:{},data:r}):(m=e&&e.title,m=typeof m===v?m.call(e,{hash:{},data:r}):m),(m||0===m)&&(g+=m),g+="</h1>",(m=n.html)?m=m.call(e,{hash:{},data:r}):(m=e&&e.html,m=typeof m===v?m.call(e,{hash:{},data:r}):m),(m||0===m)&&(g+=m),g+="</div>\n</section>\n",m=n.unless.call(e,e&&e.title,{hash:{},inverse:b.noop,fn:b.program(17,p,r),data:r}),(m||0===m)&&(g+=m),g+="\n"}),this.HandlebarsTemplates["ghost/core/client/tpl/preview"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/reset"]=Handlebars.template(function(t,e,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{},'<form id="reset" method="post" novalidate="novalidate">\n    <div class="password-wrap">\n        <input class="password" type="password" placeholder="Password" name="newpassword" />\n    </div>\n    <div class="password-wrap">\n        <input class="password" type="password" placeholder="Confirm Password" name="ne2password" />\n    </div>\n    <button class="button-save" type="submit">Reset Password</button>\n</form>\n'}),this.HandlebarsTemplates["ghost/core/client/tpl/reset"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/settings/general"]=Handlebars.template(function(t,e,n,i,r){function o(t,e){var i,r="";return r+='\n                    <a class="js-modal-logo" href="#"><img id="blog-logo" src="',(i=n.logo)?i=i.call(t,{hash:{},data:e}):(i=t&&t.logo,i=typeof i===p?i.call(t,{hash:{},data:e}):i),r+=f(i)+'" alt="logo"></a>\n                '}function s(){return'\n                    <a class="button-add js-modal-logo" >Upload Image</a>\n                '}function a(t,e){var i,r="";return r+='\n                    <a class="js-modal-cover" href="#"><img id="blog-cover" src="',(i=n.cover)?i=i.call(t,{hash:{},data:e}):(i=t&&t.cover,i=typeof i===p?i.call(t,{hash:{},data:e}):i),r+=f(i)+'" alt="cover photo"></a>\n                '}function l(){return'\n                    <a class="button-add js-modal-cover">Upload Image</a>\n                '}function c(t,e){var i,r="";return r+='\n                        <option value="',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t&&t.name,i=typeof i===p?i.call(t,{hash:{},data:e}):i),r+=f(i)+'" ',i=n["if"].call(t,t&&t.active,{hash:{},inverse:m.noop,fn:m.program(10,u,e),data:e}),(i||0===i)&&(r+=i),r+=">",(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t&&t.name,i=typeof i===p?i.call(t,{hash:{},data:e}):i),r+=f(i)+"</option>\n                    "}function u(){return"selected"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var h,d="",p="function",f=this.escapeExpression,m=this;return d+='<header>\n    <button class="button-back">Back</button>\n    <h2 class="title">General</h2>\n    <section class="page-actions">\n        <button class="button-save">Save</button>\n    </section>\n</header>\n\n<section class="content">\n    <form id="settings-general" novalidate="novalidate">\n        <fieldset>\n\n            <div class="form-group">\n                <label for="blog-title">Blog Title</label>\n                <input id="blog-title" name="general[title]" type="text" value="',(h=n.title)?h=h.call(e,{hash:{},data:r}):(h=e&&e.title,h=typeof h===p?h.call(e,{hash:{},data:r}):h),d+=f(h)+'" />\n                <p>The name of your blog</p>\n            </div>\n\n            <div class="form-group">\n                <label for="blog-description">Blog Description</label>\n                <textarea id="blog-description">',(h=n.description)?h=h.call(e,{hash:{},data:r}):(h=e&&e.description,h=typeof h===p?h.call(e,{hash:{},data:r}):h),d+=f(h)+'</textarea>\n                <p>Describe what your blog is about</p>\n            </div>\n        </fieldset>\n            <div class="form-group">\n                <label for="blog-logo">Blog Logo</label>\n                ',h=n["if"].call(e,e&&e.logo,{hash:{},inverse:m.program(3,s,r),fn:m.program(1,o,r),data:r}),(h||0===h)&&(d+=h),d+='\n                <p>Display a sexy logo for your publication</p>\n            </div>\n\n            <div class="form-group">\n                <label for="blog-cover">Blog Cover</label>\n                ',h=n["if"].call(e,e&&e.cover,{hash:{},inverse:m.program(7,l,r),fn:m.program(5,a,r),data:r}),(h||0===h)&&(d+=h),d+='\n                <p>Display a cover image on your site</p>\n            </div>\n        <fieldset>\n            <div class="form-group">\n                <label for="email-address">Email Address</label>\n                <input id="email-address" name="general[email-address]" type="email" value="',(h=n.email)?h=h.call(e,{hash:{},data:r}):(h=e&&e.email,h=typeof h===p?h.call(e,{hash:{},data:r}):h),d+=f(h)+'" autocapitalize="off" autocorrect="off" />\n                <p>Address to use for admin notifications</p>\n            </div>\n\n            <div class="form-group">\n                <label for="postsPerPage">Posts per page</label>\n                <input id="postsPerPage" name="general[postsPerPage]" type="number" value="',(h=n.postsPerPage)?h=h.call(e,{hash:{},data:r}):(h=e&&e.postsPerPage,h=typeof h===p?h.call(e,{hash:{},data:r}):h),d+=f(h)+'" />\n                <p>How many posts should be displayed on each page</p>\n            </div>\n\n            <div class="form-group">\n                <label for="permalinks">Dated Permalinks</label>\n                <input id="permalinks" name="general[permalinks]" type="checkbox" value=\'permalink\'/>\n                <label class="checkbox" for="permalinks"></label>\n                <p>Include date in your post\'s links</p>\n            </div>\n\n            <div class="form-group">\n                <label for="activeTheme">Theme</label>\n                <select id="activeTheme" name="general[activeTheme]">\n                    ',h=n.each.call(e,e&&e.availableThemes,{hash:{},inverse:m.noop,fn:m.program(9,c,r),data:r}),(h||0===h)&&(d+=h),d+="\n                </select>\n                <p>Select a theme for your blog</p>\n            </div>\n\n        </fieldset>\n    </form>\n</section>\n"}),this.HandlebarsTemplates["ghost/core/client/tpl/settings/general"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/settings/post"]=Handlebars.template(function(t,e,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{},'<form>\n    <table class="plain">\n        <tr class="post-setting">\n            <td class="post-setting-label">\n                <label for="url">URL</label>\n            </td>\n            <td class="post-setting-field">\n                <input id="url" class="post-setting-slug" type="text" placeholder="" value="" />\n            </td>\n        </tr>\n        <tr class="post-setting">\n            <td class="post-setting-label">\n                <label for="pub-date">Pub Date</label>\n            </td>\n            <td class="post-setting-field">\n                <input id="pub-date" class="post-setting-date" type="text" placeholder="Now" value=""><!--<span class="post-setting-calendar"></span>-->\n            </td>\n        </tr>\n        <tr class="post-setting">\n            <td class="post-setting-label">\n                <span class="label">Static Page</span>\n            </td>\n            <td class="post-setting-item">\n                <input id="static-page" class="post-setting-static-page" type="checkbox" value="">\n                <label class="checkbox" for="static-page"></label>\n            </td>\n        </tr>\n    </table>\n    <a class="delete" href="#">Delete This Post</a>\n</form>\n   \n'}),this.HandlebarsTemplates["ghost/core/client/tpl/settings/post"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/settings/sidebar"]=Handlebars.template(function(t,e,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{},'<header>\n    <h1 class="title">Settings</h1>\n</header>\n<nav class="settings-menu">\n    <ul>\n        <li class="general"><a href="#general">General</a></li>\n        <li class="users"><a href="#user">User</a></li>\n    </ul>\n</nav>\n'
}),this.HandlebarsTemplates["ghost/core/client/tpl/settings/sidebar"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/settings/user-profile"]=Handlebars.template(function(t,e,n,i,r){function o(t,e){var i;return(i=n.cover)?i=i.call(t,{hash:{},data:e}):(i=t&&t.cover,i=typeof i===h?i.call(t,{hash:{},data:e}):i),d(i)}function s(t,e){var i,r;return r={hash:{},data:e},d((i=n.asset||t&&t.asset,i?i.call(t,"shared/img/user-cover.png",r):p.call(t,"asset","shared/img/user-cover.png",r)))}function a(t,e){var i;return(i=n.image)?i=i.call(t,{hash:{},data:e}):(i=t&&t.image,i=typeof i===h?i.call(t,{hash:{},data:e}):i),d(i)}function l(t,e){var i,r;return r={hash:{},data:e},d((i=n.asset||t&&t.asset,i?i.call(t,"shared/img/user-image.png",r):p.call(t,"asset","shared/img/user-image.png",r)))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var c,u="",h="function",d=this.escapeExpression,p=n.helperMissing,f=this;return u+='<header>\n    <button class="button-back">Back</button>\n    <h2 class="title">Your Profile</h2>\n    <section class="page-actions">\n        <button class="button-save">Save</button>\n    </section>\n</header>\n\n<section class="content no-padding">\n\n    <header class="user-profile-header">\n        <img id="user-cover" class="cover-image" src="',c=n["if"].call(e,e&&e.cover,{hash:{},inverse:f.program(3,s,r),fn:f.program(1,o,r),data:r}),(c||0===c)&&(u+=c),u+='" title="',(c=n.name)?c=c.call(e,{hash:{},data:r}):(c=e&&e.name,c=typeof c===h?c.call(e,{hash:{},data:r}):c),u+=d(c)+'\'s Cover Image"/>\n\n        <a class="edit-cover-image js-modal-cover button" href="#">Change Cover</a>\n    </header>\n\n    <form class="user-profile" novalidate="novalidate">\n\n        <fieldset class="user-details-top">\n\n            <figure class="user-image">\n                <div id="user-image" class="img" style="background-image: url(',c=n["if"].call(e,e&&e.image,{hash:{},inverse:f.program(7,l,r),fn:f.program(5,a,r),data:r}),(c||0===c)&&(u+=c),u+=');" href="#"><span class="hidden">',(c=n.name)?c=c.call(e,{hash:{},data:r}):(c=e&&e.name,c=typeof c===h?c.call(e,{hash:{},data:r}):c),u+=d(c)+'\'s Picture</span></div>\n                <a href="#" class="edit-user-image js-modal-image">Edit Picture</a>\n            </figure>\n\n            <div class="form-group">\n                <label for="user-name" class="hidden">Full Name</label>\n                <input type="url" value="',(c=n.name)?c=c.call(e,{hash:{},data:r}):(c=e&&e.name,c=typeof c===h?c.call(e,{hash:{},data:r}):c),u+=d(c)+'" id="user-name" placeholder="Full Name" autocorrect="off" />\n                <p>Use your real name so people can recognise you</p>\n            </div>\n\n        </fieldset>\n\n        <fieldset class="user-details-bottom">\n\n            <div class="form-group">\n                <label for"user-email">Email</label>\n                <input type="email" value="',(c=n.email)?c=c.call(e,{hash:{},data:r}):(c=e&&e.email,c=typeof c===h?c.call(e,{hash:{},data:r}):c),u+=d(c)+'" id="user-email" placeholder="Email Address" autocapitalize="off" autocorrect="off" />\n                <p>Used for notifications</p>\n            </div>\n\n            <div class="form-group">\n                <label for="user-location">Location</label>\n                <input type="text" value="',(c=n.location)?c=c.call(e,{hash:{},data:r}):(c=e&&e.location,c=typeof c===h?c.call(e,{hash:{},data:r}):c),u+=d(c)+'" id="user-location" />\n                <p>Where in the world do you live?</p>\n            </div>\n\n            <div class="form-group">\n                <label for="user-website">Website</label>\n                <input type="text" value="',(c=n.website)?c=c.call(e,{hash:{},data:r}):(c=e&&e.website,c=typeof c===h?c.call(e,{hash:{},data:r}):c),u+=d(c)+'" id="user-website" autocapitalize="off" autocorrect="off" />\n                <p>Have a website or blog other than this one? Link it!</p>\n            </div>\n\n            <div class="form-group bio-container">\n                <label for="user-bio">Bio</label>\n                <textarea id="user-bio">',(c=n.bio)?c=c.call(e,{hash:{},data:r}):(c=e&&e.bio,c=typeof c===h?c.call(e,{hash:{},data:r}):c),u+=d(c)+'</textarea>\n                <p class="bio-desc">Write about you, in 200 characters or less.</p>\n                <span class="word-count">0</span>\n            </div>\n\n            <hr />\n\n        </fieldset>\n\n        <fieldset>\n\n            <div class="form-group">\n                <label for="user-password-old">Old Password</label>\n                <input type="password" id="user-password-old" />\n            </div>\n\n            <div class="form-group">\n                <label for="user-password-new">New Password</label>\n                <input type="password" id="user-password-new" />\n            </div>\n\n            <div class="form-group">\n                <label for="user-new-password-verification">Verify Password</label>\n                <input type="password" id="user-new-password-verification" />\n            </div>\n            <div class="form-group">\n                <button type="button" class="button-delete button-change-password">Change Password</button>\n            </div>\n\n        </fieldset>\n\n    </form>\n</section>\n'}),this.HandlebarsTemplates["ghost/core/client/tpl/settings/user-profile"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["ghost/core/client/tpl/signup"]=Handlebars.template(function(t,e,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{},'<form id="signup" method="post" novalidate="novalidate">\n    <div class="name-wrap">\n        <input class="name" type="text" placeholder="Full Name" name="name" autocorrect="off" />\n    </div>\n    <div class="email-wrap">\n        <input class="email" type="email" placeholder="Email Address" name="email" autocapitalize="off" autocorrect="off" />\n    </div>\n    <div class="password-wrap">\n        <input class="password" type="password" placeholder="Password" name="password" />\n    </div>\n    <button class="button-save" type="submit">Sign Up</button>\n</form>\n'}),this.HandlebarsTemplates["ghost/core/client/tpl/signup"]}.call(this),function(){window.JST||(window.JST={}),_.map(HandlebarsTemplates,function(t,e){return JST[e.replace(/^ghost\/core\/client\/tpl\//,"")]=t})}.call(this),function(){"use strict";NProgress.configure({showSpinner:!1}),Ghost.ProgressModel=Backbone.Model.extend({fetch:function(t){return t=t||{},NProgress.start(),t.success=function(){NProgress.done()},Backbone.Model.prototype.fetch.call(this,t)}}),Ghost.ProgressCollection=Backbone.Collection.extend({fetch:function(t){return t=t||{},NProgress.start(),t.success=function(){NProgress.done()},Backbone.Collection.prototype.fetch.call(this,t)}})}(),function(){"use strict";Ghost.Models.Post=Ghost.ProgressModel.extend({defaults:{status:"draft"},blacklist:["published","draft"],parse:function(t){return t.status&&(t.published="published"===t.status,t.draft="draft"===t.status),t.tags?t:t},validate:function(t){return _.isEmpty(t.title)?"You must specify a title for the post.":void 0},addTag:function(t){var e=this.get("tags")||[];e.push(t),this.set("tags",e)},removeTag:function(t){var e=this.get("tags")||[];e=_.reject(e,function(e){return e.id===t.id||e.name===t.name}),this.set("tags",e)}}),Ghost.Collections.Posts=Backbone.Collection.extend({currentPage:1,totalPages:0,totalPosts:0,nextPage:0,prevPage:0,url:Ghost.paths.apiRoot+"/posts/",model:Ghost.Models.Post,parse:function(t){return _.isArray(t.posts)?(this.limit=t.limit,this.currentPage=t.page,this.totalPages=t.pages,this.totalPosts=t.total,this.nextPage=t.next,this.prevPage=t.prev,t.posts):t}})}(),function(){"use strict";Ghost.Models.Settings=Ghost.ProgressModel.extend({url:Ghost.paths.apiRoot+"/settings/?type=blog,theme",id:"0"})}(),function(){"use strict";Ghost.Collections.Tags=Ghost.ProgressCollection.extend({url:Ghost.paths.apiRoot+"/tags/"})}(),function(){"use strict";Ghost.Models.Themes=Backbone.Model.extend({url:Ghost.paths.apiRoot+"/themes"})}(),function(){"use strict";Ghost.Models.uploadModal=Backbone.Model.extend({options:{close:!0,type:"action",style:["wide"],animation:"fade",afterRender:function(){var t=$("#"+this.options.model.id).data("filestorage");this.$(".js-drop-zone").upload({fileStorage:t})},confirm:{reject:{func:function(){return!0},buttonClass:!0,text:"Cancel"}}},content:{template:"uploadImage"},initialize:function(t){this.options.id=t.id,this.options.key=t.key,this.options.src=t.src,this.options.confirm.accept=t.accept,this.options.acceptEncoding=t.acceptEncoding||"image/*"}})}(),function(){"use strict";Ghost.Models.User=Ghost.ProgressModel.extend({url:Ghost.paths.apiRoot+"/users/me/"})}(),function(){"use strict";Ghost.Models.Widget=Ghost.ProgressModel.extend({defaults:{title:"",name:"",author:"",applicationID:"",size:"",content:{template:"",data:{number:{count:0,sub:{value:0,dir:"",item:"",period:""}}}},settings:{settingsPane:!1,enabled:!1,options:[{title:"ERROR",value:"Widget options not set"}]}}}),Ghost.Collections.Widgets=Ghost.ProgressCollection.extend({model:Ghost.Models.Widget})}(),function(){"use strict";Ghost.TemplateView=Backbone.View.extend({templateName:"widget",template:function(t){return JST[this.templateName](t)},templateData:function(){return this.model?this.model.toJSON():this.collection?this.collection.toJSON():{}},render:function(){return _.isFunction(this.beforeRender)&&this.beforeRender(),this.$el.html(this.template(this.templateData())),_.isFunction(this.afterRender)&&this.afterRender(),this}}),Ghost.View=Ghost.TemplateView.extend({addSubview:function(t){if(!(t instanceof Backbone.View))throw new Error("Subview must be a Backbone.View");return this.subviews=this.subviews||[],this.subviews.push(t),t},removeSubviews:function(){var t=this.subviews;return t?(_(t).invoke("remove"),this.subviews=[],this):this},remove:function(){return this.subviews&&this.removeSubviews(),Backbone.View.prototype.remove.apply(this,arguments)}}),Ghost.Views.Utils={getRequestErrorMessage:function(t){var e,n;if(!t)return null;if(e=t.statusText,200!==t.status)try{e=t.responseJSON.error||"Unknown Error"}catch(i){n=t.status?t.status+" - "+t.statusText:"Server was not available",e="The server returned an error ("+n+")."}return e},getUrlVariables:function(){var t,e,n=[],i=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(e=0;e<i.length;e+=1)t=i[e].split("="),n.push(t[0]),n[t[0]]=t[1];return n}},Ghost.Views.Notification=Ghost.View.extend({templateName:"notification",className:"js-bb-notification",template:function(t){return JST[this.templateName](t)},render:function(){var t=this.template(this.model);return this.$el.html(t),this}}),Ghost.Views.NotificationCollection=Ghost.View.extend({el:"#notifications",initialize:function(){var t=this;this.render(),Ghost.on("urlchange",function(){t.clearEverything()})},events:{"animationend .js-notification":"removeItem","webkitAnimationEnd .js-notification":"removeItem","oanimationend .js-notification":"removeItem","MSAnimationEnd .js-notification":"removeItem","click .js-notification.notification-passive .close":"closePassive","click .js-notification.notification-persistent .close":"closePersistent"},render:function(){_.each(this.model,function(t){this.renderItem(t)},this)},renderItem:function(t){var e,n=new Ghost.Views.Notification({model:t}),i=$(n.render().el);this.$el.append(i),e=i.hide().outerHeight(!0),i.animate({height:e},250,function(){$(this).css({height:"auto"}).fadeIn(250)})},addItem:function(t){this.model.push(t),this.renderItem(t)},clearEverything:function(){this.$el.find(".js-notification.notification-passive").parent().remove()},removeItem:function(t){t.preventDefault();var e=t.currentTarget,n=this;-1!==e.className.indexOf("notification-persistent")?$.ajax({type:"DELETE",headers:{"X-CSRF-Token":$("meta[name='csrf-param']").attr("content")},url:Ghost.paths.apiRoot+"/notifications/"+$(e).find(".close").data("id")}).done(function(){n.$el.slideUp(250,function(){$(this).show().css({height:"auto"}),$(e).remove()})}):$(e).slideUp(250,function(){$(this).show().css({height:"auto"}).parent().remove()})},closePassive:function(t){$(t.currentTarget).parent().fadeOut(250).slideUp(250,function(){$(this).remove()})},closePersistent:function(t){var e=t.currentTarget,n=this;$.ajax({type:"DELETE",headers:{"X-CSRF-Token":$("meta[name='csrf-param']").attr("content")},url:Ghost.paths.apiRoot+"/notifications/"+$(e).data("id")}).done(function(){var t=n.$(".js-notification").outerHeight(!0),i=$(e).parent();n.$el.css({height:t}),i.parent().hasClass("js-bb-notification")?i.parent().fadeOut(200,function(){$(this).remove(),n.$el.slideUp(250,function(){$(this).show().css({height:"auto"})})}):i.fadeOut(200,function(){$(this).remove(),n.$el.slideUp(250,function(){$(this).show().css({height:"auto"})})})})}}),Ghost.Views.Modal=Ghost.View.extend({el:"#modal-container",templateName:"modal",className:"js-bb-modal",initialize:function(){this.render();var t=this;this.model.options.close?(shortcut.add("ESC",function(){t.removeElement()}),$(document).on("click",".modal-background",function(){t.removeElement()})):(shortcut.remove("ESC"),$(document).off("click",".modal-background")),this.model.options.confirm&&(this.acceptModal=function(){this.model.options.confirm.accept.func.call(this),t.removeElement()},this.rejectModal=function(){this.model.options.confirm.reject.func.call(this),t.removeElement()})},templateData:function(){return this.model},events:{"click .close":"removeElement","click .js-button-accept":"acceptModal","click .js-button-reject":"rejectModal"},afterRender:function(){this.$el.fadeIn(50),$(".modal-background").fadeIn(10,function(){$(this).addClass("in")}),this.model.options.confirm&&this.$(".close").remove(),this.$(".modal-body").html(this.addSubview(new Ghost.Views.Modal.ContentView({model:this.model})).render().el),_.isFunction(this.model.options.afterRender)&&this.model.options.afterRender.call(this),this.model.options.animation&&this.animate(this.$el.children(".js-modal"))},remove:function(){return this.undelegateEvents(),this.$el.empty(),this.stopListening(),this},removeElement:function(t){t&&(t.preventDefault(),t.stopPropagation());var e=this,n=$(".js-modal"),i=n.transitionDuration(),r=e.$el.transitionDuration();n.removeClass("in"),this.model.options.animation||(i=r=0),setTimeout(function(){void 0!==document.body.style.filter&&$("body").removeClass("blur"),$(".modal-background").removeClass("in"),setTimeout(function(){e.remove(),e.$el.hide(),$(".modal-background").hide()},r)},i)},animate:function(t){setTimeout(function(){t.addClass("in")},t.transitionDuration())}}),Ghost.Views.Modal.ContentView=Ghost.View.extend({template:function(t){return JST["modals/"+this.model.content.template](t)},templateData:function(){return this.model}})}(),function(){"use strict";var t,e,n;Ghost.Views.Blog=Ghost.View.extend({initialize:function(){this.listenTo(this.collection,"request",function(){NProgress.start()}),this.listenTo(this.collection,"sync",function(){NProgress.done()}),this.addSubview(new n({el:".js-content-preview",collection:this.collection})).render(),this.addSubview(new t({el:".js-content-list",collection:this.collection})).render()}}),t=Ghost.View.extend({isLoading:!1,events:{"click .content-list-content":"scrollHandler"},initialize:function(){this.$(".content-list-content").scrollClass({target:".content-list",offset:10}),this.listenTo(this.collection,"remove",this.showNext),this.listenTo(this.collection,"add",this.renderPost),this.$(".content-list-content").scroll($.proxy(this.checkScroll,this))},showNext:function(){if(!this.isLoading){if(!this.collection.length)return Backbone.trigger("blog:activeItem",null);var t=this.collection.at(0)?this.collection.at(0).id:!1;t&&Backbone.trigger("blog:activeItem",t)}},reportLoadError:function(t){var e="A problem was encountered while loading more posts";e+=t?"; "+Ghost.Views.Utils.getRequestErrorMessage(t):".",Ghost.notifications.addItem({type:"error",message:e,status:"passive"})},checkScroll:function(t){var e=this,n=t.target,i=100;this.isLoading||n.scrollTop+n.clientHeight+i<=n.scrollHeight||this.collection.currentPage>=this.collection.totalPages||(this.isLoading=!0,this.collection.fetch({update:!0,remove:!1,data:{status:"all",page:e.collection.currentPage+1,staticPages:"all"}}).then(function(){e.render(),e.isLoading=!1},function(t){e.reportLoadError(t)}))},renderPost:function(t){this.$("ol").append(this.addSubview(new e({model:t})).render().el)},render:function(){var t=this.$("ol");this.removeSubviews(),this.collection.each(function(n){t.append(this.addSubview(new e({model:n})).render().el)},this),this.showNext()}}),e=Ghost.View.extend({tagName:"li",events:{"click a":"setActiveItem"},active:!1,initialize:function(){this.listenTo(Backbone,"blog:activeItem",this.checkActive),this.listenTo(this.model,"change:page change:featured",this.render),this.listenTo(this.model,"destroy",this.removeItem)},removeItem:function(){var t=this;$.when(this.$el.slideUp()).then(function(){t.remove()})},setActiveItem:function(t){t.preventDefault(),this.active!==!0&&(Backbone.trigger("blog:activeItem",this.model.id),this.render())},checkActive:function(t){this.model.id!==t?this.active&&(this.active=!1,this.$el.removeClass("active"),this.render()):(this.active=!0,this.$el.addClass("active"))},showPreview:function(t){var e=$(t.currentTarget);this.$(".content-list-content li").removeClass("active"),e.addClass("active"),Backbone.trigger("blog:activeItem",e.data("id"))},templateName:"list-item",templateData:function(){return _.extend({active:this.active},this.model.toJSON())}}),n=Ghost.View.extend({activeId:null,events:{"click .post-controls .post-edit":"editPost","click .featured":"toggleFeatured","click .unfeatured":"toggleFeatured"},initialize:function(){this.listenTo(Backbone,"blog:activeItem",this.setActivePreview)},setActivePreview:function(t){this.activeId!==t&&(this.activeId=t,this.render())},editPost:function(t){t.preventDefault(),window.location=Ghost.paths.subdir+"/ghost/editor/"+this.model.get("id")+"/"},toggleFeatured:function(t){var e=this,n=!e.model.get("featured"),i=$(t.currentTarget),r=this.collection.get(this.activeId);r.save({featured:n},{success:function(){i.removeClass("featured unfeatured").addClass(n?"featured":"unfeatured"),Ghost.notifications.addItem({type:"success",message:"Post successfully marked as "+(n?"featured":"not featured")+".",status:"passive"})},error:function(t,e){Ghost.notifications.addItem({type:"error",message:Ghost.Views.Utils.getRequestErrorMessage(e),status:"passive"})}})},templateName:"preview",render:function(){return this.model=this.collection.get(this.activeId),this.$el.html(this.template(this.templateData())),this.$(".content-preview-content").scrollClass({target:".content-preview",offset:10}),this.$(".wrapper").on("click","a",function(t){$(t.currentTarget).attr("target","_blank")}),void 0!==this.model&&this.addSubview(new Ghost.View.PostSettings({el:$(".post-controls"),model:this.model})).render(),Ghost.temporary.initToggles(this.$el),this}})}(),function(){"use strict";Ghost.Views.Debug=Ghost.View.extend({events:{"click .settings-menu a":"handleMenuClick","click .js-delete":"handleDeleteClick"},initialize:function(){$("#startupload").prop("disabled",!0),$("#importfile").fileupload({url:Ghost.paths.apiRoot+"/db/",limitMultiFileUploads:1,replaceFileInput:!1,headers:{"X-CSRF-Token":$("meta[name='csrf-param']").attr("content")},dataType:"json",add:function(t,e){e.context=$("#startupload").prop("disabled",!1).click(function(){$("#startupload").prop("disabled",!0),e.context=$("#startupload").text("Importing"),e.submit(),$("#startupload").off("click")})},done:function(t,e){if($("#startupload").text("Import"),!e.result)throw new Error("No response received from server.");if(!e.result.message)throw new Error("Unknown error");Ghost.notifications.addItem({type:"success",message:e.result.message,status:"passive"})},error:function(t){$("#startupload").text("Import");var e=t.responseJSON,n=e&&e.error?e.error:"unknown";Ghost.notifications.addItem({type:"error",message:["A problem was encountered while importing new content to your blog. Error: ",n].join(""),status:"passive"})}})},handleMenuClick:function(t){t.preventDefault();var e=$(t.currentTarget);return this.$(".settings-content").hide(),this.$("#debug-"+e.attr("class")).show(),!1},handleDeleteClick:function(t){t.preventDefault(),this.addSubview(new Ghost.Views.Modal({model:{options:{close:!0,confirm:{accept:{func:function(){$.ajax({url:Ghost.paths.apiRoot+"/db/",type:"DELETE",headers:{"X-CSRF-Token":$("meta[name='csrf-param']").attr("content")},success:function(t){if(!t)throw new Error("No response received from server.");if(!t.message)throw new Error(t.detail||"Unknown error");Ghost.notifications.addItem({type:"success",message:t.message,status:"passive"})},error:function(t){var e=JSON.parse(t.responseText),n=e&&e.error?e.error:"unknown";Ghost.notifications.addItem({type:"error",message:["A problem was encountered while deleting content from your blog. Error: ",n].join(""),status:"passive"})}})},text:"Yes"},reject:{func:function(){return!0},text:"No"}},type:"action",style:["wide","centered"],animation:"fade"},content:{template:"blank",title:"Would you really like to delete all content from your blog?",text:"<p>This is permanent! No backups, no restores, no magic undo button. <br /> We warned you, ok?</p>"}}}))}})}(),function(){"use strict";Ghost.View.EditorTagWidget=Ghost.View.extend({events:{'keyup [data-input-behaviour="tag"]':"handleKeyup",'keydown [data-input-behaviour="tag"]':"handleKeydown",'keypress [data-input-behaviour="tag"]':"handleKeypress","click ul.suggestions li":"handleSuggestionClick","click .tags .tag":"handleTagClick","click .tag-label":"mobileTags"},keys:{UP:38,DOWN:40,ESC:27,ENTER:13,BACKSPACE:8},initialize:function(){var t=this,e=new Ghost.Collections.Tags;e.fetch().then(function(){t.allGhostTags=e.toJSON()}),this.listenTo(this.model,"willSave",this.completeCurrentTag,this)},render:function(){var t,e=this.model.get("tags"),n=$(".tags"),i=this;return n.empty(),e&&_.forEach(e,function(t){var e=$('<span class="tag" data-tag-id="'+t.id+'">'+t.name+"</span>");n.append(e),$("[data-tag-id="+t.id+"]")[0].scrollIntoView(!0)}),this.$suggestions=$("ul.suggestions").hide(),n.length&&(t=$(".tag-input").offset().left,$(".tag-blocks").css({left:t+"px"})),$(window).on("resize",i.resize).trigger("resize"),$(".tag-label").on("touchstart",function(){$(this).addClass("touch")}),this},mobileTags:function(){var t=window.matchMedia("(max-width: 400px)"),e=$("#publish-bar");t.matches&&(e.hasClass("extended-tags")?e.css("top","auto").animate({height:"40px"},300,"swing",function(){$(this).removeClass("extended-tags"),$(".tag-input").blur()}):e.animate({top:0,height:$(window).height()},300,"swing",function(){$(this).addClass("extended-tags"),$(".tag-input").focus()}),$(".tag-input").one("blur",function(){e.hasClass("extended-tags")&&!$(":hover").last().hasClass("tag")&&e.css("top","auto").animate({height:"40px"},300,"swing",function(){$(this).removeClass("extended-tags"),$(document.activeElement).blur(),document.documentElement.style.display="none",setTimeout(function(){document.documentElement.style.display="block"},0)})}),window.scrollTo(0,1))},showSuggestions:function(t,e){var n=e.toLowerCase(),i=this.findMatchingTags(n),r={left:t.position().left},o=5,s=n.replace(/(\s+)/g,"(<[^>]+>)*$1(<[^>]+>)*"),a=new RegExp("("+s+")","i");this.$suggestions.css(r),this.$suggestions.html(""),i=_.first(i,o),i.length>0&&this.$suggestions.show(),_.each(i,function(t){var e,n;e=t.name.replace(a,"<mark>$1</mark>"),e=e.replace(/(<mark>[^<>]*)((<[^>]+>)+)([^<>]*<\/mark>)/,"$1</mark>$2<mark>$4"),n="<li data-tag-id='"+t.id+"' data-tag-name='"+t.name+"'><a href='#'>"+e+"</a></li>",this.$suggestions.append(n)},this)},handleKeyup:function(t){var e=$(t.currentTarget),n=$.trim(e.val());return t.keyCode===this.keys.UP?(t.preventDefault(),this.$suggestions.is(":visible")&&(0===this.$suggestions.children(".selected").length?this.$suggestions.find("li:last-child").addClass("selected"):this.$suggestions.children(".selected").removeClass("selected").prev().addClass("selected"))):t.keyCode===this.keys.DOWN?(t.preventDefault(),this.$suggestions.is(":visible")&&(0===this.$suggestions.children(".selected").length?this.$suggestions.find("li:first-child").addClass("selected"):this.$suggestions.children(".selected").removeClass("selected").next().addClass("selected"))):t.keyCode===this.keys.ESC&&this.$suggestions.hide(),t.keyCode===this.keys.UP||t.keyCode===this.keys.DOWN?!1:(n?this.showSuggestions(e,n):this.$suggestions.hide(),void 0)},handleKeydown:function(t){var e,n,i=$(t.currentTarget);t.keyCode!==this.keys.BACKSPACE||i.val()||(e=this.$(".tags").find(".tag").last(),e.remove(),n={id:e.data("tag-id"),name:e.text()},this.model.removeTag(n))},handleKeypress:function(t){var e,n,i=$(t.currentTarget),r=$.trim(i.val()),o=0===",".localeCompare(String.fromCharCode(t.keyCode||t.charCode));(t.keyCode===this.keys.ENTER||o)&&r&&(t.preventDefault(),n=this.$suggestions.children(".selected"),this.$suggestions.is(":visible")&&0!==n.length?0===$('.tag:containsExact("'+n.data("tag-name")+'")').length&&(e={id:n.data("tag-id"),name:n.data("tag-name")},this.addTag(e)):(o&&(r=r.replace(/,/g,"")),0===$('.tag:containsExact("'+r+'")').length&&this.addTag({id:null,name:r})),i.val("").focus(),r="",this.$suggestions.hide())},completeCurrentTag:function(){var t,e,n=this.$(".tag-input"),i=n.val();t=_.map(this.model.get("tags"),function(t){return t.name.toUpperCase()}),e=-1!==t.indexOf(i.toUpperCase()),i.length>0&&!e&&this.addTag({id:null,name:i})},handleSuggestionClick:function(t){var e=$(t.currentTarget);t&&t.preventDefault(),this.addTag({id:e.data("tag-id"),name:e.data("tag-name")})},handleTagClick:function(t){var e=$(t.currentTarget),n={id:e.data("tag-id"),name:e.text()};e.remove(),window.scrollTo(0,1),this.model.removeTag(n)},resize:_.throttle(function(){var t=$(".tags");$(window).width()>400?t.css("max-width",$("#entry-tags").width()-320):t.css("max-width","inherit")},50),findMatchingTags:function(t){var e,n=this;return this.allGhostTags?(t=t.toUpperCase(),e=_.filter(this.allGhostTags,function(e){var i,r;return i=-1!==e.name.toUpperCase().indexOf(t),r=_.some(n.model.get("tags"),function(t){return e.name.toUpperCase()===t.name.toUpperCase()}),i&&!r})):[]},addTag:function(t){var e=$('<span class="tag" data-tag-id="'+t.id+'">'+t.name+"</span>");this.$(".tags").append(e),$(".tag").last()[0].scrollIntoView(!0),window.scrollTo(0,1),this.model.addTag(t),this.$(".tag-input").val("").focus(),this.$suggestions.hide()}})}(),function(){"use strict";var t,e,n,i,r=[{key:"Ctrl+B",style:"bold"},{key:"Meta+B",style:"bold"},{key:"Ctrl+I",style:"italic"},{key:"Meta+I",style:"italic"},{key:"Ctrl+Alt+U",style:"strike"},{key:"Ctrl+Shift+K",style:"code"},{key:"Meta+K",style:"code"},{key:"Ctrl+Alt+1",style:"h1"},{key:"Ctrl+Alt+2",style:"h2"},{key:"Ctrl+Alt+3",style:"h3"},{key:"Ctrl+Alt+4",style:"h4"},{key:"Ctrl+Alt+5",style:"h5"},{key:"Ctrl+Alt+6",style:"h6"},{key:"Ctrl+Shift+L",style:"link"},{key:"Ctrl+Shift+I",style:"image"},{key:"Ctrl+Q",style:"blockquote"},{key:"Ctrl+Shift+1",style:"currentDate"},{key:"Ctrl+U",style:"uppercase"},{key:"Ctrl+Shift+U",style:"lowercase"},{key:"Ctrl+Alt+Shift+U",style:"titlecase"},{key:"Ctrl+Alt+W",style:"selectword"},{key:"Ctrl+L",style:"list"},{key:"Ctrl+Alt+C",style:"copyHTML"},{key:"Meta+Alt+C",style:"copyHTML"},{key:"Meta+Enter",style:"newLine"},{key:"Ctrl+Enter",style:"newLine"}],o=/^(?:\{<(.*?)>\})?!(?:\[([^\n\]]*)\])(?:\(([^\n\]]*)\))?$/gim,s=/\{<([\w\W]*?)>\}/;t=Ghost.View.extend({initialize:function(){this.addSubview(new Ghost.View.EditorTagWidget({el:this.$("#entry-tags"),model:this.model})).render(),this.addSubview(new e({el:this.$("#entry-actions"),model:this.model})).render(),this.addSubview(new Ghost.View.PostSettings({el:$("#entry-controls"),model:this.model})).render()},render:function(){return this}}),e=Ghost.View.extend({events:{"click [data-set-status]":"handleStatus","click .js-publish-button":"handlePostButton"},statusMap:null,createStatusMap:{draft:"Save Draft",published:"Publish Now"},updateStatusMap:{draft:"Unpublish",published:"Update Post"},messageMap:{errors:{post:{published:{published:"Your post could not be updated.",draft:"Your post could not be saved as a draft."},draft:{published:"Your post could not be published.",draft:"Your post could not be saved as a draft."}}},success:{post:{published:{published:"Your post has been updated.",draft:"Your post has been saved as a draft."},draft:{published:"Your post has been published.",draft:"Your post has been saved as a draft."}}}},initialize:function(){var t=this;shortcut.add("Ctrl+Alt+P",function(){t.toggleStatus()}),shortcut.add("Ctrl+S",function(){t.updatePost()}),shortcut.add("Meta+S",function(){t.updatePost()}),this.listenTo(this.model,"change:status",this.render)},toggleStatus:function(){var t,e,n=this,i=Object.keys(this.statusMap),r=n.model,o=r.get("status"),s=i.indexOf(o);t=s+1>i.length-1?0:s+1,e=i[t],this.setActiveStatus(i[t],this.statusMap[e],o),this.savePost({status:i[t]}).then(function(){n.reportSaveSuccess(e,o)},function(t){n.reportSaveError(t,r,e,o)})},setActiveStatus:function(t,e,n){var i="published"===t&&"published"!==n,r="draft"===t&&"published"===n,o=i||r;$(".js-publish-splitbutton").removeClass(o?"splitbutton-save":"splitbutton-delete").addClass(o?"splitbutton-delete":"splitbutton-save"),$(".js-publish-button").attr("data-status",t).text(e).removeClass(o?"button-save":"button-delete").addClass(o?"button-delete":"button-save"),$(".js-publish-splitbutton > a").removeClass("active"),$(".js-publish-splitbutton .editor-options li").removeClass("active").filter(['li[data-set-status="',t,'"]'].join("")).addClass("active")},handleStatus:function(t){t&&t.preventDefault();var e=$(t.currentTarget).attr("data-set-status"),n=this.model.get("status");this.setActiveStatus(e,this.statusMap[e],n),$("body").find(".overlay:visible").fadeOut()},handlePostButton:function(t){t&&t.preventDefault();var e=$(t.currentTarget).attr("data-status");this.updatePost(e)},updatePost:function(t){var e=this,n=this.model,i=n.get("status");t=t||i,n.trigger("willSave"),this.savePost({status:t}).then(function(){e.reportSaveSuccess(t,i),e.render()},function(r){n.set({status:i}),e.setActiveStatus(t,e.statusMap[t],i),e.reportSaveError(r,n,t,i)})},savePost:function(t){_.each(this.model.blacklist,function(t){this.model.unset(t)},this);var e=this.model.save(_.extend({title:$("#entry-title").val(),markdown:Ghost.currentView.getEditorValue()},t));return e?e:$.Deferred().reject()},reportSaveSuccess:function(t,e){Ghost.notifications.clearEverything(),Ghost.notifications.addItem({type:"success",message:this.messageMap.success.post[e][t],status:"passive"}),Ghost.currentView.setEditorDirty(!1)},reportSaveError:function(t,e,n,i){var r=this.messageMap.errors.post[i][n];t?r+=" "+Ghost.Views.Utils.getRequestErrorMessage(t):e.validationError&&(r+=" "+e.validationError),Ghost.notifications.clearEverything(),Ghost.notifications.addItem({type:"error",message:r,status:"passive"})},setStatusLabels:function(t){_.each(t,function(t,e){$('li[data-set-status="'+e+'"] > a').text(t)})},render:function(){var t=this.model.get("status");this.statusMap="published"!==t?this.createStatusMap:this.updateStatusMap,this.setStatusLabels(this.statusMap),this.setActiveStatus(t,this.statusMap[t],t)}}),Ghost.Views.Editor=Ghost.View.extend({initialize:function(){var e=this;this.addSubview(new t({el:"#publish-bar",model:this.model})).render(),this.$("#entry-title").val(this.model.get("title")).focus(),this.$("#entry-markdown").text(this.model.get("markdown")),this.listenTo(this.model,"change:title",this.renderTitle),this.listenTo(this.model,"change:id",function(t){e.setEditorDirty(!1),Backbone.history.navigate("/editor/"+t.id+"/")}),this.initMarkdown(),this.renderPreview(),$(".entry-content header, .entry-preview header").on("click",function(){$(".entry-content, .entry-preview").removeClass("active"),$(this).closest("section").addClass("active")}),$(".entry-title .icon-fullscreen").on("click",function(t){t.preventDefault(),$("body").toggleClass("fullscreen")}),this.$(".CodeMirror-scroll").on("scroll",this.syncScroll),this.$(".CodeMirror-scroll").scrollClass({target:".entry-markdown",offset:10}),this.$(".entry-preview-content").scrollClass({target:".entry-preview",offset:10}),shortcut.add("Alt+Shift+Z",function(){$("body").toggleClass("zen")}),$(".entry-markdown header, .entry-preview header").click(function(t){$(".entry-markdown, .entry-preview").removeClass("active"),$(t.target).closest("section").addClass("active")
}),$(document).bind("drop dragover",function(t){t.preventDefault()})},events:{"click .markdown-help":"showHelp","blur #entry-title":"trimTitle",orientationchange:"orientationChange"},syncScroll:_.throttle(function(t){var e=$(t.target),n=$(".entry-preview-content"),i=$(".CodeMirror-sizer"),r=$(".rendered-markdown"),o=i.height()-e.height(),s=r.height()-n.height(),a=s/o,l=e.scrollTop()*a;n.scrollTop(l)},10),showHelp:function(){this.addSubview(new Ghost.Views.Modal({model:{options:{close:!0,type:"info",style:["wide"],animation:"fade"},content:{template:"markdown",title:"Markdown Help"}}}))},trimTitle:function(){var t=$("#entry-title"),e=t.val(),n=$.trim(e);e!==n&&t.val(n),this.model.set("title",n)},renderTitle:function(){this.$("#entry-title").val(this.model.get("title"))},orientationChange:function(){if(/iPhone/.test(navigator.userAgent)&&!/Opera Mini/.test(navigator.userAgent)){var t=document.activeElement,e=document.documentElement.style;t.blur(),e.display="none",setTimeout(function(){e.display="block",t.focus()},0)}},renderPreview:function(){var t=this,e=document.getElementsByClassName("rendered-markdown")[0];e.innerHTML=this.converter.makeHtml(this.editor.getValue()),this.initUploads(),Countable.once(e,function(e){t.$(".entry-word-count").text($.pluralize(e.words,"word")),t.$(".entry-character-count").text($.pluralize(e.characters,"character")),t.$(".entry-paragraph-count").text($.pluralize(e.paragraphs,"paragraph"))})},initConverter:function(){return new Showdown.converter({extensions:["ghostdown","github"]})},initMarkdown:function(){var t=this;this.converter=this.initConverter(),this.editor=CodeMirror.fromTextArea(document.getElementById("entry-markdown"),{mode:"gfm",tabMode:"indent",tabindex:"2",lineWrapping:!0,dragDrop:!1,extraKeys:{Home:"goLineLeft",End:"goLineRight"}}),this.uploadMgr=new n(this.editor),shortcut.add("Ctrl+Alt+C",function(){t.showHTML()}),shortcut.add("Ctrl+Alt+C",function(){t.showHTML()}),_.each(r,function(e){shortcut.add(e.key,function(){return t.editor.addMarkdown({style:e.style})})}),this.enableEditor()},options:{markers:{}},getEditorValue:function(){return this.uploadMgr.getEditorValue()},unloadDirtyMessage:function(){return"==============================\n\nHey there! It looks like you're in the middle of writing something and you haven't saved all of your content.\n\nSave before you go!\n\n=============================="},setEditorDirty:function(t){window.onbeforeunload=t?this.unloadDirtyMessage:null},initUploads:function(){var t=$("#entry-markdown-content").data("filestorage");this.$(".js-drop-zone").upload({editor:!0,fileStorage:t}),this.$(".js-drop-zone").on("uploadstart",$.proxy(this.disableEditor,this)),this.$(".js-drop-zone").on("uploadfailure",$.proxy(this.enableEditor,this)),this.$(".js-drop-zone").on("uploadsuccess",$.proxy(this.enableEditor,this)),this.$(".js-drop-zone").on("uploadsuccess",this.uploadMgr.handleUpload)},enableEditor:function(){var t=this;this.editor.setOption("readOnly",!1),this.editor.on("change",function(){t.setEditorDirty(!0),t.renderPreview()})},disableEditor:function(){var t=this;this.editor.setOption("readOnly","nocursor"),this.editor.off("change",function(){t.renderPreview()})},showHTML:function(){this.addSubview(new Ghost.Views.Modal({model:{options:{close:!0,type:"info",style:["wide"],animation:"fade"},content:{template:"copyToHTML",title:"Copied HTML"}}}))},render:function(){return this}}),i=function(t){function e(e,n){var i,r="{<"+d+">}";t.setLine(n,r+e.text),i=t.markText({line:n,ch:0},{line:n,ch:r.length},{collapsed:!0}),u[h+"_"+d]=i,d+=1}function n(t){return t=t.replace("image_upload_",""),new RegExp("\\{<"+t+">\\}","gmi")}function i(e){var n=e.text.match(s),i=t.getLineNumber(e);n&&t.replaceRange("",{line:i,ch:n.index},{line:i,ch:n.index+n[0].length})}function r(e){t.eachLine(function(i){var r,o=n(e).exec(i.text);o&&(r=t.getLineNumber(i),t.replaceRange("",{line:r,ch:o.index},{line:r,ch:o.index+o[0].length}))})}function a(t,e,n){delete u[t],e.clear(),n?i(n):r(t)}function l(){_.each(u,function(e,n){var i;e=u[n],e.find()?(i=t.getLineHandle(e.find().from.line),i.text.match(o)||a(n,e,i)):a(n,e)})}function c(n){var i=n.text.match(o),r=n.text.match(s);i&&!r&&e(n,t.getLineNumber(n))}var u={},h="image_upload",d=1;_.extend(this,{markers:u,checkMarkers:l,addMarker:e,stripMarkerFromLine:i,getMarkerRegexForId:n}),t.eachLine(c)},n=function(t){function e(e){return l.markers.hasOwnProperty(e)&&l.markers[e].find()?t.getLineHandle(l.markers[e].find().from.line):!1}function n(e,n){var i,r=t.getLineHandle(e),a=r.text.match(o);a&&(i=r.text.match(s),i&&"paste"===n&&l.stripMarkerFromLine(r),i||l.addMarker(r,e))}function r(n,i){var r=e($(n.currentTarget).attr("id")),o=t.getLineNumber(r),s=r.text.match(/\([^\n]*\)?/),a="(http://)";s?t.setSelection({line:o,ch:s.index+1},{line:o,ch:s.index+s[0].length-1}):(s=r.text.match(/\]/),s&&(t.replaceRange(a,{line:o,ch:s.index+1},{line:o,ch:s.index+1}),t.setSelection({line:o,ch:s.index+2},{line:o,ch:s.index+a.length}))),t.replaceSelection(i)}function a(){var e=t.getValue();return _.each(l.markers,function(t,n){e=e.replace(l.getMarkerRegexForId(n),"")}),e}var l=new i(t);_.extend(this,{getEditorValue:a,handleUpload:r}),t.on("change",function(t,e){var i=_.range(e.from.line,e.from.line+e.text.length);_.each(i,function(t){n(t,e.origin)}),l.checkMarkers()})}}(),function(){"use strict";Ghost.Views.Login=Ghost.View.extend({initialize:function(){this.render()},templateName:"login",events:{"submit #login":"submitHandler"},afterRender:function(){var t=this;this.$el.css({opacity:0}).animate({opacity:1},500,function(){t.$("[name='email']").focus()})},submitHandler:function(t){t.preventDefault();var e=this.$el.find(".email").val(),n=this.$el.find(".password").val(),i=Ghost.Views.Utils.getUrlVariables().r;Ghost.Validate._errors=[],Ghost.Validate.check(e).isEmail(),Ghost.Validate.check(n,"Please enter a password").len(0),Ghost.Validate._errors.length>0?Ghost.Validate.handleErrors():$.ajax({url:Ghost.paths.subdir+"/ghost/signin/",type:"POST",headers:{"X-CSRF-Token":$("meta[name='csrf-param']").attr("content")},data:{email:e,password:n,redirect:i},success:function(t){window.location.href=t.redirect},error:function(t){Ghost.notifications.clearEverything(),Ghost.notifications.addItem({type:"error",message:Ghost.Views.Utils.getRequestErrorMessage(t),status:"passive"})}})}}),Ghost.Views.Signup=Ghost.View.extend({initialize:function(){this.render()},templateName:"signup",events:{"submit #signup":"submitHandler"},afterRender:function(){var t=this;this.$el.css({opacity:0}).animate({opacity:1},500,function(){t.$("[name='name']").focus()})},submitHandler:function(t){t.preventDefault();var e=this.$(".name").val(),n=this.$(".email").val(),i=this.$(".password").val();Ghost.Validate._errors=[],Ghost.Validate.check(e,"Please enter a name").len(1),Ghost.Validate.check(n,"Please enter a correct email address").isEmail(),Ghost.Validate.check(i,"Your password is not long enough. It must be at least 8 characters long.").len(8),Ghost.Validate._errors.length>0?Ghost.Validate.handleErrors():$.ajax({url:Ghost.paths.subdir+"/ghost/signup/",type:"POST",headers:{"X-CSRF-Token":$("meta[name='csrf-param']").attr("content")},data:{name:e,email:n,password:i},success:function(t){window.location.href=t.redirect},error:function(t){Ghost.notifications.clearEverything(),Ghost.notifications.addItem({type:"error",message:Ghost.Views.Utils.getRequestErrorMessage(t),status:"passive"})}})}}),Ghost.Views.Forgotten=Ghost.View.extend({initialize:function(){this.render()},templateName:"forgotten",events:{"submit #forgotten":"submitHandler"},afterRender:function(){var t=this;this.$el.css({opacity:0}).animate({opacity:1},500,function(){t.$("[name='email']").focus()})},submitHandler:function(t){t.preventDefault();var e=this.$el.find(".email").val();Ghost.Validate._errors=[],Ghost.Validate.check(e).isEmail(),Ghost.Validate._errors.length>0?Ghost.Validate.handleErrors():$.ajax({url:Ghost.paths.subdir+"/ghost/forgotten/",type:"POST",headers:{"X-CSRF-Token":$("meta[name='csrf-param']").attr("content")},data:{email:e},success:function(t){window.location.href=t.redirect},error:function(t){Ghost.notifications.clearEverything(),Ghost.notifications.addItem({type:"error",message:Ghost.Views.Utils.getRequestErrorMessage(t),status:"passive"})}})}}),Ghost.Views.ResetPassword=Ghost.View.extend({templateName:"reset",events:{"submit #reset":"submitHandler"},initialize:function(t){t=t||{},this.token=t.token,this.render()},afterRender:function(){var t=this;this.$el.css({opacity:0}).animate({opacity:1},500,function(){t.$("[name='newpassword']").focus()})},submitHandler:function(t){t.preventDefault();var e=this,n=this.$('input[name="newpassword"]').val(),i=this.$('input[name="ne2password"]').val();return n!==i?(Ghost.notifications.addItem({type:"error",message:"Your passwords do not match.",status:"passive"}),void 0):(this.$("input, button").prop("disabled",!0),$.ajax({url:Ghost.paths.subdir+"/ghost/reset/"+this.token+"/",type:"POST",headers:{"X-CSRF-Token":$("meta[name='csrf-param']").attr("content")},data:{newpassword:n,ne2password:i},success:function(t){window.location.href=t.redirect},error:function(t){e.$("input, button").prop("disabled",!1),Ghost.notifications.clearEverything(),Ghost.notifications.addItem({type:"error",message:Ghost.Views.Utils.getRequestErrorMessage(t),status:"passive"})}}),!1)}})}(),function(){"use strict";Ghost.View.PostSettings=Ghost.View.extend({events:{"blur  .post-setting-slug":"editSlug","click .post-setting-slug":"selectSlug","blur  .post-setting-date":"editDate","click .post-setting-static-page":"toggleStaticPage","click .delete":"deletePost"},initialize:function(){this.model&&(this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"change:status",this.render),this.listenTo(this.model,"change:published_at",this.render),this.listenTo(this.model,"change:page",this.render),this.listenTo(this.model,"change:title",this.updateSlugPlaceholder))},render:function(){this.$(".post-settings-menu").append(JST["settings/post"](this.model.attributes));var t=this.model?this.model.get("slug"):"",e=this.model?this.model.get("published_at"):"Not Published",n=this.$(".post-setting-date"),i=this.$(".post-setting-slug");i.val(t),this.model&&this.model.get("page")&&$(".post-setting-static-page").prop("checked",this.model.get("page")),this.model&&this.model.get("published_at")&&(e=moment(e).format("DD MMM YY HH:mm")),this.model&&this.model.get("id")&&(this.$(".post-setting-page").removeClass("hidden"),this.$(".delete").removeClass("hidden")),void 0===this.model.id?this.$el.addClass("unsaved"):this.$el.removeClass("unsaved"),n.val(e)},updateSlugPlaceholder:function(){var t=this.model.get("title"),e=this.$(".post-setting-slug");return t?($.ajax({url:Ghost.paths.apiRoot+"/posts/getSlug/"+encodeURIComponent(t)+"/",success:function(t){e.attr("placeholder",t)}}),void 0):(e.attr("placeholder",""),void 0)},selectSlug:function(t){t.currentTarget.select()},editSlug:_.debounce(function(t){t.preventDefault();var e=this,n=e.model.get("slug"),i=t.currentTarget,r=i.value;return void 0===e.model.id?(this.model.set({slug:r}),void 0):n===r?(i.value=void 0===n?"":n,void 0):(this.model.save({slug:r},{success:function(t){i.value=t.get("slug"),Ghost.notifications.addItem({type:"success",message:"Permalink successfully changed to <strong>"+t.get("slug")+"</strong>.",status:"passive"})},error:function(t,e){Ghost.notifications.addItem({type:"error",message:Ghost.Views.Utils.getRequestErrorMessage(e),status:"passive"})}}),void 0)},500),editDate:_.debounce(function(t){t.preventDefault();var e,n,i=this,r=["DD MMM YY HH:mm","DD MMM YYYY HH:mm","DD/MM/YY HH:mm","DD/MM/YYYY HH:mm","DD-MM-YY HH:mm","DD-MM-YYYY HH:mm"],o="DD MMM YY HH:mm",s="",a=i.model.get("published_at"),l=t.currentTarget,c=l.value;if(c)return c&&!c.slice(-5).match(/\d+:\d\d/)&&(c+=" 12:00"),n=moment(c,r),a&&(a.slice(-5).match(/\d+:\d\d/)||(a+=" 12:00"),e=moment(a,r),0===c.length||e.isSame(n))?(l.value=e.format(o),void 0):(n.isValid()||(s="Published Date must be a valid date with format: DD MMM YY HH:mm (e.g. 6 Dec 14 15:00)"),n.diff(new Date,"h")>0&&(s="Published Date cannot currently be in the future."),s.length?(Ghost.notifications.addItem({type:"error",message:s,status:"passive"}),l.value=e?e.format(o):"",void 0):void 0===i.model.id?(this.model.set({published_at:n.toDate()}),void 0):(this.model.save({published_at:n.toDate()},{success:function(t){l.value=moment(t.get("published_at")).format(o),Ghost.notifications.addItem({type:"success",message:"Publish date successfully changed to <strong>"+l.value+"</strong>.",status:"passive"})},error:function(t,e){Ghost.notifications.addItem({type:"error",message:Ghost.Views.Utils.getRequestErrorMessage(e),status:"passive"})}}),void 0))},500),toggleStaticPage:_.debounce(function(t){var e=$(t.currentTarget),n=e.prop("checked");return void 0===this.model.id?(this.model.set({page:n}),void 0):(this.model.save({page:n},{success:function(){e.prop("checked",n),Ghost.notifications.addItem({type:"success",message:"Successfully converted "+(n?"to static page":"to post")+".",status:"passive"})},error:function(t,e){Ghost.notifications.addItem({type:"error",message:Ghost.Views.Utils.getRequestErrorMessage(e),status:"passive"})}}),void 0)},500),deletePost:function(t){t.preventDefault();var e=this;void 0!==this.model.id&&this.addSubview(new Ghost.Views.Modal({model:{options:{close:!1,confirm:{accept:{func:function(){e.model.destroy({wait:!0}).then(function(){window.location.pathname.indexOf("editor")>-1&&(window.location=Ghost.paths.subdir+"/ghost/content/"),Ghost.notifications.addItem({type:"success",message:"Your post has been deleted.",status:"passive"})},function(){Ghost.notifications.addItem({type:"error",message:"Your post could not be deleted. Please try again.",status:"passive"})})},text:"Yes"},reject:{func:function(){return!0},text:"No"}},type:"action",style:["wide","centered"],animation:"fade"},content:{template:"blank",title:"Are you sure you want to delete this post?",text:"<p>This is permanent! No backups, no restores, no magic undo button. <br /> We warned you, ok?</p>"}}}))}})}(),function(){"use strict";var t={};Ghost.Views.Settings=Ghost.View.extend({initialize:function(e){$(".settings-content").removeClass("active"),this.sidebar=new t.Sidebar({el:".settings-sidebar",pane:e.pane,model:this.model}),this.addSubview(this.sidebar),this.listenTo(Ghost.router,"route:settings",this.changePane)},changePane:function(t){t&&this.sidebar.showContent(t)}}),t.Sidebar=Ghost.View.extend({initialize:function(t){this.render(),this.menu=this.$(".settings-menu"),this.showContent(t.pane)},models:{},events:{"click .settings-menu li":"switchPane"},switchPane:function(t){t.preventDefault();var e=$(t.currentTarget),n=e.find("a").attr("href").substring(1);this.showContent(n)},showContent:function(e){var n,i=this;Ghost.router.navigate("/settings/"+e+"/"),Ghost.trigger("urlchange"),this.pane&&e===this.pane.el.id||(_.result(this.pane,"destroy"),this.setActive(e),this.pane=new t[e]({el:".settings-content"}),this.models.hasOwnProperty(this.pane.options.modelType)?(n=this.models[this.pane.options.modelType],i.renderPane(n)):(n=this.models[this.pane.options.modelType]=new Ghost.Models[this.pane.options.modelType],n.fetch().then(function(){i.renderPane(n)})))},renderPane:function(t){this.pane.model=t,this.pane.render()},setActive:function(t){this.menu.find("li").removeClass("active"),this.menu.find("a[href=#"+t+"]").parent().addClass("active")},templateName:"settings/sidebar"}),t.Pane=Ghost.View.extend({options:{modelType:"Settings"},destroy:function(){this.$el.removeClass("active"),this.undelegateEvents()},render:function(){this.$el.hide(),Ghost.View.prototype.render.call(this),this.$el.fadeIn(300)},afterRender:function(){this.$el.attr("id",this.id),this.$el.addClass("active")},saveSuccess:function(){Ghost.notifications.clearEverything(),Ghost.notifications.addItem({type:"success",message:"Saved",status:"passive"})},saveError:function(t,e){Ghost.notifications.clearEverything(),Ghost.notifications.addItem({type:"error",message:Ghost.Views.Utils.getRequestErrorMessage(e),status:"passive"})},validationError:function(t){Ghost.notifications.clearEverything(),Ghost.notifications.addItem({type:"error",message:t,status:"passive"})}}),t.general=t.Pane.extend({id:"general",events:{"click .button-save":"saveSettings","click .js-modal-logo":"showLogo","click .js-modal-cover":"showCover"},saveSettings:function(){var t=this,e=this.$("#blog-title").val(),n=this.$("#blog-description").val(),i=this.$("#email-address").val(),r=this.$("#postsPerPage").val(),o=this.$("#permalinks").is(":checked")?"/:year/:month/:day/:slug/":"/:slug/";Ghost.Validate._errors=[],Ghost.Validate.check(e,{message:"Title is too long",el:$("#blog-title")}).len(0,150),Ghost.Validate.check(n,{message:"Description is too long",el:$("#blog-description")}).len(0,200),Ghost.Validate.check(i,{message:"Please supply a valid email address",el:$("#email-address")}).isEmail().len(0,254),Ghost.Validate.check(r,{message:"Please use a number less than 1000",el:$("postsPerPage")}).isInt().max(1e3),Ghost.Validate.check(r,{message:"Please use a number greater than 0",el:$("postsPerPage")}).isInt().min(0),Ghost.Validate._errors.length>0?Ghost.Validate.handleErrors():this.model.save({title:e,description:n,email:i,postsPerPage:r,activeTheme:this.$("#activeTheme").val(),permalinks:o},{success:this.saveSuccess,error:this.saveError}).then(function(){t.render()})},showLogo:function(t){t.preventDefault();var e=this.model.toJSON();this.showUpload("logo",e.logo)},showCover:function(t){t.preventDefault();var e=this.model.toJSON();this.showUpload("cover",e.cover)},showUpload:function(t,e){var n=this,i=new Ghost.Models.uploadModal({key:t,src:e,id:this.id,accept:{func:function(){var e={};return e[t]=this.$(".js-upload-url").val()?this.$(".js-upload-url").val():this.$(".js-upload-target").attr("src"),n.model.save(e,{success:n.saveSuccess,error:n.saveError}).then(function(){n.saveSettings()}),!0},buttonClass:"button-save right",text:"Save"}});this.addSubview(new Ghost.Views.Modal({model:i}))},templateName:"settings/general",afterRender:function(){this.$("#permalinks").prop("checked","/:slug/"===this.model.get("permalinks")?!1:!0),this.$(".js-drop-zone").upload(),t.Pane.prototype.afterRender.call(this)}}),t.user=t.Pane.extend({templateName:"settings/user-profile",id:"user",options:{modelType:"User"},events:{"click .button-save":"saveUser","click .button-change-password":"changePassword","click .js-modal-cover":"showCover","click .js-modal-image":"showImage","keyup .user-profile":"handleEnterKeyOnForm"},showCover:function(t){t.preventDefault();var e=this.model.toJSON();this.showUpload("cover",e.cover)},showImage:function(t){t.preventDefault();var e=this.model.toJSON();this.showUpload("image",e.image)},showUpload:function(t,e){var n=this,i=new Ghost.Models.uploadModal({key:t,src:e,id:this.id,accept:{func:function(){var e={};return e[t]=this.$(".js-upload-url").val()?this.$(".js-upload-url").val():this.$(".js-upload-target").attr("src"),n.model.save(e,{success:n.saveSuccess,error:n.saveError}).then(function(){n.saveUser()}),!0},buttonClass:"button-save right",text:"Save"}});this.addSubview(new Ghost.Views.Modal({model:i}))},handleEnterKeyOnForm:function(t){if(13===t.which){var e=$(t.target);if(!e.is("textarea"))return e.is("input[type=password]")?this.changePassword(t):(t.preventDefault(),this.saveUser(t),!1)}},saveUser:function(){var t=this,e=this.$("#user-name").val(),n=this.$("#user-email").val(),i=this.$("#user-location").val(),r=this.$("#user-website").val(),o=this.$("#user-bio").val();Ghost.Validate._errors=[],Ghost.Validate.check(e,{message:"Name is too long",el:$("#user-name")}).len(0,150),Ghost.Validate.check(o,{message:"Bio is too long",el:$("#user-bio")}).len(0,200),Ghost.Validate.check(n,{message:"Please supply a valid email address",el:$("#user-email")}).isEmail(),Ghost.Validate.check(i,{message:"Location is too long",el:$("#user-location")}).len(0,150),r.length>0&&Ghost.Validate.check(r,{message:"Please use a valid url",el:$("#user-website")}).isUrl().len(0,2e3),Ghost.Validate._errors.length>0?Ghost.Validate.handleErrors():this.model.save({name:e,email:n,location:i,website:r,bio:o},{success:this.saveSuccess,error:this.saveError}).then(function(){t.render()})},changePassword:function(t){t.preventDefault();var e=this,n=this.$("#user-password-old").val(),i=this.$("#user-password-new").val(),r=this.$("#user-new-password-verification").val();Ghost.Validate._errors=[],Ghost.Validate.check(i,{message:"Your new passwords do not match"}).equals(r),Ghost.Validate.check(i,{message:"Your password is not long enough. It must be at least 8 characters long."}).len(8),Ghost.Validate._errors.length>0?Ghost.Validate.handleErrors():$.ajax({url:Ghost.paths.subdir+"/ghost/changepw/",type:"POST",headers:{"X-CSRF-Token":$("meta[name='csrf-param']").attr("content")},data:{password:n,newpassword:i,ne2password:r},success:function(t){Ghost.notifications.addItem({type:"success",message:t.msg,status:"passive",id:"success-98"}),e.$("#user-password-old, #user-password-new, #user-new-password-verification").val("")},error:function(t){Ghost.notifications.addItem({type:"error",message:Ghost.Views.Utils.getRequestErrorMessage(t),status:"passive"})}}).then(function(){e.render()})},afterRender:function(){var e=this;Countable.live(document.getElementById("user-bio"),function(t){var n=e.$(".bio-container .word-count");t.all>180?n.css({color:"#e25440"}):n.css({color:"#9E9D95"}),n.text(200-t.all)}),t.Pane.prototype.afterRender.call(this)}})}(),function(){"use strict";Ghost.Router=Backbone.Router.extend({routes:{"":"blog","content(/)":"blog","settings(/:pane)(/)":"settings","editor(/:id)(/)":"editor","debug(/)":"debug","register(/)":"register","signup(/)":"signup","signin(/)":"login","forgotten(/)":"forgotten","reset/:token(/)":"reset"},signup:function(){Ghost.currentView=new Ghost.Views.Signup({el:".js-signup-box"})},login:function(){Ghost.currentView=new Ghost.Views.Login({el:".js-login-box"})},forgotten:function(){Ghost.currentView=new Ghost.Views.Forgotten({el:".js-forgotten-box"})},reset:function(t){Ghost.currentView=new Ghost.Views.ResetPassword({el:".js-reset-box",token:t})},blog:function(){var t=new Ghost.Collections.Posts;NProgress.start(),t.fetch({data:{status:"all",staticPages:"all"}}).then(function(){Ghost.currentView=new Ghost.Views.Blog({el:"#main",collection:t}),NProgress.done()})},settings:function(t){return t?(Ghost.currentView&&Ghost.currentView instanceof Ghost.Views.Settings||(Ghost.currentView=new Ghost.Views.Settings({el:"#main",pane:t})),void 0):(this.navigate("/settings/general/",{trigger:!0,replace:!0}),void 0)},editor:function(t){var e=new Ghost.Models.Post;e.urlRoot=Ghost.paths.apiRoot+"/posts",t?(e.id=t,e.fetch({data:{status:"all"}}).then(function(){Ghost.currentView=new Ghost.Views.Editor({el:"#main",model:e})})):Ghost.currentView=new Ghost.Views.Editor({el:"#main",model:e})},debug:function(){Ghost.currentView=new Ghost.Views.Debug({el:"#main"})}})}(),function(){var t,e;window.GhostTrain||(window.GhostTrain={}),(t=window.GhostTrain).front_markdown_extensions||(t.front_markdown_extensions=["github"]),(e=window.GhostTrain).front_markdown||(e.front_markdown=new Showdown.converter({extensions:window.GhostTrain.front_markdown_extensions}))}.call(this),function(){var t,e;window.GhostTrain||(window.GhostTrain={}),(t=window.GhostTrain).editor_markdown_extensions||(t.editor_markdown_extensions=["ghostdown","github"]),(e=window.GhostTrain).editor_markdown||(e.editor_markdown=new Showdown.converter({extensions:window.GhostTrain.editor_markdown_extensions}))}.call(this),function(){var t,e;window.GhostTrain||(window.GhostTrain={}),(t=window.GhostTrain).preview_markdown_extensions||(t.preview_markdown_extensions=["github"]),(e=window.GhostTrain).preview_markdown||(e.preview_markdown=new Showdown.converter({extensions:window.GhostTrain.preview_markdown_extensions}))}.call(this),function(){var t,e;$("body").addClass("editor"),e=Ghost.Models.Post.prototype.parse,t=function(t){var n;return n=e(t),!n.html&&n.markdown&&(n.html=window.GhostTrain.preview_markdown.makeHtml(n.markdown)),n},Ghost.Models.Post.prototype.parse=t,Ghost.Views.Editor.prototype.initConverter=function(){return window.GhostTrain.editor_markdown}}.call(this),function(){var t=[].slice;window.HAML=function(){function e(){}return e.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;")},e.cleanValue=function(t){switch(t){case null:case void 0:return"";case!0:case!1:return""+t;default:return t}},e.extend=function(){var e,n,i,r,o,s,a;for(n=arguments[0],r=2<=arguments.length?t.call(arguments,1):[],s=0,a=r.length;a>s;s++){i=r[s];for(e in i)o=i[e],n[e]=o}return n},e.globals=function(){return{}},e.context=function(t){return this.extend({},e.globals(),t)},e.preserve=function(t){return t.replace(/\n/g,"&#x000A;")},e.findAndPreserve=function(t){var e;return e="textarea,pre".split(",").join("|"),t=t.replace(/\r/g,"").replace(RegExp("<("+e+")>([\\s\\S]*?)<\\/\\1>","g"),function(t,e,n){return"<"+e+">"+window.HAML.preserve(n)+"</"+e+">"})},e.surround=function(t,e,n){var i;return t+(null!=(i=n.call(this))?i.replace(/^\s+|\s+$/g,""):void 0)+e},e.succeed=function(t,e){var n;return(null!=(n=e.call(this))?n.replace(/\s+$/g,""):void 0)+t},e.precede=function(t,e){var n;return t+(null!=(n=e.call(this))?n.replace(/^\s+/g,""):void 0)},e.reference=function(t,e){var n,i,r,o;return i=e?e+"_":"",i+="function"==typeof t.hamlObjectRef?t.hamlObjectRef():((null!=(o=t.constructor)?o.name:void 0)||"object").replace(/\W+/g,"_").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase(),n="function"==typeof t.to_key?t.to_key():"function"==typeof t.id?t.id():t.id?t.id:t,r="class='"+i+"'",n?r+=" id='"+i+"_"+n+"'":void 0},e}()}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["tpls/post_settings_menu"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<form>\n  <table class='plain'>\n    <tr class='post-setting'>\n      <td class='post-setting-label'>\n        <label for='url'>URL</label>\n      </td>\n      <td class='post-setting-field'>\n        <input class='post-setting-slug' id='url' placeholder='' type='text' value=''>\n      </td>\n    </tr>\n    <tr class='post-setting'>\n      <td class='post-setting-label'>\n        <label for='pub-date'>Pub Date</label>\n      </td>\n      <td class='post-setting-field'>\n        <input class='post-setting-date' id='pub-date' placeholder='Now' type='text' value=''>\n      </td>\n    </tr>\n    <tr class='post-setting'>\n      <td class='post-setting-label'>\n        <span class='label'>Thumbnail Image</span>\n      </td>\n      <td class='post-setting-item'>\n        <div class='js-thumbnail-upload' id='"+e(t(this.id))+"'>"),this.thumbnail?n.push("          <a class='js-post-thumbnail' href='#'>\n            <img src='"+e(t(this.thumbnail))+"' alt='logo'>\n          </a>"):n.push("          <a class='button-add js-post-thumbnail'>\n            Upload Image\n          </a>"),n.push("        </div>\n      </td>\n    </tr>\n  </table>\n  <a class='delete' href='#'>Delete This Post</a>\n</form>"),n.join("\n").replace(/\s([\w-]+)='true'/gm," $1").replace(/\s([\w-]+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){JST["settings/post"]=JST["tpls/post_settings_menu"],Ghost.View.PostSettings.prototype.showUploadThumb=function(){var t,e,n,i;return e=this,t="thumbnail",n=this.model.attributes.thumbnail,i=new Ghost.Models.uploadModal({key:t,src:n,id:this.id,accept:{func:function(){var n;return n={},n[t]=this.$(".js-upload-url").val()?this.$(".js-upload-url").val():this.$(".js-upload-target").attr("src"),e.model.save(n),!0},buttonClass:"button-save right",text:"Save"}}),i.id=this.model.id,this.$("#"+this.model.id).data("filestorage",!0),this.addSubview(new Ghost.Views.Modal({model:i}))},Ghost.View.PostSettings.prototype.events["click .js-post-thumbnail"]="showUploadThumb"}.call(this);